<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è”¡ä¸°ç–Â·BAMBY å®‰åˆ©æ‰‹å†Œ</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --color-primary-light: #FFE8F0;
      --color-primary: #FFC2D6;
      --color-primary-dark: #FF9EBD;
      --color-gray-50: #FAFAFA;
      --color-gray-100: #F5F5F5;
      --color-gray-200: #EEEEEE;
      --color-gray-300: #E0E0E0;
      --color-gray-400: #BDBDBD;
      --color-gray-500: #9E9E9E;
      --color-gray-600: #757575;
      --color-gray-700: #616161;
      --color-gray-800: #424242;
      --color-gray-900: #212121;
      --color-white: #FFFFFF;
      --color-black: #000000;
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
      --radius-md: 10px;
      --radius-lg: 14px;
      --transition-normal: 0.25s ease;
      --font-heading: 'Ma Shan Zheng', cursive;
      --font-body: 'Noto Sans SC', sans-serif;
    }

    [data-theme="dark"] {
      --color-primary-light: #2A1A24;
      --color-primary: #4A2D3A;
      --color-primary-dark: #6A4050;
      --color-gray-50: #121111;
      --color-gray-100: #1E1E1E;
      --color-gray-200: #2A2A2A;
      --color-gray-300: #363636;
      --color-gray-400: #424242;
      --color-gray-500: #5A5A5A;
      --color-gray-600: #757575;
      --color-gray-700: #909090;
      --color-gray-800: #ABABAB;
      --color-gray-900: #C6C6C6;
      --color-white: #121212;
      --color-black: #FFFFFF;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 120px;
    }

    body {
      font-family: var(--font-body);
      background: var(--color-gray-50);
      color: var(--color-gray-800);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 24px;
      position: relative;
      z-index: 1;
    }

    /* ========= å…¨å±€æ¯›ç»ç’ƒæ•ˆæœ ========= */
    .glass-effect {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 194, 214, 0.15);
      box-shadow: var(--shadow-md);
      border-radius: var(--radius-lg);
    }

    [data-theme="dark"] .glass-effect {
      background: rgba(30, 30, 30, 0.85);
      border-color: rgba(106, 64, 80, 0.25);
    }

    /* ========= HEADER ========= */
    .main-header {
      position: sticky;
      top: 0;
      z-index: 1000;
      margin-bottom: 32px;
      padding: 20px 0 0;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 194, 214, 0.2);
      background: rgba(255, 255, 255, 0.85);
      position: relative;
      overflow: hidden;
    }

    .main-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, rgba(255, 240, 245, 0.9), rgba(255, 230, 240, 0.7)),
                  url('https://i.ibb.co/ns8WLb7P/Image-1769449627338.png') center/cover no-repeat;
      z-index: -1;
    }

    [data-theme="dark"] .main-header {
      background: rgba(30, 30, 30, 0.85);
      border-bottom-color: rgba(106, 64, 80, 0.4);
    }

    [data-theme="dark"] .main-header::before {
      background: linear-gradient(to bottom, rgba(42, 26, 36, 0.9), rgba(30, 30, 30, 0.7)),
                  url('https://i.ibb.co/ns8WLb7P/Image-1769449627338.png') center/cover no-repeat;
    }

    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 20px 20px;
      position: relative;
      gap: 30px;
    }

    .logo {
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      text-align: left;
      flex: 1;
      min-height: 100px;
      position: relative;
      z-index: 2;
    }

    .logo-text {
      font-family: var(--font-heading);
      font-size: 2.2rem;
      color: var(--color-primary-dark);
      letter-spacing: 2px;
      font-weight: normal;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(45deg, var(--color-primary-dark), #FF85B3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      position: relative;
      z-index: 3;
      animation: float 3s ease-in-out infinite;
    }

    .logo-sub {
      font-size: 0.95rem;
      color: var(--color-gray-600);
      font-weight: 400;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: var(--radius-md);
      border: 1px solid rgba(255, 194, 214, 0.3);
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 3;
    }

    [data-theme="dark"] .logo-sub {
      background: rgba(30, 30, 30, 0.6);
      color: var(--color-gray-300);
    }

    /* ========= å¯¼èˆªæ  ========= */
    .main-nav {
      display: flex;
      overflow-x: auto;
      padding: 16px 20px;
      gap: 10px;
      scrollbar-width: none;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-top: 1px solid rgba(255, 194, 214, 0.2);
      position: relative;
      z-index: 3;
    }

    .main-nav::-webkit-scrollbar {
      display: none;
    }

    .nav-item {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 194, 214, 0.3);
      border-radius: 50px;
      text-decoration: none;
      color: var(--color-gray-600);
      font-weight: 500;
      white-space: nowrap;
      transition: all var(--transition-normal);
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .nav-item:hover {
      transform: translateY(-2px);
      background: rgba(255, 194, 214, 0.2);
      border-color: var(--color-primary);
      color: var(--color-primary-dark);
      box-shadow: var(--shadow-sm);
    }

    .nav-item.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
      box-shadow: 0 4px 12px rgba(255, 158, 189, 0.3);
    }

    /* ========= åŠ è½½åŠ¨ç”» ========= */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--color-primary-light);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity var(--transition-normal);
      backdrop-filter: blur(20px);
    }

    .loading-spinner {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .loading-spinner div {
      margin-bottom: 20px;
      font-size: 4rem;
      color: var(--color-primary-dark);
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    .loading-spinner p {
      font-size: 1.3rem;
      color: var(--color-gray-700);
      font-weight: 500;
      margin-top: 10px;
      letter-spacing: 2px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .content-section {
      display: none;
    }
    
    .content-section.active {
      display: block;
    }
    
    /* ========= é€šç”¨æ ·å¼ ========= */
    .section-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255, 194, 214, 0.2);
      box-shadow: var(--shadow-sm);
    }

    .section-title {
      font-size: 1.8rem;
      color: var(--color-gray-900);
      margin-bottom: 10px;
      font-weight: 600;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(to right, var(--color-primary), var(--color-primary-dark));
      border-radius: 2px;
    }

    .profile-card {
      background: linear-gradient(135deg, 
                  rgba(255, 240, 245, 0.95) 0%,
                  rgba(255, 230, 240, 0.85) 50%,
                  rgba(255, 220, 235, 0.75) 100%);
      border-radius: var(--radius-lg);
      padding: 32px;
      box-shadow: var(--shadow-md);
      margin-bottom: 40px;
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      border: 1px solid rgba(255, 194, 214, 0.4);
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .profile-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
      border-color: rgba(255, 194, 214, 0.4);
    }

    .profile-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50,85 C70,70 85,50 85,30 C85,15 70,5 50,5 C30,5 15,15 15,30 C15,50 30,70 50,85 Z' fill='rgba(255, 194, 214, 0.1)'/%3E%3C/svg%3E");
      background-size: 120px;
      opacity: 0.3;
      z-index: 0;
    }

    .info-item {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 18px;
      border-radius: var(--radius-md);
      border-left: 4px solid var(--color-primary);
      transition: all var(--transition-normal);
    }

    .info-item:hover {
      transform: translateX(5px);
      background: rgba(255, 255, 255, 0.95);
      box-shadow: var(--shadow-sm);
    }
    
    .sub-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 32px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(15px);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      justify-content: center;
      border: 1px solid rgba(255, 194, 214, 0.2);
    }
    
    .sub-nav-btn {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 194, 214, 0.3);
      border-radius: 50px;
      color: var(--color-gray-600);
      cursor: pointer;
      transition: all var(--transition-normal);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .sub-nav-btn:hover {
      transform: translateY(-2px);
      background: rgba(255, 194, 214, 0.2);
      border-color: var(--color-primary);
      box-shadow: var(--shadow-sm);
    }
    
    .sub-nav-btn.active {
      background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
      border-color: var(--color-primary);
      color: var(--color-white);
      box-shadow: 0 4px 15px rgba(255, 158, 189, 0.3);
    }
    
    .sub-section {
      display: none;
      scroll-margin-top: 100px;
    }
    
    .sub-section.active {
      display: block;
    }
    
    .works-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 24px;
      margin-top: 24px;
    }
    
    .work-card {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: all var(--transition-normal);
      border: 1px solid var(--color-gray-200);
    }
    
    .work-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    
    .work-image-container {
      position: relative;
      width: 100%;
      height: 200px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .work-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .work-content {
      padding: 20px;
    }
    
    .work-title {
      color: var(--color-gray-900);
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 12px;
    }
    
    .work-meta {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .work-type {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .channels-section {
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 16px;
    }
    
    .channels-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 8px;
    }
    
    .channel-btn {
      padding: 12px 20px;
      border: none;
      border-radius: var(--radius-md);
      color: var(--color-white);
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
    }
    
    .channel-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
      opacity: 0.9;
    }
    
    .channel-btn.weibo {
      background: var(--color-gray-800);
    }
    
    .channel-btn.bilibili {
      background: var(--color-gray-700);
    }

    .channel-btn.youtube-link {
      background: #FF0000 !important;
      color: white !important;
    }

    /* ========= å›¾ç‰‡æŸ¥çœ‹å™¨ ========= */
    .image-viewer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }
    
    .image-viewer-overlay.active {
      display: flex;
    }
    
    .image-viewer {
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }
    
    .image-viewer img {
      max-width: 100%;
      max-height: 80vh;
      object-fit: contain;
      display: block;
    }
    
    .image-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2001;
    }
    
    .image-prev {
      left: 20px;
    }
    
    .image-next {
      right: 20px;
    }
    
    .image-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 2001;
    }
    
    .image-counter {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      background: rgba(0, 0, 0, 0.7);
      padding: 5px 15px;
      border-radius: 20px;
      z-index: 2001;
    }
    
    /* ========= é¡µè„š ========= */
    .main-footer {
      margin-top: 60px;
      background: var(--color-white);
      border-top: 1px solid var(--color-gray-200);
      padding: 40px 0 20px;
      text-align: center;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 32px;
      margin-bottom: 32px;
      justify-items: center;
    }
    
    .footer-section {
      text-align: center;
      max-width: 300px;
    }
    
    /* ========= è¿”å›é¡¶éƒ¨æŒ‰é’® ========= */
    .back-to-top {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 44px;
      height: 44px;
      background: var(--color-primary);
      color: var(--color-white);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: var(--shadow-md);
      display: none;
      z-index: 100;
      align-items: center;
      justify-content: center;
    }

    /* ========= é“¾æ¥æ ·å¼ ========= */
    .profile-link {
      padding: 12px;
      text-align: center;
      border-radius: var(--radius-md);
      text-decoration: none;
      font-weight: 500;
      transition: all var(--transition-normal);
      background: var(--color-gray-100);
      color: var(--color-gray-700);
      border: 1px solid transparent;
      display: block;
      width: 100%;
      margin-top: 10px;
      font-family: var(--font-body);
    }

    .profile-link:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      border-color: var(--color-primary);
      transform: translateY(-2px);
    }

    .profile-link i {
      margin-right: 8px;
    }
    
    /* ========= æ’åºæ§åˆ¶ ========= */
    .sort-controls {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
      padding: 10px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
    }
    
    .sort-btn {
      padding: 8px 16px;
      background: var(--color-gray-100);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      color: var(--color-gray-600);
      cursor: pointer;
      transition: all var(--transition-normal);
      font-size: 0.9rem;
    }
    
    .sort-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
    }
    
    /* ========= å·¥å…·ç±» ========= */
    .mb-4 {
      margin-bottom: 1rem;
    }
    
    .mt-4 {
      margin-top: 1rem;
    }
    
    .text-center {
      text-align: center;
    }
    
    .d-none {
      display: none !important;
    }

    /* ========= æ—¥ç¨‹è¡¨æ ·å¼ ========= */
    .schedule-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .schedule-card {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      margin-bottom: 20px;
      padding: 20px;
      display: flex;
      align-items: flex-start;
      border-left: 4px solid var(--color-primary);
      transition: all var(--transition-normal);
    }

    .schedule-card:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-lg);
    }

    .schedule-date {
      background: var(--color-primary-light);
      border-radius: var(--radius-md);
      padding: 15px;
      text-align: center;
      min-width: 100px;
      margin-right: 20px;
      flex-shrink: 0;
    }

    .schedule-day {
      font-size: 2rem;
      font-weight: 700;
      color: var(--color-primary-dark);
      line-height: 1;
    }

    .schedule-month {
      font-size: 0.9rem;
      color: var(--color-gray-600);
      margin: 5px 0;
      font-weight: 500;
    }

    .schedule-year {
      font-size: 0.8rem;
      color: var(--color-gray-500);
    }

    .schedule-content {
      flex: 1;
    }

    .schedule-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--color-gray-900);
      margin-bottom: 8px;
    }

    .schedule-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .schedule-time, .schedule-platform {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
      color: var(--color-gray-600);
    }

    .schedule-time i, .schedule-platform i {
      color: var(--color-primary);
    }

    .schedule-desc {
      color: var(--color-gray-700);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .schedule-card.past {
      opacity: 0.7;
      border-left-color: var(--color-gray-300);
    }

    .schedule-card.past .schedule-date {
      background: var(--color-gray-100);
    }

    .schedule-card.past .schedule-day {
      color: var(--color-gray-500);
    }

    .schedule-card.important {
      border-left-color: #FF6B6B;
      background: linear-gradient(to right, rgba(255, 107, 107, 0.05), var(--color-white));
    }

    .schedule-card.important .schedule-date {
      background: rgba(255, 107, 107, 0.1);
    }

    .schedule-card.important .schedule-day {
      color: #FF6B6B;
    }

    .schedule-type {
      display: inline-block;
      padding: 3px 8px;
      background: var(--color-gray-100);
      color: var(--color-gray-700);
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      margin-right: 8px;
    }

    .schedule-type.live {
      background: #E3F2FD;
      color: #1976D2;
    }

    .schedule-type.performance {
      background: #F3E5F5;
      color: #7B1FA2;
    }

    .schedule-type.meeting {
      background: #E8F5E9;
      color: #388E3C;
    }

    .schedule-type.release {
      background: #FFF3E0;
      color: #F57C00;
    }

    .schedule-empty {
      text-align: center;
      padding: 60px 20px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
    }

    .schedule-empty i {
      font-size: 3rem;
      color: var(--color-gray-300);
      margin-bottom: 20px;
    }

    .schedule-empty h3 {
      color: var(--color-gray-700);
      margin-bottom: 10px;
    }

    .schedule-empty p {
      color: var(--color-gray-500);
      max-width: 400px;
      margin: 0 auto;
    }

    .schedule-filters {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 8px 16px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      color: var(--color-gray-600);
      cursor: pointer;
      font-size: 0.9rem;
      transition: all var(--transition-normal);
    }

    .filter-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
    }

    .month-view {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      padding: 25px;
      margin-bottom: 30px;
    }

    .month-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }

    .month-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--color-gray-900);
    }

    .month-nav {
      display: flex;
      gap: 10px;
    }

    .month-nav-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-gray-100);
      border: none;
      color: var(--color-gray-600);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-normal);
    }

    .month-nav-btn:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .calendar-day-header {
      text-align: center;
      font-weight: 600;
      color: var(--color-gray-600);
      font-size: 0.9rem;
      padding: 10px 0;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-normal);
      position: relative;
      font-size: 0.9rem;
    }

    .calendar-day.empty {
      background: transparent;
      cursor: default;
    }

    .calendar-day.today {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      font-weight: 600;
    }

    .calendar-day.has-event {
      background: var(--color-primary);
      color: var(--color-white);
      font-weight: 600;
    }

    .calendar-day:hover:not(.empty) {
      transform: scale(1.1);
      box-shadow: var(--shadow-sm);
    }

    .event-dot {
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      background: #FF6B6B;
      border-radius: 50%;
    }

    .event-dot.important {
      background: #FF6B6B;
    }

    .event-dot.live {
      background: #4CAF50;
    }

    .event-dot.performance {
      background: #9C27B0;
    }
    
    /* ========= è§†é¢‘æ’­æ”¾å™¨ ========= */
    .video-player-container {
      position: relative;
      width: 100%;
      background: #000;
      border-radius: 8px;
      overflow: hidden;
    }

    .video-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      height: 0;
    }

    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      z-index: 1;
    }

    .video-wrapper.playing iframe {
      z-index: 3;
    }

    .video-info-overlay {
      position: absolute;
      bottom: 10px;
      right: 10px;
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .video-quality, .video-duration {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.75rem;
    }

    /* ========= è§†é¢‘ç›¸å…³ ========= */
    .original-links {
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      padding: 15px;
      margin: 15px 0;
      border-left: 3px solid var(--color-primary);
    }

    .original-links h4 {
      color: var(--color-gray-700);
      margin-bottom: 10px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .link-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .link-note {
      color: var(--color-gray-500);
      font-size: 0.8rem;
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .video-description {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid var(--color-gray-200);
    }

    .video-stats {
      display: flex;
      gap: 15px;
      margin-top: 10px;
      font-size: 0.85rem;
      color: var(--color-gray-600);
    }

    .video-stats span {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* ========= è§†é¢‘å°é¢ç‚¹å‡»æ’­æ”¾ ========= */
    .video-poster {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      cursor: pointer;
      z-index: 2;
      transition: opacity 0.3s ease;
    }

    .poster-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .play-button {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: var(--color-primary-dark);
      cursor: pointer;
      font-size: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .play-button:hover {
      transform: scale(1.1);
      background: white;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .play-text {
      color: white;
      font-size: 1rem;
      font-weight: 500;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
      background: rgba(0, 0, 0, 0.6);
      padding: 5px 15px;
      border-radius: 20px;
    }

    .video-poster.hidden {
      opacity: 0;
      pointer-events: none;
      z-index: 1;
    }

    /* ========= ä¾§è¾¹æ§åˆ¶é¢æ¿ ========= */
    .side-control {
      position: fixed;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      z-index: 2000;
      cursor: move;
    }

    .control-handle {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
      color: white;
      border: none;
      font-size: 1.3rem;
      cursor: pointer;
      box-shadow: 0 4px 20px rgba(255, 158, 189, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      user-select: none;
      transition: all 0.3s ease;
      z-index: 2001;
    }

    .control-handle:hover {
      transform: scale(1.1) rotate(30deg);
      box-shadow: 0 6px 25px rgba(255, 158, 189, 0.6);
    }

    .control-panel {
      position: absolute;
      top: 50%;
      right: 60px;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 16px;
      padding: 20px;
      width: 220px;
      box-shadow: var(--shadow-lg);
      display: none;
      flex-direction: column;
      gap: 15px;
      border: 1px solid rgba(255, 194, 214, 0.3);
      z-index: 2000;
      animation: slideIn 0.3s ease;
    }

    .control-panel.active {
      display: flex;
    }

    .control-item {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 0.95rem;
      color: var(--color-gray-800);
      cursor: pointer;
      padding: 8px 0;
      border-bottom: 1px solid rgba(255, 194, 214, 0.1);
    }

    .control-item:last-child {
      border-bottom: none;
    }

    .control-item input[type="checkbox"] {
      width: 18px;
      height: 18px;
      border: 2px solid var(--color-primary);
      border-radius: 4px;
      cursor: pointer;
      accent-color: var(--color-primary);
    }

    .control-close {
      align-self: flex-end;
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--color-gray-500);
      cursor: pointer;
      transition: color 0.2s;
      padding: 5px;
      line-height: 1;
    }

    .control-close:hover {
      color: var(--color-primary-dark);
    }

    /* ========= é£˜è½ç‰¹æ•ˆ ========= */
    #snowContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
      overflow: hidden;
    }

    /* ========= ç§»åŠ¨ç«¯åº•éƒ¨æ§åˆ¶æ¡ ========= */
    .mobile-control-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255, 194, 214, 0.3);
      display: flex;
      justify-content: space-around;
      padding: 12px;
      z-index: 1000;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      display: none;
    }

    .mobile-control-btn {
      background: none;
      border: none;
      padding: 12px;
      color: var(--color-gray-700);
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      border-radius: 50%;
      width: 48px;
      height: 48px;
    }
    
    .mobile-control-btn:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      transform: translateY(-3px);
    }

    .mobile-control-btn.active {
      background: var(--color-primary);
      color: white;
    }

    /* ========= å¢åŠ å†…å®¹é—´è·é¿å…åº•éƒ¨æ§åˆ¶æ¡é®æŒ¡ ========= */
    .content-wrapper {
      padding-bottom: 80px !important;
    }

    /* æ·±è‰²æ¨¡å¼é€‚é… */
    [data-theme="dark"] .mobile-control-bar {
      background: rgba(30, 30, 30, 0.98);
      border-top-color: rgba(106, 64, 80, 0.3);
    }

    [data-theme="dark"] .mobile-control-btn {
      color: var(--color-gray-300);
    }
    
    /* ========= åŠ¨ç”»å…³é”®å¸§ ========= */
    @keyframes heartbeat {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-50%) translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateY(-50%) translateX(0);
      }
    }

    /* ========= è‡ªå®šä¹‰å›¾ç‰‡é£˜è½æ•ˆæœ ========= */
    @keyframes float-image {
      0% {
        transform: translateY(0) rotate(0deg);
        opacity: 0.8;
      }
      100% {
        transform: translateY(calc(100vh + 100px)) rotate(360deg);
        opacity: 0;
      }
    }

    /* ========= ç‚¹å‡»ç²’å­æ•ˆæœ ========= */
    @keyframes particle-explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        transform: scale(1) translate(var(--tx), var(--ty));
        opacity: 0;
      }
    }

    /* ========= ç§»åŠ¨ç«¯é€‚é… ========= */
    @media (max-width: 768px) {
      .container {
        padding: 0 16px;
      }
      
      .header-content {
        flex-direction: column;
        gap: 20px;
        text-align: center;
        padding: 0 16px 20px;
      }
      
      .logo {
        align-items: center;
        text-align: center;
        min-height: auto;
      }
      
      .main-nav {
        padding: 12px 16px;
        gap: 6px;
        justify-content: flex-start;
      }
      
      .nav-item {
        padding: 10px 16px;
        font-size: 0.9rem;
      }
      
      .content-wrapper {
        padding: 20px;
        margin: 10px 0;
      }
      
      .section-header {
        padding: 15px;
        margin-bottom: 25px;
      }
      
      .profile-card {
        flex-direction: column;
        padding: 20px;
        gap: 20px;
      }
      
      .works-grid {
        grid-template-columns: 1fr;
      }
      
      .sub-nav {
        padding: 15px;
        gap: 8px;
      }
      
      .sub-nav-btn {
        padding: 10px 16px;
        font-size: 0.9rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
      
      .side-control {
        display: none;
      }
      
      .control-panel {
        display: none !important;
      }
      
      .mobile-control-bar {
        display: flex;
      }
      
      .image-nav {
        width: 40px;
        height: 40px;
        font-size: 1rem;
      }
      
      .image-prev {
        left: 10px;
      }
      
      .image-next {
        right: 10px;
      }
      
      .back-to-top {
        bottom: 70px;
        right: 20px;
      }
      
      .schedule-card {
        flex-direction: column;
      }
      
      .schedule-date {
        margin-right: 0;
        margin-bottom: 15px;
        width: 100%;
      }
      
      .calendar-grid {
        gap: 4px;
      }
      
      .calendar-day {
        font-size: 0.8rem;
      }
      
      .link-buttons {
        flex-direction: column;
      }
      
      .link-buttons .channel-btn {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .logo-text {
        font-size: 1.8rem;
      }
      
      .logo-sub {
        font-size: 0.85rem;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .control-handle {
        width: 45px;
        height: 45px;
        font-size: 1.2rem;
      }
      
      .control-panel {
        width: 180px;
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <!-- åŠ è½½åŠ¨ç”» -->
  <div class="loading-overlay" id="loading">
    <div class="loading-spinner">
      <div><i class="fas fa-heart"></i></div>
      <p>åŠ è½½ä¸­...</p>
    </div>
  </div>

  <!-- å›¾ç‰‡æŸ¥çœ‹å™¨ -->
  <div class="image-viewer-overlay" id="imageViewer">
    <button class="image-close" onclick="closeImageViewer()">Ã—</button>
    <button class="image-nav image-prev" onclick="prevImage()">â€¹</button>
    <div class="image-viewer"><img id="viewerImage" src="" alt=""></div>
    <button class="image-nav image-next" onclick="nextImage()">â€º</button>
    <div class="image-counter" id="imageCounter">1 / 5</div>
  </div>

  <!-- é£˜è½å®¹å™¨ -->
  <div id="snowContainer"></div>

  <div class="container">
    <!-- HEADER åŒºåŸŸ -->
    <header class="main-header glass-effect">
      <div class="header-content">
        <div class="logo">
          <h1 class="logo-text">è”¡ä¸°ç–Â·BAMBY</h1>
          <p class="logo-sub">å®‰åˆ©æ‰‹å†Œ | èµ„æºæ±‡æ€»</p>
        </div>
      </div>
      <nav class="main-nav">
        <a href="#personal" class="nav-item active" data-tab="personal"><i class="fas fa-user"></i><span>ä¸ªäººä¿¡æ¯</span></a>
        <a href="#anli" class="nav-item" data-tab="anli"><i class="fas fa-star"></i><span>å®‰åˆ©å‘</span></a>
        <a href="#materials" class="nav-item" data-tab="materials"><i class="fas fa-images"></i><span>ç‰©æ–™æ±‡æ€»</span></a>
        <a href="#schedule" class="nav-item" data-tab="schedule"><i class="fas fa-calendar-alt"></i><span>è¡Œç¨‹æ—¥ç¨‹</span></a>
        <a href="#others" class="nav-item" data-tab="others"><i class="fas fa-ellipsis-h"></i><span>å…¶ä»–</span></a>
      </nav>
    </header>

    <!-- ç§»åŠ¨ç«¯åº•éƒ¨æ§åˆ¶æ¡ -->
    <div class="mobile-control-bar">
      <button class="mobile-control-btn" onclick="toggleTheme()">
        <i class="fas fa-palette"></i>
      </button>
      <button class="mobile-control-btn" onclick="toggleBGM()">
        <i class="fas fa-music"></i>
      </button>
      <button class="mobile-control-btn" onclick="toggleSnow()">
        <i class="fas fa-heart"></i>
      </button>
      <button class="mobile-control-btn" onclick="scrollToTop()">
        <i class="fas fa-arrow-up"></i>
      </button>
    </div>

    <!-- BEGIN MAIN CONTENT -->
    <main class="content-wrapper">
      <!-- ä¸ªäººä¿¡æ¯éƒ¨åˆ† -->
      <section id="personal" class="content-section active">
        <div class="section-header">
          <h2 class="section-title">ä¸ªäººä¿¡æ¯</h2>
          <p class="section-subtitle">è”¡ä¸°ç– | è”¡æ–‘æ¯”</p>
        </div>
        <div class="profile-card">
          <div class="profile-image-container">
            <img src="https://i.ibb.co/xSPTsw5B/img-1769293823449d8bfeac6b14d3a26a24242315f8fa5ac25202942436be088bb2339330656e9af.jpg" 
                 alt="è”¡ä¸°ç– Bamby" 
                 style="width:100%;border-radius:var(--radius-md);">
            <a href="https://weibo.com/u/5143372154" target="_blank" class="profile-link">
              <i class="fab fa-weibo"></i>
              é¹¿ç«™ä¸»é¡µ
            </a>
          </div>
          <div class="profile-info">
            <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;width:100%;">
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">å§“å</div>
                <div>è”¡ä¸°ç– / Bamby / ë°¤ë¹„ / ãƒãƒ³ãƒ“</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">ç”Ÿæ—¥</div>
                <div>2002å¹´7æœˆ15æ—¥</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">æ˜Ÿåº§</div>
                <div>å·¨èŸ¹åº§</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">èº«é«˜</div>
                <div>174cm</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">è¡€å‹</div>
                <div>Bå‹</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">MBTI</div>
                <div>INFP-T â†’ INTP â†’ </div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">å®šä½</div>
                <div>Dance, Vocal</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">æ ‡å¿—</div>
                <div>é¹¿ï¼Œç²‰çº¢è‰²çˆ±å¿ƒ</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">æ˜µç§°</div>
                <div>å°å¯çˆ±</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">å¹¸è¿æ•°</div>
                <div>3</div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- å®‰åˆ©å‘éƒ¨åˆ† -->
      <section id="anli" class="content-section">
        <div class="section-header">
          <h2 class="section-title">å®‰åˆ©å‘</h2>
          <p class="section-subtitle">ç¿»å”±ã€ç¿»è·³ã€èˆå°ç›´æ‹</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="covers">
            <i class="fas fa-microphone"></i>
            ç¿»å”±ä½œå“
          </button>
          <button class="sub-nav-btn" data-subtab="dance">
            <i class="fas fa-running"></i>
            ç¿»è·³ä½œå“
          </button>
          <button class="sub-nav-btn" data-subtab="stage">
            <i class="fas fa-video"></i>
            èˆå°ç›´æ‹
          </button>
        </div>
        
        <!-- ç¿»å”±ä½œå“ -->
        <div class="sub-section active" data-subtab="covers">
          <h3 class="section-title mb-4">ğŸ¤ ç¿»å”±ä½œå“</h3>
          <div class="sort-controls" id="covers-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
          </div>
          <div class="works-grid" id="covers-works-grid">
            <!-- ç¿»å”±ä½œå“å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>
        
        <!-- ç¿»è·³ä½œå“ -->
        <div class="sub-section" data-subtab="dance">
          <h3 class="section-title mb-4">ğŸ’ƒ ç¿»è·³ä½œå“</h3>
          <div class="sort-controls" id="dance-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
          </div>
          <div class="works-grid" id="dance-works-grid">
            <!-- ç¿»è·³ä½œå“å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>
        
        <!-- ç›´æ‹è§†é¢‘åŒºåŸŸ -->
        <div class="sub-section" data-subtab="stage">
          <h3 class="section-title mb-4">ğŸ¬ èˆå°ç›´æ‹</h3>
          <div class="sort-controls" id="stage-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
          </div>
          <div class="works-grid" id="stage-works-grid">
            <!-- ç›´æ‹è§†é¢‘å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>
      </section>
      
      <!-- ç‰©æ–™æ±‡æ€»éƒ¨åˆ† -->
      <section id="materials" class="content-section">
        <div class="section-header">
          <h2 class="section-title">ç‰©æ–™æ±‡æ€»</h2>
          <p class="section-subtitle">å›å½’æ¦‚å¿µç…§ã€å®˜æ–¹wvsã€insç…§ç‰‡ã€ç›´æ’­å¹•åä¸ªäººç…§ã€å¹•åèŠ±çµ®ï¼ˆå¾…è§£é”ï¼‰</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="concept">
            <i class="fas fa-camera"></i>
            å›å½’ç…§
          </button>
          <button class="sub-nav-btn" data-subtab="photos">
            <i class="fas fa-crown"></i>  
            å®˜æ–¹ç…§ç‰‡
          </button>
          <button class="sub-nav-btn" data-subtab="personal-photos">
            <i class="fas fa-user-circle"></i>
            ä¸ªäººç…§
          </button>
          <button class="sub-nav-btn" data-subtab="magazine">
            <i class="fas fa-newspaper"></i>
            æ‚å¿—ä¸“åŒº
          </button>
          <button class="sub-nav-btn" data-subtab="personal-mimu">
            <i class="fas fa-star"></i>
            å’ªå§†ç…§ç‰‡
          </button>
          <button class="sub-nav-btn" data-subtab="behind">
            <i class="fas fa-video"></i>
            å¹•åèŠ±çµ®
          </button>
        </div>
        
        <!-- å›å½’ç…§ -->
        <div class="sub-section active" data-subtab="concept">
          <h3 class="section-title mb-4">ğŸ“¸ å›å½’ç…§</h3>
          <div class="sort-controls" id="concept-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
          </div>
          <div class="works-grid" id="concept-works-grid">
            <!-- å›å½’ç…§å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>

        <div class="sub-section" data-subtab="photos">
          <h3 class="section-title mb-4">ğŸ“¸ å®˜æ–¹ç…§</h3>
          <div class="sort-controls" id="photos-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
          </div>
         <div class="works-grid" id="photos-works-grid">
           <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
         </div>
       </div>

        <!-- ä¸ªäººç…§ -->
    <div class="sub-section" data-subtab="personal-photos">
        <h3 class="section-title mb-4">ğŸ“· ä¸ªäººç…§</h3>
        <div class="sort-controls" id="personal-photos-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
        </div>
        <div class="works-grid" id="personal-photos-works-grid">
            <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

        <!-- æ‚å¿—ä¸“åŒº -->
    <div class="sub-section" data-subtab="magazine">
        <h3 class="section-title mb-4">ğŸ“° æ‚å¿—ä¸“åŒº</h3>
        <div class="sort-controls" id="magazine-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
        </div>
        <div class="works-grid" id="magazine-works-grid">
            <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

        <!-- å’ªå§†ç…§ç‰‡ -->
    <div class="sub-section" data-subtab="personal-mimu">
        <h3 class="section-title mb-4">â­ å’ªå§†ç…§ç‰‡</h3>
        <div class="sort-controls" id="mimu-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">æœ€æ–°åœ¨å‰</button>
            <button class="sort-btn" data-sort="date-asc">æœ€æ—§åœ¨å‰</button>
            <button class="sort-btn" data-sort="title-asc">æŒ‰æ ‡é¢˜æ’åº</button>
        </div>
        <div class="works-grid" id="mimu-works-grid">
            <!-- å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    </div>

         <!-- å¹•åèŠ±çµ® -->
    <div class="sub-section" data-subtab="behind">
        <h3 class="section-title mb-4">ğŸ¬ å¹•åèŠ±çµ®</h3>
        <div class="works-grid">
            <div class="work-card">
                <div class="work-content">
                    <h3 class="work-title">å¹•åèŠ±çµ®åˆé›†</h3>
                    <p class="work-desc">å½•åˆ¶ç°åœºã€æ’ç»ƒã€é‡‡è®¿ç­‰å¹•åå†…å®¹</p>
                    <button class="channel-btn weibo" style="width: 100%;" onclick="showToast('åŠŸèƒ½å¼€å‘ä¸­')">
                        <i class="fas fa-spinner"></i>
                        æŸ¥çœ‹èŠ±çµ®ï¼ˆå¼€å‘ä¸­ï¼‰
                    </button>
                </div>
            </div>
        </div>
    </div>
        <!-- å…¶ä»–ç‰©æ–™å­éƒ¨åˆ†å¯è¡¥å……åœ¨è¿™ -->
      </section>

      <!-- è¡Œç¨‹æ—¥ç¨‹éƒ¨åˆ† -->
      <section id="schedule" class="content-section">
        <div class="section-header">
          <h2 class="section-title">BAMBYæ—¥ç¨‹</h2>
          <p class="section-subtitle">ä¸ªäººç›¸å…³æ´»åŠ¨æ—¶é—´è¡¨</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="upcoming">
            <i class="fas fa-clock"></i>
            è¿‘æœŸè¡Œç¨‹
          </button>
          <button class="sub-nav-btn" data-subtab="monthly">
            <i class="fas fa-calendar"></i>
            æœˆåº¦è§†å›¾
          </button>
          <button class="sub-nav-btn" data-subtab="past">
            <i class="fas fa-history"></i>
            è¿‡å¾€è®°å½•
          </button>
        </div>
        
        <!-- è¿‘æœŸè¡Œç¨‹ -->
        <div class="sub-section active" data-subtab="upcoming">
          <div class="schedule-filters">
            <button class="filter-btn active" data-filter="all">å…¨éƒ¨</button>
            <button class="filter-btn" data-filter="live">ç›´æ’­</button>
            <button class="filter-btn" data-filter="performance">æ¼”å‡º</button>
          </div>
          
          <div class="schedule-container" id="upcoming-schedule">
            <!-- è¿‘æœŸè¡Œç¨‹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
          
          <div class="official-link mt-4" style="text-align: center;">
            <p style="color: var(--color-gray-500); margin-bottom: 10px; font-size: 0.9rem;">
              <i class="fas fa-info-circle"></i> æ—¥ç¨‹å¯èƒ½ä¸´æ—¶è°ƒæ•´ï¼Œè¯·ä»¥å®˜æ–¹é€šçŸ¥ä¸ºå‡†
            </p>
            <a href="https://plavecalendar.com/" target="_blank" class="channel-btn weibo" style="display: inline-block; max-width: 300px;">
              <i class="fas fa-external-link-alt"></i>
              æŸ¥çœ‹å®˜æ–¹å®Œæ•´æ—¥ç¨‹
            </a>
          </div>
        </div>

        <!-- æœˆåº¦è§†å›¾ -->
        <div class="sub-section" data-subtab="monthly">
          <div class="month-view">
            <div class="month-header">
              <h3 class="month-title" id="monthTitle">2026å¹´ 1æœˆ</h3>
              <div class="month-nav">
                <button class="month-nav-btn" id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                <button class="month-nav-btn" id="nextMonth"><i class="fas fa-chevron-right"></i></button>
              </div>
            </div>
            
            <div class="calendar-grid" id="calendarGrid">
              <!-- æ—¥å†å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
          </div>
          
          <div class="schedule-container">
            <h3 class="section-title mb-4" style="text-align: center;">æœ¬æœˆé‡ç‚¹æ—¥ç¨‹</h3>
            <div id="monthly-schedule">
              <!-- æœˆåº¦é‡ç‚¹æ—¥ç¨‹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
          </div>
        </div>

        <!-- è¿‡å¾€è®°å½• -->
        <div class="sub-section" data-subtab="past">
          <div class="schedule-container" id="past-schedule">
            <!-- è¿‡å¾€è®°å½•å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
          </div>
        </div>
      </section>
      
      <!-- å…¶ä»–éƒ¨åˆ† -->
      <section id="others" class="content-section">
        <div class="section-header">
          <h2 class="section-title">å…¶ä»–</h2>
          <p class="section-subtitle">é“¾æ¥æ•´ç†ã€ç¤¾åŒºç›¸å…³ã€æ›´å¤šä¿¡æ¯</p>
        </div>
        <div class="works-grid">
          <div class="work-card">
            <div class="work-content">
              <h3 class="work-title">é‡è¦é“¾æ¥</h3>
              <div style="margin-top:1rem;">
                <div class="info-item">
                  <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">å¾®åšè¶…è¯</div>
                  <div>
                    <a href="http://t.cn/AXyOGz13" target="_blank" style="color: var(--color-primary-dark); text-decoration: none;">
                      é¹¿è¶…
                    </a>
                  </div>
                </div>
                <div class="info-item">
                  <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">PLAVEå®˜æ–¹</div>
                  <div>
                    <a href="https://weibo.com/u/7825391749" target="_blank" style="color: var(--color-primary-dark); text-decoration: none;">
                      å¾®åšä¸»é¡µ
                    </a>
                    <a href="https://space.bilibili.com/3493141629896727?spm_id_from=333.337.0.0" target="_blank" style="color: var(--color-primary-dark); text-decoration: none; margin-left:10px;">
                      bç«™ä¸»é¡µ
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <footer class="main-footer">
        <div class="footer-content">
          <div class="footer-section">
            <h4>è”¡ä¸°ç–Â·BAMBY å®‰åˆ©æ‰‹å†Œ</h4>
            <p>ç²‰ä¸è‡ªåˆ¶éå®˜æ–¹ç«™ç‚¹</p>
          </div>
          <div class="footer-section">
            <h4>å£°æ˜</h4>
            <p>æ‰€æœ‰èµ„æºå‡æ¥æºäºç½‘ç»œ</p>
            <p>ä»…ä¾›ç²‰ä¸äº¤æµä½¿ç”¨</p>
          </div>
          <div class="footer-section">
            <h4>æ¬¢è¿æ‰è™«</h4>
            <p>æœ‰é—®é¢˜è¯·è”ç³»å¾®åšé¹¿ç«™</p>
          </div>
        </div>
        <div class="footer-bottom">
          <p>Made with <i class="fas fa-heart" style="color: var(--color-primary-dark);"></i> by Bamby Fans</p>
          <p style="margin-top: 8px; font-size: 0.8rem;">æœ€åæ›´æ–°ï¼š2026å¹´01æœˆ</p>
        </div>
      </footer>
    </main>
  </div>

  <!-- ä¾§è¾¹æ§åˆ¶é¢æ¿ -->
  <div class="side-control" id="sideControl">
    <button class="control-handle" id="controlHandle">
      <i class="fas fa-cog"></i>
    </button>
    <div class="control-panel" id="controlPanel">
      <h4 style="margin:0 0 12px; font-size:1rem; color:var(--color-gray-900);">Êšâ‘…É äº’åŠ¨è®¾ç½®</h4>
      <label class="control-item">
        <input type="checkbox" id="bgmToggle"> èƒŒæ™¯éŸ³ä¹
      </label>
      <label class="control-item">
        <input type="checkbox" id="snowToggle"> çˆ±å¿ƒé£˜è½
      </label>
      <button class="control-close" id="controlClose">Ã—</button>
    </div>
  </div>

  <!-- éŸ³é¢‘ -->
  <audio id="bgmPlayer" loop>
    <source src="https://image2url.com/r2/default/audio/1769488066461-66d083fc-5858-4c83-9acb-3153691a8481.mp3" type="audio/mpeg">
  </audio>

  <script>
    // ========== æ•°æ®å®šä¹‰ ==========
    const floatingImages = [
      'https://s2.loli.net/2026/01/27/4pKMzZ6UxWYhG2F.png',
      'https://s2.loli.net/2026/01/27/9mQh8zJkL6X4vGw.png',
      'https://s2.loli.net/2026/01/27/V7yKjqkfXp8M6Za.png',
      'https://s2.loli.net/2026/01/27/rTcV3fUxzN9SJbG.png',
      'https://s2.loli.net/2026/01/27/dsQ9WYKF6njkpL5.png'
    ];

    const imageGalleries = {
      'concept-set-8': [
        'https://s2.loli.net/2026/01/25/e3Kz98cW7kmAops.jpg',
        'https://s2.loli.net/2026/01/25/NtBSZe8TlLmPRFW.jpg',
        'https://s2.loli.net/2026/01/25/3LcUXRiten9gbGV.jpg',
        'https://s2.loli.net/2026/01/25/iG7NMtmCnyrfp8S.jpg',
        'https://s2.loli.net/2026/01/25/fb8KqsMSACw2NTa.jpg',
        'https://s2.loli.net/2026/01/25/Q9R6ugTX1m7jGnh.jpg',
        'https://s2.loli.net/2026/01/25/L9OIpg18oJeDFES.jpg'
      ],
      'concept-set-7': [
        'https://s2.loli.net/2026/01/25/CMv1Z9AoOJHbhLW.jpg',
        'https://s2.loli.net/2026/01/25/FTxwZkqOCK1j7rc.jpg',
        'https://s2.loli.net/2026/01/25/PyCvQT1JUF3lAhr.jpg'
      ],
      'concept-set-1': [
        'https://s2.loli.net/2026/01/25/dg7v5itPwUnzmLf.jpg',
        'https://s2.loli.net/2026/01/25/vEIe9qHDTkCa6gh.jpg',
        'https://s2.loli.net/2026/01/25/P7yzmhsMVf4CwEF.jpg',
        'https://s2.loli.net/2026/01/25/A5XuNMat8d6Kw7W.jpg',
        'https://s2.loli.net/2026/01/25/wfq86iubnxVagFJ.jpg'
      ],
  'photos-set-1': [
    'https://s2.loli.net/2026/01/25/MIfmSEKOt7y6Ghr.jpg',
    'https://s2.loli.net/2026/01/25/9xhGIrSFCL8Um53.jpg',
    'https://s2.loli.net/2026/01/25/UClxQ216huqWimL.jpg',
    'https://s2.loli.net/2026/01/25/FqIj34evdLJDpl9.jpg'
  ],
  'photos-set-2': [
    'https://s2.loli.net/2026/01/25/jSgfpGxNKqluwEH.jpg',
    'https://s2.loli.net/2026/01/25/Jg9BtyNAHuWOvi7.jpg',
    'https://s2.loli.net/2026/01/25/m1v8NLuVyc9OUMk.jpg',
    'https://s2.loli.net/2026/01/25/xGJbhnQFeSYv3gz.jpg'
  ],
  'personal-set-2': [
    'https://s2.loli.net/2026/01/25/J127SlwpWBZviOM.jpg',
    'https://s2.loli.net/2026/01/25/24OmhqIxXsFPLkp.jpg',
    'https://s2.loli.net/2026/01/25/VjaqsuCYdTv5JFL.jpg',
    'https://s2.loli.net/2026/01/25/IPTGe9K2ZSOnhxv.jpg',
    'https://s2.loli.net/2026/01/25/WaYRBUyHP3xwr1D.jpg',
    'https://s2.loli.net/2026/01/25/sxFKdDichwuRa35.jpg',
    'https://s2.loli.net/2026/01/25/Af1yLSp2Ksqvcib.jpg',
    'https://s2.loli.net/2026/01/25/HPyDMIz1g4ZA37n.jpg',
    'https://s2.loli.net/2026/01/25/eWuZD5KwBb2HNIy.jpg',
    'https://s2.loli.net/2026/01/25/tSTsWyoKRbic3I5.jpg',
    'https://s2.loli.net/2026/01/25/8NCMinDx1mSTu96.jpg'
  ],
  'personal-set-3': [
    'https://s2.loli.net/2026/01/25/1Gqa5694gvIRSB8.jpg',
    'https://s2.loli.net/2026/01/25/eHTF7zSQUtWi5uv.jpg',
    'https://s2.loli.net/2026/01/25/u52svHCTj8V1PER.jpg',
    'https://s2.loli.net/2026/01/25/2PoLecsj7E1OZhI.jpg',
    'https://s2.loli.net/2026/01/25/w7LdWobmgkaDGzu.jpg',
    'https://s2.loli.net/2026/01/25/vjN436qlZ8wJKSB.jpg',
    'https://s2.loli.net/2026/01/25/TxesEKiqbNPlXM7.jpg',
    'https://s2.loli.net/2026/01/25/juVg3KNcXdysYQr.jpg',
    'https://s2.loli.net/2026/01/25/As6Wdet9rubxGTV.jpg',
    'https://s2.loli.net/2026/01/25/Uf9qOjbW2IkSvnw.jpg',
    'https://s2.loli.net/2026/01/25/GAH4OMQpobN9TPl.jpg',
    'https://s2.loli.net/2026/01/25/z4RvStYFM1eq28f.jpg',
    'https://s2.loli.net/2026/01/25/KP4eIhpXo8qvy9f.jpg',
    'https://s2.loli.net/2026/01/25/AlmCbzPh3BMjvYg.jpg',
    'https://s2.loli.net/2026/01/25/WF3PaXG2sIcYivB.jpg',
    'https://s2.loli.net/2026/01/25/GBTzJdHVLPWa6C5.jpg'
  ],
  'magazine-set-1': [
    'https://s2.loli.net/2026/01/25/sdg9ZGuFfJc5Y6N.jpg',
    'https://s2.loli.net/2026/01/25/yFtR6KfxoZTm7wM.jpg',
    'https://s2.loli.net/2026/01/25/fbhsR9ILqZP3KAH.jpg',
    'https://s2.loli.net/2026/01/25/LiF3e9gBfhTbnjw.jpg',
    'https://s2.loli.net/2026/01/25/ZCrqUSsdWKFyJBl.jpg'
  ],
  'mimu-set-1': [
    'https://s2.loli.net/2026/01/25/pXZ5rdAtGcOe7a9.jpg',
    'https://s2.loli.net/2026/01/25/8x9tCavqpjSzKod.jpg'
  ],
  'mimu-set-2': [
    'https://s2.loli.net/2026/01/25/c7q1LkihZWAe4Hp.jpg',
    'https://s2.loli.net/2026/01/25/2fqNiPQb4LBO5t8.jpg'
  ]
    };

    const coversData = [
      {
        title: "I'm Not Alone",
        date: "2025-07-19",
        image: "https://s2.loli.net/2026/01/27/bnpUgqP1LfR2xSQ.jpg",
        desc: "åŸå”±ï¼šå¾è‹±æ©",
        links: {
          weibo: "https://weibo.com/7825391749/PBNGb28Bn",
          bilibili: "https://www.bilibili.com/video/BV1Wou1z5EdA/?spm_id_from=333.1387.search.video_card.click"
        }
      },
      {
        title: "The Little Prince",
        date: "2025-03-03",
        image: "https://s2.loli.net/2026/01/27/yMrgH5EzLiAXdeb.jpg",
        desc: "åŸå”±ï¼šå‰æ—­ï¼ˆRYEOWOOKï¼‰",
        links: {
          weibo: "https://weibo.com/7825391749/PgRs849eh",
          bilibili: "https://www.bilibili.com/video/BV1BN95Y5ENB/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
        title: "Pretender",
        date: "2024-07-17",
        image: "https://s2.loli.net/2026/01/25/gPZi4UANfMchabo.jpg",
        desc: "åŸå”±: Officialé«­ç”·dism",
        links: {
          weibo: "https://weibo.com/7825391749/Oo038pXcq",
          bilibili: "https://www.bilibili.com/video/BV1fE421c7hq/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      }
    ];

    const danceData = [
      {
        title: "å§å§çœŸæ¼‚äº®ï¼ˆæ¨ªç‰ˆï¼‰",
        date: "2023-07-10",
        image: "https://s2.loli.net/2026/01/25/eqTrixRBC4FIHPU.jpg",
        desc: "ã€Šëˆ„ë‚œë„ˆë¬´ì˜ˆë»(Replay) ã€‹ - SHINee",
        links: {
          weibo: "http://t.cn/A6041BZL",
          bilibili: "https://www.bilibili.com/video/BV1JW4y1o7Ri/?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
        title: "å§å§çœŸæ¼‚äº®ï¼ˆç«–ç‰ˆï¼‰",
        date: "2023-07-10",
        image: "https://s2.loli.net/2026/01/27/AqIafmXku7SZx9D.jpg",
        desc: "ã€Šëˆ„ë‚œë„ˆë¬´ì˜ˆë»(Replay) ã€‹ - SHINee",
        links: {
          weibo: "https://weibo.com/7825391749/N9ewzz7C8",
          bilibili: "https://www.bilibili.com/video/BV1yk4y1P7Ke/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      }
    ];

    const materialsData = {
  concept: [
    {
      title: "PLBBUU",
      date: "2025-10-30",
      image: "https://s2.loli.net/2026/01/25/e3Kz98cW7kmAops.jpg",
      desc: "ä¸ªäºº/å›¢ä½“æ¦‚å¿µç…§ - BAMBY",
      gallery: "concept-set-8",
      imageCount: 7
    },
    {
      title: "Hide and Seek",
      date: "2025-06-13",
      image: "https://s2.loli.net/2026/01/25/CMv1Z9AoOJHbhLW.jpg",
      desc: "ä¸ªäºº/å›¢ä½“æ¦‚å¿µç…§ - BAMBY",
      gallery: "concept-set-7",
      imageCount: 3
    },
    {
      title: "ASTERUM",
      date: "2023-03-07",
      image: "https://s2.loli.net/2026/01/25/dg7v5itPwUnzmLf.jpg",
      desc: "ä¸ªäºº/å›¢ä½“æ¦‚å¿µç…§+ MVæ‹æ‘„ç°åœºç…§ - BAMBY",
      gallery: "concept-set-1",
      imageCount: 5
    }
  ],
  photos: [
    {
      title: "Day of Asterum",
      date: "2025-12-30",
      image: "https://s2.loli.net/2026/01/25/MIfmSEKOt7y6Ghr.jpg",
      desc: "wvså®˜æ–¹ç…§ç‰‡",
      gallery: "photos-set-1",
      imageCount: 4
    },
    {
      title: "Day of Asterum",
      date: "2025-12-28",
      image: "https://s2.loli.net/2026/01/25/jSgfpGxNKqluwEH.jpg",
      desc: "wvså®˜æ–¹ç…§ç‰‡",
      gallery: "photos-set-2",
      imageCount: 4
    }
  ],
  "personal-photos": [
    {
      title: "26å¹´1æœˆæ±‡æ€»",
      date: "2026-01",
      image: "https://s2.loli.net/2026/01/25/J127SlwpWBZviOM.jpg",
      desc: "26å¹´1æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
      gallery: "personal-set-2",
      imageCount: 11
    },
    {
      title: "25å¹´12æœˆæ±‡æ€»",
      date: "2025-12",
      image: "https://s2.loli.net/2026/01/25/1Gqa5694gvIRSB8.jpg",
      desc: "25å¹´12æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
      gallery: "personal-set-3",
      imageCount: 16
    },
    {
            title: "25å¹´3æœˆæ±‡æ€»",
            date: "2025-03",
            image: "https://i.ibb.co/whwbxgWj/IMG-6089.png",
            desc: "25å¹´3æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-12",
            imageCount: 16
        },
        {
            title: "25å¹´2æœˆæ±‡æ€»",
            date: "2025-02",
            image: "https://i.ibb.co/QF5zY9Qn/IMG-6066.jpg",
            desc: "25å¹´2æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-13",
            imageCount: 29
        },
        {
            title: "24å¹´9æœˆæ±‡æ€»",
            date: "2024-09",
            image: "https://i.ibb.co/4nKMcht8/IMG-7951.jpg",
            desc: "24å¹´9æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-18",
            imageCount: 13
        },
        {
            title: "24å¹´8æœˆæ±‡æ€»",
            date: "2024-08",
            image: "https://i.ibb.co/Ng0qv9Fc/IMG-7938.jpg",
            desc: "24å¹´8æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-19",
            imageCount: 13
        },
        {
            title: "24å¹´7æœˆæ±‡æ€»",
            date: "2024-07",
            image: "https://i.ibb.co/wNW088jj/IMG-7917.jpg",
            desc: "24å¹´7æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-20",
            imageCount: 13
        },
        {
            title: "24å¹´6æœˆæ±‡æ€»",
            date: "2024-06",
            image: "https://i.ibb.co/mrx71PP1/IMG-7906.jpg",
            desc: "24å¹´6æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-21",
            imageCount: 13
        },
        {
            title: "24å¹´5æœˆæ±‡æ€»",
            date: "2024-05",
            image: "https://i.ibb.co/V0r169cW/IMG-7896.jpg",
            desc: "24å¹´5æœˆç›´æ’­ç­‰æ±‡æ€»ç…§ç‰‡",
            gallery: "personal-set-22",
            imageCount: 8
        }
  ],
      
  magazine: [
    {
      title: "Cosmo Koreaæ‚å¿—",
      date: "2026-01-13",
      image: "https://s2.loli.net/2026/01/25/sdg9ZGuFfJc5Y6N.jpg",
      desc: "å°é¢/å†…é¡µ/ç›¸å…³å›¾ç‰‡",
      gallery: "magazine-set-1",
      imageCount: 5
    }
  ],
  "personal-mimu": [
    {
      title: "1æœˆå£çº¸",
      date: "2025-12-30",
      image: "https://s2.loli.net/2026/01/25/pXZ5rdAtGcOe7a9.jpg",
      desc: "å’ªå§†å£çº¸",
      gallery: "mimu-set-1",
      imageCount: 2
    },
    {
      title: "åœ£è¯å£çº¸",
      date: "2025-12-25",
      image: "https://s2.loli.net/2026/01/25/c7q1LkihZWAe4Hp.jpg",
      desc: "åœ£è¯ç‰¹åˆ«å£çº¸",
      gallery: "mimu-set-2",
      imageCount: 2
    }
  ]
};

const stageData = [
  {
    title: "ì™œìš” ì™œìš” ì™œ ç›´æ‹",
    date: "2023-06-03",
    image: "https://s2.loli.net/2026/01/26/OnQfu6C2zLXZJEh.jpg",
    desc: "PLAVE Bamby - Why(í”Œë ˆì´ë¸Œ ë°¤ë¹„ - ì™œìš” ì™œìš” ì™œ) Close-up Cam | Show! MusicCore",
    video: "https://streamable.com/e/eazv9t?autoplay=1&controls=1&muted=0",
    links: {
      youtube: "https://www.youtube.com/watch?v=Yo_eIeYYUp4"
    }
  },
  {
    title: "WAY 4 LUV ç›´æ‹",
    date: "2024-03-15",
    image: "https://s2.loli.net/2026/01/26/7zRfE68NhAGZl1v.jpg",
    desc: "PLAVE Bamby (í”Œë ˆì´ë¸Œ ë°¤ë¹„) - WAY 4 LUV | MBC",
    video: "https://streamable.com/e/adl7he?autoplay=1&controls=1&muted=0",
    links: {
      youtube: "https://www.youtube.com/watch?v=IqX2FZ-5wnI&list=PLyyaQiJ4Eolxv0ljDwqP-zzBqGrv6PTCX&index=2"
    }
  },
  {
    title: "Dash ç›´æ‹ï¼ˆæ¨ªç‰ˆï¼‰",
    date: "2025-02-19",
    image: "https://s2.loli.net/2026/01/26/eWkQsITmjtBMDSh.jpg",
    desc: "PLAVE BAMBY (í”Œë ˆì´ë¸Œ ë°¤ë¹„) â€“ Dash | MBC",
    video: "https://streamable.com/e/bdkzs4?autoplay=1&controls=1&muted=0",
    links: {
      youtube: "https://www.youtube.com/watch?v=Zh_LEsavI3s&list=PLyyaQiJ4Eolxv0ljDwqP-zzBqGrv6PTCX&index=9"
    }
  }
];

    const scheduleData = {
      upcoming: [
        {
          date: "2026-01-29",
          title: "ğŸ’™ğŸ’œğŸ’— ä¸‰äººç›´æ’­",
          type: "live",
          time: "19:00 (CST)",
          platform: "YouTube & Bç«™åŒæ­¥",
          important: true
        }
      ],
      past: [
        {
          date: "2026-01-19",
          title: "â¤ï¸ğŸ’— åŒäººWVSç›´æ’­",
          type: "live",
          time: "19:00 (CST)",
          platform: "WVSç›´æ’­"
        },
        {
          date: "2026-01-12",
          title: "ğŸ’œğŸ’— åŒäººç›´æ’­",
          type: "live",
          time: "19:00 (CST)",
          platform: "YouTube & Bç«™åŒæ­¥"
        },
        {
          date: "2025-12-31",
          title: "ğŸ¤ 2025 MBCæ­Œè°£å¤§ç¥­å…¸",
          type: "performance",
          time: "19:50 (CST)",
          platform: "MBCç”µè§†å°",
          important: true
        }
      ]
    };

    // ========== å…¨å±€å˜é‡ ==========
    let currentGallery = null;
    let currentImageIndex = 0;
    let currentMonth = 0;
    let currentYear = 2026;
    let currentTheme = 'light';
    const monthFullNames = ["ä¸€æœˆ", "äºŒæœˆ", "ä¸‰æœˆ", "å››æœˆ", "äº”æœˆ", "å…­æœˆ", "ä¸ƒæœˆ", "å…«æœˆ", "ä¹æœˆ", "åæœˆ", "åä¸€æœˆ", "åäºŒæœˆ"];

    // ========== åˆå§‹åŒ–å‡½æ•° ==========
    document.addEventListener('DOMContentLoaded', function() {
      initApp();
      initDraggableControl();
      initInteractiveFeatures();
      initMobileControls();
      initClickParticleEffect();
      
      // åŠ¨æ€ç”Ÿæˆå†…å®¹
      generateContent();
    });

    function initApp() {
      // éšè—åŠ è½½åŠ¨ç”»
      setTimeout(() => {
        const loading = document.getElementById('loading');
        loading.style.opacity = '0';
        setTimeout(() => loading.style.display = 'none', 500);
      }, 1200);

      // åˆå§‹åŒ–å„ä¸ªåŠŸèƒ½æ¨¡å—
      initNavigation();
      initSubNavigation();
      initMaterialNavigation();
      initTheme();
      initBackToTop();
      initSortControls();
      initScheduleNavigation();
      initScheduleFilters();
      
      // è®¾ç½®åˆå§‹æœˆä»½ä¸ºå½“å‰æœˆä»½
      const today = new Date();
      currentYear = today.getFullYear();
      currentMonth = today.getMonth();
      
      initCalendar();
      initVideoPlayback();
      
      // æ˜¾ç¤ºæ¬¢è¿ä¿¡æ¯
      setTimeout(function() {
        showWelcomeMessage();
      }, 1200);

      // ä¿®å¤ç§»åŠ¨ç«¯è§¦æ‘¸é—®é¢˜
      fixMobileTouch();
      
      // é¢„åŠ è½½é£˜è½æ•ˆæœ
      setTimeout(createCustomFloatingImages, 1000);
    }

    function generateContent() {
      // ç”Ÿæˆç¿»å”±ä½œå“
      const coversGrid = document.getElementById('covers-works-grid');
      coversData.forEach(item => {
        coversGrid.appendChild(createWorkCard(item));
      });
      

      // ç”Ÿæˆç¿»è·³ä½œå“
      const danceGrid = document.getElementById('dance-works-grid');
      danceData.forEach(item => {
        danceGrid.appendChild(createWorkCard(item));
      });

      // ç”Ÿæˆç›´æ‹ä½œå“
  const stageGrid = document.getElementById('stage-works-grid');
  stageData.forEach(item => {
    stageGrid.appendChild(createWorkCard(item));
  });

      // ç”Ÿæˆç‰©æ–™å†…å®¹
  generateMaterialsContent();

      // ç”Ÿæˆè¡Œç¨‹
      generateScheduleCards();
    }

    function generateMaterialsContent() {
  // ç”Ÿæˆå›å½’ç…§
  const conceptGrid = document.getElementById('concept-works-grid');
  if (conceptGrid && materialsData.concept) {
    materialsData.concept.forEach(item => {
      conceptGrid.appendChild(createMaterialCard(item));
    });
  }

  // ç”Ÿæˆå®˜æ–¹ç…§ç‰‡
  const photosGrid = document.getElementById('photos-works-grid');
  if (photosGrid && materialsData.photos) {
    materialsData.photos.forEach(item => {
      photosGrid.appendChild(createMaterialCard(item));
    });
  }

  // ç”Ÿæˆä¸ªäººç…§
  const personalPhotosGrid = document.getElementById('personal-photos-works-grid');
  if (personalPhotosGrid && materialsData['personal-photos']) {
    materialsData['personal-photos'].forEach(item => {
      personalPhotosGrid.appendChild(createMaterialCard(item));
    });
  }

  // ç”Ÿæˆæ‚å¿—å†…å®¹
  const magazineGrid = document.getElementById('magazine-works-grid');
  if (magazineGrid && materialsData.magazine) {
    materialsData.magazine.forEach(item => {
      magazineGrid.appendChild(createMaterialCard(item));
    });
  }

  // ç”Ÿæˆå’ªå§†ç…§ç‰‡
  const mimuGrid = document.getElementById('mimu-works-grid');
  if (mimuGrid && materialsData['personal-mimu']) {
    materialsData['personal-mimu'].forEach(item => {
      mimuGrid.appendChild(createMaterialCard(item));
    });
  }
}

    function createMaterialCard(data) {
  const card = document.createElement('div');
  card.className = 'work-card';
  card.setAttribute('data-date', data.date);
  card.setAttribute('data-title', data.title);
  
  card.innerHTML = `
    <div class="work-image-container" onclick="openImageGallery('${data.gallery}')">
      <img src="${data.image}" alt="${data.title}" class="work-image">
    </div>
    <div class="work-content">
      <h3 class="work-title">${data.title}</h3>
      <div class="work-meta">
        <span class="work-type">${data.date}</span>
        ${data.imageCount ? `<span class="work-type">${data.imageCount}å¼ </span>` : ''}
      </div>
      <p class="work-desc">${data.desc}</p>
      <button class="channel-btn bilibili" style="width: 100%;" onclick="openImageGallery('${data.gallery}')">
        <i class="fas fa-images"></i>
        æŸ¥çœ‹å›¾ç‰‡é›† (${data.imageCount}å¼ )
      </button>
    </div>
  `;
  
  return card;
}

    function createWorkCard(data) {
      const card = document.createElement('div');
      card.className = 'work-card';
      card.setAttribute('data-date', data.date);
      card.setAttribute('data-title', data.title);
      
      card.innerHTML = `
        <div class="work-image-container" onclick="openImageGallery('${data.gallery || ''}')">
          <img src="${data.image}" alt="${data.title}" class="work-image">
          ${data.video ? `
            <div class="video-poster" style="background-image: url('${data.image}');">
              <div class="poster-overlay">
                <button class="play-button">
                  <i class="fas fa-play-circle"></i>
                </button>
                <div class="play-text">ç‚¹å‡»æ’­æ”¾è§†é¢‘</div>
              </div>
            </div>
            <iframe data-src="${data.video}" frameborder="0" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
          ` : ''}
        </div>
        <div class="work-content">
          <h3 class="work-title">ã€Š${data.title}ã€‹</h3>
          <div class="work-meta">
            <span class="work-type">${data.date}</span>
          </div>
          <p class="work-desc">${data.desc}</p>
          <div class="channels-section">
            <h4>è§‚çœ‹æ¸ é“</h4>
            <div class="channels-grid">
              ${data.links.weibo ? `<a href="${data.links.weibo}" target="_blank" class="channel-btn weibo"><i class="fab fa-weibo"></i>å¾®åš</a>` : ''}
              ${data.links.bilibili ? `<a href="${data.links.bilibili}" target="_blank" class="channel-btn bilibili"><span style="font-weight: bold;">B</span>ç«™</a>` : ''}
              ${data.links.youtube ? `<a href="${data.links.youtube}" target="_blank" class="channel-btn youtube-link"><i class="fab fa-youtube"></i>YouTube</a>` : ''}
            </div>
          </div>
        </div>
      `;
      
      return card;
    }

    function generateScheduleCards() {
      // ç”Ÿæˆè¿‘æœŸè¡Œç¨‹
      const upcomingContainer = document.getElementById('upcoming-schedule');
      scheduleData.upcoming.forEach(event => {
        upcomingContainer.appendChild(createScheduleCard(event));
      });

      // ç”Ÿæˆè¿‡å¾€è®°å½•
      const pastContainer = document.getElementById('past-schedule');
      scheduleData.past.forEach(event => {
        pastContainer.appendChild(createScheduleCard(event, true));
      });
    }

    function createScheduleCard(event, isPast = false) {
      const date = new Date(event.date);
      const card = document.createElement('div');
      card.className = `schedule-card ${isPast ? 'past' : ''} ${event.important ? 'important' : ''}`;
      card.setAttribute('data-type', event.type);
      
      card.innerHTML = `
        <div class="schedule-date">
          <div class="schedule-day">${date.getDate()}</div>
          <div class="schedule-month">${date.getMonth() + 1}æœˆ</div>
          <div class="schedule-year">${date.getFullYear()}</div>
        </div>
        <div class="schedule-content">
          <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <h3 class="schedule-title">${event.title}</h3>
            <span class="schedule-type ${event.type}">${event.type === 'live' ? 'ç›´æ’­' : 'æ¼”å‡º'}</span>
          </div>
          <div class="schedule-meta">
            <span class="schedule-time"><i class="far fa-clock"></i> ${event.time}</span>
            <span class="schedule-platform">
              ${event.platform.includes('YouTube') ? '<i class="fab fa-youtube" style="color: #FF0000;"></i>' : ''}
              ${event.platform.includes('Bç«™') ? '<i class="fab fa-bilibili" style="color: #FB7299; margin-left: 5px;"></i>' : ''}
              ${event.platform}
            </span>
          </div>
        </div>
      `;
      
      return card;
    }

    // ========== å›¾ç‰‡æŸ¥çœ‹å™¨åŠŸèƒ½ ==========
    function openImageGallery(galleryId) {
      currentGallery = imageGalleries[galleryId];
      if (!currentGallery || currentGallery.length === 0) return;
      
      currentImageIndex = 0;
      updateImageViewer();
      document.getElementById('imageViewer').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function updateImageViewer() {
      if (!currentGallery || currentGallery.length === 0) return;
      
      const viewerImage = document.getElementById('viewerImage');
      const imageCounter = document.getElementById('imageCounter');
      
      viewerImage.src = currentGallery[currentImageIndex];
      imageCounter.textContent = `${currentImageIndex + 1} / ${currentGallery.length}`;
    }
    
    function nextImage() {
      if (!currentGallery) return;
      currentImageIndex = (currentImageIndex + 1) % currentGallery.length;
      updateImageViewer();
    }
    
    function prevImage() {
      if (!currentGallery) return;
      currentImageIndex = (currentImageIndex - 1 + currentGallery.length) % currentGallery.length;
      updateImageViewer();
    }
    
    function closeImageViewer() {
      document.getElementById('imageViewer').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    // ========== æ’åºåŠŸèƒ½ ==========
    function initSortControls() {
      const sortContainers = document.querySelectorAll('.sort-controls');
      
      sortContainers.forEach(container => {
        const sortButtons = container.querySelectorAll('.sort-btn');
        const gridId = container.id.replace('-sort-controls', '-works-grid');
        const worksGrid = document.getElementById(gridId);
        
        if (!worksGrid) return;
        
        sortButtons.forEach(button => {
          button.addEventListener('click', function() {
            sortButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            const sortMethod = this.getAttribute('data-sort');
            sortWorkCards(worksGrid, sortMethod);
          });
        });
      });
    }
    
    function sortWorkCards(grid, sortMethod) {
      const cards = Array.from(grid.querySelectorAll('.work-card'));
      
      cards.sort((a, b) => {
        const dateA = a.getAttribute('data-date');
        const dateB = b.getAttribute('data-date');
        const titleA = a.getAttribute('data-title').toLowerCase();
        const titleB = b.getAttribute('data-title').toLowerCase();
        
        switch(sortMethod) {
          case 'date-desc':
            return new Date(dateB) - new Date(dateA);
          case 'date-asc':
            return new Date(dateA) - new Date(dateB);
          case 'title-asc':
            return titleA.localeCompare(titleB);
          default:
            return 0;
        }
      });
      
      grid.innerHTML = '';
      cards.forEach(card => grid.appendChild(card));
    }
    
    // ========== å¯¼èˆªåŠŸèƒ½ ==========
    function initNavigation() {
      const navItems = document.querySelectorAll('.nav-item');
      navItems.forEach(function(item) {
        item.addEventListener('click', function(e) {
          e.preventDefault();
          navItems.forEach(function(nav) {
            nav.classList.remove('active');
          });
          this.classList.add('active');
          const tabId = this.getAttribute('href').substring(1);
          switchTab(tabId);
          history.pushState(null, null, this.getAttribute('href'));
        });
      });
      
      window.addEventListener('hashchange', handleHashChange);
      handleHashChange();
    }
    
    function initSubNavigation() {
      const subNavBtns = document.querySelectorAll('#anli .sub-nav-btn');
      const subSections = document.querySelectorAll('#anli .sub-section');
      
      subNavBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          subNavBtns.forEach(function(b) {
            b.classList.remove('active');
          });
          this.classList.add('active');
          subSections.forEach(function(section) {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
            }
          });
          setTimeout(function() {
            document.getElementById('anli').scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });
      });
    }
    
    function initMaterialNavigation() {
      const subNavBtns = document.querySelectorAll('#materials .sub-nav-btn');
      const subSections = document.querySelectorAll('#materials .sub-section');
      
      subNavBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          subNavBtns.forEach(function(b) {
            b.classList.remove('active');
          });
          this.classList.add('active');
          subSections.forEach(function(section) {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
            }
          });
          setTimeout(function() {
            document.getElementById('materials').scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });
      });
    }
    
    function handleHashChange() {
      const hash = window.location.hash.substring(1);
      if (hash) {
        const targetTab = document.querySelector('.nav-item[href="#' + hash + '"]');
        if (targetTab) {
          targetTab.click();
        }
      }
    }
    
    function switchTab(tabId) {
      document.querySelectorAll('.content-section').forEach(function(section) {
        section.classList.remove('active');
      });
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        if (tabId === 'schedule') {
          setTimeout(() => {
            initCalendar();
          }, 100);
        }
      }
    }
    
    // ========== ä¸»é¢˜åˆ‡æ¢ ==========
    function initTheme() {
      const savedTheme = localStorage.getItem('bamby-theme') || 'light';
      setTheme(savedTheme);
      
      // ä¸ºç§»åŠ¨ç«¯æ·»åŠ ä¸»é¢˜åˆ‡æ¢
      window.toggleTheme = function() {
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        setTheme(newTheme);
        localStorage.setItem('bamby-theme', newTheme);
        showToast(newTheme === 'dark' ? 'æ·±è‰²æ¨¡å¼å¼€å¯' : 'æµ…è‰²æ¨¡å¼å¼€å¯');
      }
    }
    
    function setTheme(theme) {
      currentTheme = theme;
      document.documentElement.setAttribute('data-theme', theme);
    }
    
    // ========== è¿”å›é¡¶éƒ¨åŠŸèƒ½ ==========
    function initBackToTop() {
      const backToTopBtn = document.createElement('button');
      backToTopBtn.className = 'back-to-top';
      backToTopBtn.innerHTML = '<i class="fas fa-arrow-up"></i>';
      backToTopBtn.id = 'backToTop';
      backToTopBtn.onclick = function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      };
      document.body.appendChild(backToTopBtn);
      
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > 300) {
          backToTopBtn.style.display = 'flex';
        } else {
          backToTopBtn.style.display = 'none';
        }
      });
    }
    
    // ========== æ¬¢è¿ä¿¡æ¯ ==========
    function showWelcomeMessage() {
      const hour = new Date().getHours();
      let greeting = '';
      if (hour < 6) greeting = 'æ·±å¤œå¥½';
      else if (hour < 12) greeting = 'æ—©ä¸Šå¥½';
      else if (hour < 18) greeting = 'ä¸‹åˆå¥½';
      else greeting = 'æ™šä¸Šå¥½';
      showToast(greeting + 'ï¼Œäº²çˆ±çš„bamlineæˆå‘˜', 3000);
    }
    
    // ========== Toastæ¶ˆæ¯æç¤º ==========
    function showToast(message, duration) {
      duration = duration || 2000;
      const existingToast = document.querySelector('.toast-message');
      if (existingToast) existingToast.remove();
      const toast = document.createElement('div');
      toast.className = 'toast-message';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(function() {
        toast.classList.add('show');
      }, 10);
      setTimeout(function() {
        toast.classList.remove('show');
        setTimeout(function() {
          toast.remove();
        }, 300);
      }, duration);
    }
    
    // åŠ¨æ€æ·»åŠ Toastæ ·å¼
    const dynamicStyles = document.createElement('style');
    dynamicStyles.textContent = '.toast-message {' +
      'position: fixed;' +
      'top: 24px;' +
      'left: 50%;' +
      'transform: translateX(-50%) translateY(-20px);' +
      'background: var(--color-gray-800);' +
      'color: var(--color-white);' +
      'padding: 12px 24px;' +
      'border-radius: var(--radius-md);' +
      'box-shadow: var(--shadow-lg);' +
      'z-index: 9999;' +
      'opacity: 0;' +
      'transition: all 0.3s;' +
      'max-width: 80%;' +
      'text-align: center;' +
      'pointer-events: none;' +
      '}' +
      '.toast-message.show {' +
      'opacity: 1;' +
      'transform: translateX(-50%) translateY(0);' +
      '}';
    document.head.appendChild(dynamicStyles);
    
    // ========== æ—¥å†åŠŸèƒ½ ==========
    function initCalendar() {
      updateCalendarTitle();
      renderCalendar();
      setupCalendarNavigation();
    }
    
    function updateCalendarTitle() {
      const titleElement = document.getElementById('monthTitle');
      if (titleElement) {
        titleElement.textContent = `${currentYear}å¹´ ${monthFullNames[currentMonth]}`;
      }
    }
    
    function goToPreviousMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      updateCalendar();
    }
    
    function goToNextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      updateCalendar();
    }
    
    function renderCalendar() {
      const calendarGrid = document.getElementById('calendarGrid');
      if (!calendarGrid) return;
      
      calendarGrid.innerHTML = '';
      
      const daysOfWeek = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
      daysOfWeek.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.className = 'calendar-day-header';
        dayHeader.textContent = day;
        calendarGrid.appendChild(dayHeader);
      });
      
      const firstDay = new Date(currentYear, currentMonth, 1);
      const lastDay = new Date(currentYear, currentMonth + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startingDay = firstDay.getDay();
      
      for (let i = 0; i < startingDay; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyCell);
      }
      
      const today = new Date();
      
      for (let day = 1; day <= daysInMonth; day++) {
        const dayCell = document.createElement('div');
        dayCell.className = 'calendar-day';
        dayCell.textContent = day;
        dayCell.style.position = 'relative';
        
        if (currentYear === today.getFullYear() && 
            currentMonth === today.getMonth() && 
            day === today.getDate()) {
          dayCell.classList.add('today');
        }
        
        const hasEvent = checkDayHasEvent(day);
        if (hasEvent) {
          dayCell.classList.add('has-event');
          
          const eventDot = document.createElement('span');
          eventDot.className = 'event-dot';
          eventDot.style.cssText = 'position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; background: #FF6B6B; border-radius: 50%;';
          dayCell.appendChild(eventDot);
        }
        
        dayCell.addEventListener('click', function() {
          showDayEvents(day);
        });
        
        calendarGrid.appendChild(dayCell);
      }
      
      const totalCells = startingDay + daysInMonth;
      const rowsNeeded = Math.ceil(totalCells / 7);
      const totalCellsNeeded = rowsNeeded * 7;
      
      for (let i = totalCells; i < totalCellsNeeded; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyCell);
      }
    }
    
    function checkDayHasEvent(day) {
      const events = {
        '2026-1-29': 'ğŸ’™ğŸ’œğŸ’— ä¸‰äººç›´æ’­',
        '2026-1-19': 'â¤ï¸ğŸ’— åŒäººWVSç›´æ’­',
        '2026-1-12': 'ğŸ’œğŸ’— åŒäººç›´æ’­',
        '2025-12-31': 'ğŸ¤ 2025 MBCæ­Œè°£å¤§ç¥­å…¸'
      };
      
      const key = `${currentYear}-${currentMonth + 1}-${day}`;
      return events.hasOwnProperty(key);
    }
    
    function showDayEvents(day) {
      const events = {
        '2026-1-29': 'ğŸ’™ğŸ’œğŸ’— ä¸‰äººç›´æ’­ (19:00 CST, YouTube & Bç«™åŒæ­¥)',
        '2026-1-19': 'â¤ï¸ğŸ’— åŒäººWVSç›´æ’­ (19:00 CST)',
        '2026-1-12': 'ğŸ’œğŸ’— åŒäººç›´æ’­ (19:00 CST, YouTube & Bç«™åŒæ­¥)',
        '2025-12-31': 'ğŸ¤ 2025 MBCæ­Œè°£å¤§ç¥­å…¸ (19:50 CST, MBCç”µè§†å°)'
      };
      
      const key = `${currentYear}-${currentMonth + 1}-${day}`;
      if (events[key]) {
        showToast(`${currentYear}å¹´${currentMonth + 1}æœˆ${day}æ—¥: ${events[key]}`, 5000);
      } else {
        showToast(`${currentYear}å¹´${currentMonth + 1}æœˆ${day}æ—¥æ²¡æœ‰å®‰æ’æ´»åŠ¨`, 3000);
      }
    }
    
    function setupCalendarNavigation() {
      const prevBtn = document.getElementById('prevMonth');
      const nextBtn = document.getElementById('nextMonth');
      
      if (prevBtn) {
        prevBtn.addEventListener('click', goToPreviousMonth);
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', goToNextMonth);
      }
    }
    
    function updateCalendar() {
      updateCalendarTitle();
      renderCalendar();
    }
    
    // ========== è¡Œç¨‹å¯¼èˆª ==========
    function initScheduleNavigation() {
      const subNavBtns = document.querySelectorAll('#schedule .sub-nav-btn');
      const subSections = document.querySelectorAll('#schedule .sub-section');
      
      subNavBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          
          subNavBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          subSections.forEach(section => {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
              
              if (subtab === 'monthly') {
                setTimeout(() => {
                  const today = new Date();
                  currentYear = today.getFullYear();
                  currentMonth = today.getMonth();
                  updateCalendar();
                }, 50);
              }
            }
          });
        });
      });
    }
    
    // ========== è¡Œç¨‹ç­›é€‰ ==========
    function initScheduleFilters() {
      const subSections = document.querySelectorAll('#schedule .sub-section');
      subSections.forEach(section => {
        bindFilterEventsForSection(section);
      });
    }
    
    function bindFilterEventsForSection(section) {
      const filterBtns = section.querySelectorAll('.filter-btn');
      const scheduleCards = section.querySelectorAll('.schedule-card');
      
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const filter = this.getAttribute('data-filter');
          
          filterBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          scheduleCards.forEach(card => {
            const type = card.getAttribute('data-type');
            if (filter === 'all' || type === filter) {
              card.style.display = 'flex';
            } else {
              card.style.display = 'none';
            }
          });
        });
      });
    }
    
    // ========== è§†é¢‘æ’­æ”¾åŠŸèƒ½ ==========
    function initVideoPlayback() {
      // äº‹ä»¶å§”æ‰˜å¤„ç†è§†é¢‘æ’­æ”¾
      document.addEventListener('click', function(e) {
        if (e.target.closest('.play-button') || e.target.closest('.video-poster')) {
          const button = e.target.closest('.play-button') || e.target.closest('.video-poster');
          handleVideoPlay(button);
        }
      });
    }
    
    function handleVideoPlay(element) {
      const videoWrapper = element.closest('.video-wrapper');
      if (!videoWrapper) return;
      
      const iframe = videoWrapper.querySelector('iframe');
      if (!iframe) return;
      
      const poster = videoWrapper.querySelector('.video-poster');
      if (poster) {
        poster.classList.add('hidden');
      }
      
      videoWrapper.classList.add('playing');
      
      const videoSrc = iframe.getAttribute('data-src');
      if (videoSrc && !iframe.src) {
        iframe.src = videoSrc;
      } else if (iframe.src) {
        iframe.contentWindow.postMessage('{"method":"play"}', '*');
      }
      
      const videoCard = videoWrapper.closest('.work-card');
      if (videoCard) {
        const title = videoCard.querySelector('.work-title');
        if (title) {
          showToast(`æ­£åœ¨æ’­æ”¾: ${title.textContent}`, 2000);
        }
      }
    }
    
    // ========== é£˜è½ç‰¹æ•ˆ ==========
    function createCustomFloatingImages() {
      const snowToggle = document.getElementById('snowToggle');
      if (!snowToggle || !snowToggle.checked) return;
      
      const container = document.getElementById('snowContainer');
      if (!container) return;
      
      container.innerHTML = '';
      const isMobile = window.innerWidth <= 768;
      const count = isMobile ? 15 : 25;
      
      for (let i = 0; i < count; i++) {
        const image = document.createElement('img');
        const imgIndex = Math.floor(Math.random() * floatingImages.length);
        
        const size = Math.random() * 30 + 20;
        const duration = Math.random() * 8 + 12;
        const delay = Math.random() * 5;
        const startX = Math.random() * 100;
        const rotation = Math.random() * 720 - 360;
        
        image.src = floatingImages[imgIndex];
        image.style.cssText = `
          position: absolute;
          top: -${size}px;
          left: ${startX}vw;
          width: ${size}px;
          height: ${size}px;
          opacity: ${Math.random() * 0.4 + 0.3};
          animation: float-image ${duration}s linear ${delay}s infinite;
          filter: drop-shadow(0 0 8px rgba(255, 194, 214, 0.5));
          pointer-events: none;
          user-select: none;
          z-index: 999;
        `;
        
        image.style.setProperty('--rotation', `${rotation}deg`);
        
        container.appendChild(image);
      }
    }
    
    // ========== ä¾§è¾¹æ§åˆ¶é¢æ¿æ‹–æ‹½ ==========
    function initDraggableControl() {
      const control = document.getElementById('sideControl');
      const handle = document.getElementById('controlHandle');
      let isDragging = false;
      let offsetX, offsetY;

      handle.addEventListener('mousedown', startDrag);
      handle.addEventListener('touchstart', startDragTouch, { passive: false });

      function startDrag(e) {
        isDragging = true;
        e.preventDefault();
        const rect = control.getBoundingClientRect();
        offsetX = e.clientX - rect.left;
        offsetY = e.clientY - rect.top;

        document.addEventListener('mousemove', drag);
        document.addEventListener('mouseup', stopDrag);
      }

      function startDragTouch(e) {
        isDragging = true;
        e.preventDefault();
        const touch = e.touches[0];
        const rect = control.getBoundingClientRect();
        offsetX = touch.clientX - rect.left;
        offsetY = touch.clientY - rect.top;

        document.addEventListener('touchmove', dragTouch, { passive: false });
        document.addEventListener('touchend', stopDragTouch);
      }

      function drag(e) {
        if (!isDragging) return;
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        let x = e.clientX - offsetX;
        let y = e.clientY - offsetY;

        x = Math.max(0, Math.min(x, windowWidth - control.offsetWidth));
        y = Math.max(0, Math.min(y, windowHeight - control.offsetHeight));

        control.style.left = x + 'px';
        control.style.top = y + 'px';
        control.style.right = 'auto';
        control.style.transform = 'none';
      }

      function dragTouch(e) {
        if (!isDragging) return;
        e.preventDefault();
        const touch = e.touches[0];
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        let x = touch.clientX - offsetX;
        let y = touch.clientY - offsetY;

        x = Math.max(0, Math.min(x, windowWidth - control.offsetWidth));
        y = Math.max(0, Math.min(y, windowHeight - control.offsetHeight));

        control.style.left = x + 'px';
        control.style.top = y + 'px';
        control.style.right = 'auto';
        control.style.transform = 'none';
      }

      function stopDrag() {
        if (!isDragging) return;
        isDragging = false;
        snapToEdge();
        document.removeEventListener('mousemove', drag);
        document.removeEventListener('mouseup', stopDrag);
      }

      function stopDragTouch() {
        if (!isDragging) return;
        isDragging = false;
        snapToEdge();
        document.removeEventListener('touchmove', dragTouch);
        document.removeEventListener('touchend', stopDragTouch);
      }

      function snapToEdge() {
        const rect = control.getBoundingClientRect();
        const windowWidth = window.innerWidth;
        const centerX = windowWidth / 2;

        if (rect.left + rect.width / 2 < centerX) {
          control.style.left = '20px';
          control.style.right = 'auto';
        } else {
          control.style.right = '20px';
          control.style.left = 'auto';
        }
        control.style.top = '50%';
        control.style.transform = 'translateY(-50%)';
      }
    }

    // ========== äº’åŠ¨åŠŸèƒ½ ==========
    function initInteractiveFeatures() {
      const panel = document.getElementById('controlPanel');
      const handle = document.getElementById('controlHandle');
      const closeBtn = document.getElementById('controlClose');
      const bgmToggle = document.getElementById('bgmToggle');
      const snowToggle = document.getElementById('snowToggle');
      const bgmPlayer = document.getElementById('bgmPlayer');

      // ç‚¹å‡»é½¿è½®åˆ‡æ¢é¢æ¿
      handle.addEventListener('click', (e) => {
        e.stopPropagation();
        panel.classList.toggle('active');
      });

      // ç‚¹å‡»å…¶ä»–åœ°æ–¹å…³é—­é¢æ¿
      document.addEventListener('click', (e) => {
        if (!panel.contains(e.target) && !handle.contains(e.target)) {
          panel.classList.remove('active');
        }
      });

      closeBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        panel.classList.remove('active');
      });

      // BGM æ§åˆ¶
      bgmToggle.addEventListener('change', function() {
        if (this.checked) {
          bgmPlayer.volume = 0.3;
          bgmPlayer.play().catch(e => {
            console.log("Auto-play blocked:", e);
            showToast("ç‚¹å‡»é¡µé¢ä»»æ„ä½ç½®ä»¥æ’­æ”¾éŸ³ä¹");
            document.addEventListener('click', playBGMOnInteraction, { once: true });
          });
        } else {
          bgmPlayer.pause();
        }
      });

      function playBGMOnInteraction() {
        if (bgmToggle.checked) {
          bgmPlayer.play().catch(e => console.log("Still blocked"));
        }
      }

      // é£˜è½ç‰¹æ•ˆ
      let snowInterval;
      snowToggle.addEventListener('change', function() {
        const snowContainer = document.getElementById('snowContainer');
        if (this.checked) {
          snowContainer.style.display = 'block';
          createCustomFloatingImages();
          snowInterval = setInterval(createCustomFloatingImages, 45000);
        } else {
          snowContainer.style.display = 'none';
          snowContainer.innerHTML = '';
          if (snowInterval) clearInterval(snowInterval);
        }
      });

      // ä»æœ¬åœ°å­˜å‚¨æ¢å¤è®¾ç½®
      const savedBGM = localStorage.getItem('bamby-bgm') === 'true';
      const savedSnow = localStorage.getItem('bamby-snow') === 'true';
      
      if (savedBGM) {
        bgmToggle.checked = true;
        bgmToggle.dispatchEvent(new Event('change'));
      }
      
      if (savedSnow) {
        snowToggle.checked = true;
        snowToggle.dispatchEvent(new Event('change'));
      }

      // ä¿å­˜è®¾ç½®
      bgmToggle.addEventListener('change', function() {
        localStorage.setItem('bamby-bgm', this.checked);
      });
      
      snowToggle.addEventListener('change', function() {
        localStorage.setItem('bamby-snow', this.checked);
      });
    }

    // ========== ç§»åŠ¨ç«¯æ§åˆ¶ ==========
    function initMobileControls() {
      const mobileControlBar = document.querySelector('.mobile-control-bar');
      if (!mobileControlBar) return;
      
      // ç§»åŠ¨ç«¯è§¦æ‘¸ä¼˜åŒ–
      document.querySelectorAll('.work-image-container, .nav-item, .sub-nav-btn').forEach(el => {
        el.style.cursor = 'pointer';
        el.addEventListener('touchstart', function(e) {
          this.style.opacity = '0.7';
          createParticles(e.touches[0].clientX, e.touches[0].clientY);
        });
        el.addEventListener('touchend', function() {
          this.style.opacity = '1';
        });
      });
    }

    window.toggleBGM = function() {
      const bgmToggle = document.getElementById('bgmToggle');
      bgmToggle.checked = !bgmToggle.checked;
      bgmToggle.dispatchEvent(new Event('change'));
      showToast(bgmToggle.checked ? 'èƒŒæ™¯éŸ³ä¹å¼€å¯' : 'èƒŒæ™¯éŸ³ä¹å…³é—­');
    };

    window.toggleSnow = function() {
      const snowToggle = document.getElementById('snowToggle');
      if (!snowToggle) return;
      
      snowToggle.checked = !snowToggle.checked;
      snowToggle.dispatchEvent(new Event('change'));
      showToast(snowToggle.checked ? 'ç²‰è‰²å›¾ç‰‡é£˜è½å¼€å¯' : 'ç²‰è‰²å›¾ç‰‡é£˜è½å…³é—­');
    };

    window.scrollToTop = function() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    };

    // ========== ç‚¹å‡»ç²’å­æ•ˆæœ ==========
    function initClickParticleEffect() {
      let isMobile = 'ontouchstart' in window;
      
      document.addEventListener(isMobile ? 'touchstart' : 'click', function(e) {
        const x = isMobile ? e.touches[0].clientX : e.clientX;
        const y = isMobile ? e.touches[0].clientY : e.clientY;
        
        createParticles(x, y);
      });
      
      function createParticles(x, y) {
        const particleCount = 8;
        const colors = ['#FFC2D6', '#FF9EBD', '#FF85B3', '#FF6B9E'];
        
        for (let i = 0; i < particleCount; i++) {
          const particle = document.createElement('div');
          particle.className = 'click-particle';
          
          const size = Math.random() * 8 + 4;
          const color = colors[Math.floor(Math.random() * colors.length)];
          const angle = (Math.PI * 2 * i) / particleCount;
          const distance = Math.random() * 40 + 20;
          const tx = Math.cos(angle) * distance;
          const ty = Math.sin(angle) * distance;
          
          particle.style.cssText = `
            position: fixed;
            left: ${x}px;
            top: ${y}px;
            width: ${size}px;
            height: ${size}px;
            background: ${color};
            border-radius: 50%;
            --tx: ${tx}px;
            --ty: ${ty}px;
            pointer-events: none;
            z-index: 9999;
            animation: particle-explode 0.6s ease-out forwards;
          `;
          
          document.body.appendChild(particle);
          
          setTimeout(() => {
            particle.remove();
          }, 600);
        }
      }
    }

    // ========== çª—å£å¤§å°å˜åŒ–æ—¶é‡æ–°ç”Ÿæˆæ•ˆæœ ==========
    let resizeTimeout;
    window.addEventListener('resize', function() {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        createCustomFloatingImages();
      }, 250);
    });

    // ========== ä¿®å¤ç§»åŠ¨ç«¯è§¦æ‘¸ ==========
    function fixMobileTouch() {
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function(event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);

      document.addEventListener('touchstart', function() {}, true);
    }

    // ========== é”®ç›˜å¿«æ·é”®æ”¯æŒ ==========
    document.addEventListener('keydown', function(e) {
      const viewer = document.getElementById('imageViewer');
      if (!viewer.classList.contains('active')) return;
      
      if (e.key === 'Escape') {
        closeImageViewer();
      } else if (e.key === 'ArrowRight') {
        nextImage();
      } else if (e.key === 'ArrowLeft') {
        prevImage();
      }
    });
  </script>
</body>
</html>
