<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>蔡丰玖·BAMBY 安利手册</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root {
      --color-primary-light: #FFE8F0;
      --color-primary: #FFC2D6;
      --color-primary-dark: #FF9EBD;
      --color-gray-50: #FAFAFA;
      --color-gray-100: #F5F5F5;
      --color-gray-200: #EEEEEE;
      --color-gray-300: #E0E0E0;
      --color-gray-400: #BDBDBD;
      --color-gray-500: #9E9E9E;
      --color-gray-600: #757575;
      --color-gray-700: #616161;
      --color-gray-800: #424242;
      --color-gray-900: #212121;
      --color-white: #FFFFFF;
      --color-black: #000000;
      --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
      --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
      --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
      --radius-md: 10px;
      --radius-lg: 14px;
      --transition-normal: 0.25s ease;
      --font-heading: 'Ma Shan Zheng', cursive;
      --font-body: 'Noto Sans SC', sans-serif;
    }

    [data-theme="dark"] {
      --color-primary-light: #2A1A24;
      --color-primary: #4A2D3A;
      --color-primary-dark: #6A4050;
      --color-gray-50: #121111;
      --color-gray-100: #1E1E1E;
      --color-gray-200: #2A2A2A;
      --color-gray-300: #363636;
      --color-gray-400: #424242;
      --color-gray-500: #5A5A5A;
      --color-gray-600: #757575;
      --color-gray-700: #909090;
      --color-gray-800: #ABABAB;
      --color-gray-900: #C6C6C6;
      --color-white: #121212;
      --color-black: #FFFFFF;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      scroll-padding-top: 120px;
    }

    body {
      font-family: var(--font-body);
      background: var(--color-gray-50);
      color: var(--color-gray-800);
      line-height: 1.6;
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    .container {
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 24px;
      position: relative;
      z-index: 1;
    }

    /* ========= 全局毛玻璃效果 ========= */
    .glass-effect {
      background: rgba(255, 255, 255, 0.85);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 194, 214, 0.15);
      box-shadow: var(--shadow-md);
      border-radius: var(--radius-lg);
    }

    [data-theme="dark"] .glass-effect {
      background: rgba(30, 30, 30, 0.85);
      border-color: rgba(106, 64, 80, 0.25);
    }

    /* ========= HEADER ========= */
    .main-header {
      position: sticky;
      top: 0;
      z-index: 1000;
      margin-bottom: 32px;
      padding: 20px 0 0;
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 194, 214, 0.2);
      background: rgba(255, 255, 255, 0.85);
      position: relative;
      overflow: hidden;
    }

    .main-header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(to bottom, rgba(255, 240, 245, 0.9), rgba(255, 230, 240, 0.7)),
                  center/cover no-repeat;
      z-index: -1;
    }

    [data-theme="dark"] .main-header {
      background: rgba(30, 30, 30, 0.85);
      border-bottom-color: rgba(106, 64, 80, 0.4);
    }

    [data-theme="dark"] .main-header::before {
      background: linear-gradient(to bottom, rgba(42, 26, 36, 0.9), rgba(30, 30, 30, 0.7)),
                  center/cover no-repeat;
    }

    /* PC端标题居中 */
    .header-content {
      display: flex;
      justify-content: center; /* PC端居中 */
      align-items: center;
      padding: 0 20px 20px;
      position: relative;
      gap: 30px;
    }

    .logo {
      display: flex;
      flex-direction: column;
      align-items: center; /* PC端居中 */
      text-align: center; /* PC端居中 */
      min-height: 100px;
      position: relative;
      z-index: 2;
    }

    .logo-text {
      font-family: var(--font-heading);
      font-size: 2.2rem;
      color: var(--color-primary-dark);
      letter-spacing: 2px;
      font-weight: normal;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
      background: linear-gradient(45deg, var(--color-primary-dark), #FF85B3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 8px;
      position: relative;
      z-index: 3;
      animation: float 3s ease-in-out infinite;
    }

    .logo-sub {
      font-size: 0.95rem;
      color: var(--color-gray-600);
      font-weight: 400;
      padding: 6px 12px;
      background: rgba(255, 255, 255, 0.6);
      border-radius: var(--radius-md);
      border: 1px solid rgba(255, 194, 214, 0.3);
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 3;
    }

    [data-theme="dark"] .logo-sub {
      background: rgba(30, 30, 30, 0.6);
      color: var(--color-gray-300);
    }

    /* ========= 导航栏 ========= */
    .main-nav {
      display: flex;
      overflow-x: auto;
      padding: 16px 20px;
      gap: 10px;
      scrollbar-width: none;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(15px);
      border-top: 1px solid rgba(255, 194, 214, 0.2);
      position: relative;
      z-index: 3;
    }

    .main-nav::-webkit-scrollbar {
      display: none;
    }

    .nav-item {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 194, 214, 0.3);
      border-radius: 50px;
      text-decoration: none;
      color: var(--color-gray-600);
      font-weight: 500;
      white-space: nowrap;
      transition: all var(--transition-normal);
      min-height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .nav-item:hover {
      transform: translateY(-2px);
      background: rgba(255, 194, 214, 0.2);
      border-color: var(--color-primary);
      color: var(--color-primary-dark);
      box-shadow: var(--shadow-sm);
    }

    .nav-item.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
      box-shadow: 0 4px 12px rgba(255, 158, 189, 0.3);
    }

    /* ========= 加载动画 ========= */
    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--color-primary-light);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity var(--transition-normal);
      backdrop-filter: blur(20px);
    }

    .loading-spinner {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .loading-spinner div {
      margin-bottom: 20px;
      font-size: 4rem;
      color: var(--color-primary-dark);
      animation: heartbeat 1.5s ease-in-out infinite;
    }

    .loading-spinner p {
      font-size: 1.3rem;
      color: var(--color-gray-700);
      font-weight: 500;
      margin-top: 10px;
      letter-spacing: 2px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .content-section {
      display: none;
    }
    
    .content-section.active {
      display: block;
    }
    
    /* ========= 通用样式 ========= */
    .section-header {
      text-align: center;
      margin-bottom: 40px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(10px);
      border-radius: var(--radius-lg);
      border: 1px solid rgba(255, 194, 214, 0.2);
      box-shadow: var(--shadow-sm);
    }

    .section-title {
      font-size: 1.8rem;
      color: var(--color-gray-900);
      margin-bottom: 10px;
      font-weight: 600;
      position: relative;
      display: inline-block;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 3px;
      background: linear-gradient(to right, var(--color-primary), var(--color-primary-dark));
      border-radius: 2px;
    }

    .profile-card {
      background: linear-gradient(135deg, 
                  rgba(255, 240, 245, 0.95) 0%,
                  rgba(255, 230, 240, 0.85) 50%,
                  rgba(255, 220, 235, 0.75) 100%);
      border-radius: var(--radius-lg);
      padding: 32px;
      box-shadow: var(--shadow-md);
      margin-bottom: 40px;
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      border: 1px solid rgba(255, 194, 214, 0.4);
      transition: all var(--transition-normal);
      position: relative;
      overflow: hidden;
    }

    .profile-card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
      border-color: rgba(255, 194, 214, 0.4);
    }

    .profile-card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M50,85 C70,70 85,50 85,30 C85,15 70,5 50,5 C30,5 15,15 15,30 C15,50 30,70 50,85 Z' fill='rgba(255, 194, 214, 0.1)'/%3E%3C/svg%3E");
      background-size: 120px;
      opacity: 0.3;
      z-index: 0;
    }

    .info-item {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 18px;
      border-radius: var(--radius-md);
      border-left: 4px solid var(--color-primary);
      transition: all var(--transition-normal);
    }

    .info-item:hover {
      transform: translateX(5px);
      background: rgba(255, 255, 255, 0.95);
      box-shadow: var(--shadow-sm);
    }
    
    .sub-nav {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      margin-bottom: 32px;
      padding: 20px;
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(15px);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
      justify-content: center;
      border: 1px solid rgba(255, 194, 214, 0.2);
    }
    
    .sub-nav-btn {
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.7);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 194, 214, 0.3);
      border-radius: 50px;
      color: var(--color-gray-600);
      cursor: pointer;
      transition: all var(--transition-normal);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .sub-nav-btn:hover {
      transform: translateY(-2px);
      background: rgba(255, 194, 214, 0.2);
      border-color: var(--color-primary);
      box-shadow: var(--shadow-sm);
    }
    
    .sub-nav-btn.active {
      background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
      border-color: var(--color-primary);
      color: var(--color-white);
      box-shadow: 0 4px 15px rgba(255, 158, 189, 0.3);
    }
    
    .sub-section {
      display: none;
      scroll-margin-top: 100px;
    }
    
    .sub-section.active {
      display: block;
    }
    
    .works-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
      gap: 24px;
      margin-top: 24px;
    }
    
    .work-card {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      overflow: hidden;
      box-shadow: var(--shadow-md);
      transition: all var(--transition-normal);
      border: 1px solid var(--color-gray-200);
    }
    
    .work-card:hover {
      transform: translateY(-4px);
      box-shadow: var(--shadow-lg);
    }
    
    .work-image-container {
      position: relative;
      width: 100%;
      height: 200px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .work-image {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .work-content {
      padding: 20px;
    }
    
    .work-title {
      color: var(--color-gray-900);
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 12px;
    }
    
    .work-meta {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
    }
    
    .work-type {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      padding: 4px 10px;
      border-radius: 6px;
      font-size: 0.8rem;
      font-weight: 500;
    }
    
    .channels-section {
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      padding: 16px;
      margin-bottom: 16px;
    }
    
    .channels-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
      gap: 8px;
    }
    
    .channel-btn {
      padding: 12px 20px;
      border: none;
      border-radius: var(--radius-md);
      color: var(--color-white);
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      transition: all var(--transition-normal);
      backdrop-filter: blur(10px);
    }
    
    .channel-btn:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-sm);
      opacity: 0.9;
    }
    
    .channel-btn.weibo {
      background: var(--color-gray-800);
    }
    
    .channel-btn.bilibili {
      background: var(--color-gray-700);
    }

    .channel-btn.youtube-link {
      background: #FF0000 !important;
      color: white !important;
    }

    /* ========= 图片查看器 ========= */
    .image-viewer-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2000;
    }
    
    .image-viewer-overlay.active {
      display: flex;
    }
    
    .image-viewer {
      position: relative;
      max-width: 90%;
      max-height: 90%;
    }
    
    .image-viewer img {
      max-width: 100%;
      max-height: 80vh;
      object-fit: contain;
      display: block;
    }
    
    .image-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.2);
      color: white;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2001;
    }
    
    .image-prev {
      left: 20px;
    }
    
    .image-next {
      right: 20px;
    }
    
    .image-close {
      position: absolute;
      top: 20px;
      right: 20px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      z-index: 2001;
    }
    
    .image-counter {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: white;
      background: rgba(0, 0, 0, 0.7);
      padding: 5px 15px;
      border-radius: 20px;
      z-index: 2001;
    }
    
    /* ========= 页脚 ========= */
    .main-footer {
      margin-top: 60px;
      background: var(--color-white);
      border-top: 1px solid var(--color-gray-200);
      padding: 40px 0 20px;
      text-align: center;
    }
    
    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 32px;
      margin-bottom: 32px;
      justify-items: center;
    }
    
    .footer-section {
      text-align: center;
      max-width: 300px;
    }
    
    /* ========= 链接样式 ========= */
    .profile-link {
      padding: 12px;
      text-align: center;
      border-radius: var(--radius-md);
      text-decoration: none;
      font-weight: 500;
      transition: all var(--transition-normal);
      background: var(--color-gray-100);
      color: var(--color-gray-700);
      border: 1px solid transparent;
      display: block;
      width: 100%;
      margin-top: 10px;
      font-family: var(--font-body);
    }

    .profile-link:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      border-color: var(--color-primary);
      transform: translateY(-2px);
    }

    .profile-link i {
      margin-right: 8px;
    }
    
    /* ========= 排序控制 ========= */
    .sort-controls {
      display: flex;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
      gap: 10px;
      padding: 10px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
    }
    
    .sort-btn {
      padding: 8px 16px;
      background: var(--color-gray-100);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      color: var(--color-gray-600);
      cursor: pointer;
      transition: all var(--transition-normal);
      font-size: 0.9rem;
    }
    
    .sort-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
    }
    
    /* ========= 工具类 ========= */
    .mb-4 {
      margin-bottom: 1rem;
    }
    
    .mt-4 {
      margin-top: 1rem;
    }
    
    .text-center {
      text-align: center;
    }
    
    .d-none {
      display: none !important;
    }

    /* ========= 日程表样式 ========= */
    .schedule-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .schedule-card {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      margin-bottom: 20px;
      padding: 20px;
      display: flex;
      align-items: flex-start;
      border-left: 4px solid var(--color-primary);
      transition: all var(--transition-normal);
    }

    .schedule-card:hover {
      transform: translateX(5px);
      box-shadow: var(--shadow-lg);
    }

    .schedule-date {
      background: var(--color-primary-light);
      border-radius: var(--radius-md);
      padding: 15px;
      text-align: center;
      min-width: 100px;
      margin-right: 20px;
      flex-shrink: 0;
    }

    .schedule-day {
      font-size: 2rem;
      font-weight: 700;
      color: var(--color-primary-dark);
      line-height: 1;
    }

    .schedule-month {
      font-size: 0.9rem;
      color: var(--color-gray-600);
      margin: 5px 0;
      font-weight: 500;
    }

    .schedule-year {
      font-size: 0.8rem;
      color: var(--color-gray-500);
    }

    .schedule-content {
      flex: 1;
    }

    .schedule-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--color-gray-900);
      margin-bottom: 8px;
    }

    .schedule-meta {
      display: flex;
      gap: 15px;
      margin-bottom: 10px;
      flex-wrap: wrap;
    }

    .schedule-time, .schedule-platform {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 0.9rem;
      color: var(--color-gray-600);
    }

    .schedule-time i, .schedule-platform i {
      color: var(--color-primary);
    }

    .schedule-desc {
      color: var(--color-gray-700);
      font-size: 0.95rem;
      line-height: 1.5;
    }

    .schedule-card.past {
      opacity: 0.7;
      border-left-color: var(--color-gray-300);
    }

    .schedule-card.past .schedule-date {
      background: var(--color-gray-100);
    }

    .schedule-card.past .schedule-day {
      color: var(--color-gray-500);
    }

    .schedule-card.important {
      border-left-color: #FF6B6B;
      background: linear-gradient(to right, rgba(255, 107, 107, 0.05), var(--color-white));
    }

    .schedule-card.important .schedule-date {
      background: rgba(255, 107, 107, 0.1);
    }

    .schedule-card.important .schedule-day {
      color: #FF6B6B;
    }

    .schedule-type {
      display: inline-block;
      padding: 3px 8px;
      background: var(--color-gray-100);
      color: var(--color-gray-700);
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 500;
      margin-right: 8px;
    }

    .schedule-type.live {
      background: #E3F2FD;
      color: #1976D2;
    }

    .schedule-type.performance {
      background: #F3E5F5;
      color: #7B1FA2;
    }

    .schedule-type.meeting {
      background: #E8F5E9;
      color: #388E3C;
    }

    .schedule-type.release {
      background: #FFF3E0;
      color: #F57C00;
    }

    .schedule-empty {
      text-align: center;
      padding: 60px 20px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-sm);
    }

    .schedule-empty i {
      font-size: 3rem;
      color: var(--color-gray-300);
      margin-bottom: 20px;
    }

    .schedule-empty h3 {
      color: var(--color-gray-700);
      margin-bottom: 10px;
    }

    .schedule-empty p {
      color: var(--color-gray-500);
      max-width: 400px;
      margin: 0 auto;
    }

    .schedule-filters {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .filter-btn {
      padding: 8px 16px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-200);
      border-radius: var(--radius-md);
      color: var(--color-gray-600);
      cursor: pointer;
      font-size: 0.9rem;
      transition: all var(--transition-normal);
    }

    .filter-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
    }

    .month-view {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      padding: 25px;
      margin-bottom: 30px;
    }

    .month-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }

    .month-title {
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--color-gray-900);
    }

    .month-nav {
      display: flex;
      gap: 10px;
    }

    .month-nav-btn {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: var(--color-gray-100);
      border: none;
      color: var(--color-gray-600);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-normal);
    }

    .month-nav-btn:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
    }

    .calendar-grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 8px;
    }

    .calendar-day-header {
      text-align: center;
      font-weight: 600;
      color: var(--color-gray-600);
      font-size: 0.9rem;
      padding: 10px 0;
    }

    .calendar-day {
      aspect-ratio: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: var(--radius-md);
      cursor: pointer;
      transition: all var(--transition-normal);
      position: relative;
      font-size: 0.9rem;
    }

    .calendar-day.empty {
      background: transparent;
      cursor: default;
    }

    .calendar-day.today {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      font-weight: 600;
    }

    .calendar-day.has-event {
      background: var(--color-primary);
      color: var(--color-white);
      font-weight: 600;
    }

    .calendar-day:hover:not(.empty) {
      transform: scale(1.1);
      box-shadow: var(--shadow-sm);
    }

    .event-dot {
      position: absolute;
      bottom: 5px;
      left: 50%;
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      background: #FF6B6B;
      border-radius: 50%;
    }

    .event-dot.important {
      background: #FF6B6B;
    }

    .event-dot.live {
      background: #4CAF50;
    }

    .event-dot.performance {
      background: #9C27B0;
    }
    
    /* ========= 视频播放器 ========= */
    .video-player-container {
      position: relative;
      width: 100%;
      background: #000;
      border-radius: 8px;
      overflow: hidden;
    }

    .video-wrapper {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      height: 0;
    }

    .video-wrapper iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      z-index: 1;
    }

    .video-wrapper.playing iframe {
      z-index: 3;
    }

    .video-info-overlay {
      position: absolute;
      bottom: 10px;
      right: 10px;
      display: flex;
      gap: 8px;
      z-index: 10;
    }

    .video-quality, .video-duration {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 0.75rem;
    }

    /* ========= 视频相关 ========= */
    .original-links {
      background: var(--color-gray-50);
      border-radius: var(--radius-md);
      padding: 15px;
      margin: 15px 0;
      border-left: 3px solid var(--color-primary);
    }

    .original-links h4 {
      color: var(--color-gray-700);
      margin-bottom: 10px;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .link-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 10px;
    }

    .link-note {
      color: var(--color-gray-500);
      font-size: 0.8rem;
      margin-top: 8px;
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .video-description {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid var(--color-gray-200);
    }

    .video-stats {
      display: flex;
      gap: 15px;
      margin-top: 10px;
      font-size: 0.85rem;
      color: var(--color-gray-600);
    }

    .video-stats span {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    /* ========= 视频封面点击播放 ========= */
    .video-poster {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      cursor: pointer;
      z-index: 2;
      transition: opacity 0.3s ease;
    }

    .poster-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 15px;
    }

    .play-button {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      border: none;
      background: rgba(255, 255, 255, 0.9);
      color: var(--color-primary-dark);
      cursor: pointer;
      font-size: 2.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
    }

    .play-button:hover {
      transform: scale(1.1);
      background: white;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
    }

    .play-text {
      color: white;
      font-size: 1rem;
      font-weight: 500;
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5);
      background: rgba(0, 0, 0, 0.6);
      padding: 5px 15px;
      border-radius: 20px;
    }

    .video-poster.hidden {
      opacity: 0;
      pointer-events: none;
      z-index: 1;
    }

    /* ========= 飘落特效 ========= */
    #snowContainer {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 999;
      overflow: hidden;
    }

    /* ========= PC/移动端底部控制条（统一） ========= */
    .mobile-control-bar {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.98);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255, 194, 214, 0.3);
      display: flex;
      justify-content: space-around;
      padding: 12px;
      z-index: 1000;
      box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
      /* PC端和移动端都显示 */
      display: flex;
    }

    .mobile-control-btn {
      background: none;
      border: none;
      padding: 12px;
      color: var(--color-gray-700);
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      border-radius: 50%;
      width: 48px;
      height: 48px;
    }
    
    .mobile-control-btn:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      transform: translateY(-3px);
    }

    .mobile-control-btn.active {
      background: var(--color-primary);
      color: white;
    }

    /* ========= 增加内容间距避免底部控制条遮挡 ========= */
    .content-wrapper {
      padding-bottom: 80px !important;
    }

    /* 深色模式适配 */
    [data-theme="dark"] .mobile-control-bar {
      background: rgba(30, 30, 30, 0.98);
      border-top-color: rgba(106, 64, 80, 0.3);
    }

    [data-theme="dark"] .mobile-control-btn {
      color: var(--color-gray-300);
    }
    
    /* ========= 动画关键帧 ========= */
    @keyframes heartbeat {
      0% { transform: scale(1); }
      50% { transform: scale(1.15); }
      100% { transform: scale(1); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-50%) translateX(20px);
      }
      to {
        opacity: 1;
        transform: translateY(-50%) translateX(0);
      }
    }

    /* ========= 改进的图片飘落效果（保持比例，左右飘动） ========= */
    @keyframes float-image-left-right {
      0% {
        transform: translateY(-100px) translateX(0);
        opacity: 0.8;
      }
      10% {
        transform: translateY(0) translateX(10px);
        opacity: 0.8;
      }
      20% {
        transform: translateY(20vh) translateX(-5px);
        opacity: 0.8;
      }
      30% {
        transform: translateY(40vh) translateX(15px);
        opacity: 0.8;
      }
      40% {
        transform: translateY(60vh) translateX(-10px);
        opacity: 0.7;
      }
      50% {
        transform: translateY(80vh) translateX(5px);
        opacity: 0.6;
      }
      60% {
        transform: translateY(100vh) translateX(-15px);
        opacity: 0.5;
      }
      70% {
        transform: translateY(120vh) translateX(10px);
        opacity: 0.4;
      }
      80% {
        transform: translateY(140vh) translateX(-5px);
        opacity: 0.3;
      }
      90% {
        transform: translateY(160vh) translateX(15px);
        opacity: 0.2;
      }
      100% {
        transform: translateY(180vh) translateX(0);
        opacity: 0;
      }
    }

    /* ========= 点击粒子效果 ========= */
    @keyframes particle-explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      50% {
        opacity: 0.7;
      }
      100% {
        transform: scale(1) translate(var(--tx), var(--ty));
        opacity: 0;
      }
    }

    .click-particle {
      position: absolute;
      background: var(--color-primary);
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      animation: particle-explode 0.6s ease-out forwards;
    }

    /* ========== 音乐播放器样式 ========== */
    .music-player-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 2002;
      backdrop-filter: blur(10px);
      overflow: hidden; /* 防止溢出 */
    }
    
    .music-player-overlay.active {
      display: flex;
    }
    
    .music-player {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      padding: 25px;
      width: 90%;
      max-width: 450px;
      max-height: 85vh; /* 限制最大高度 */
      box-shadow: var(--shadow-lg);
      position: relative;
      overflow: hidden; /* 防止内容溢出 */
      display: flex;
      flex-direction: column;
    }
    
    .music-player-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-title {
      font-size: 1.4rem;
      color: var(--color-gray-900);
      font-weight: 600;
    }
    
    .music-player-close {
      background: none;
      border: none;
      font-size: 1.5rem;
      color: var(--color-gray-600);
      cursor: pointer;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-close:hover {
      background: var(--color-gray-100);
      color: var(--color-gray-900);
    }
    
    .music-player-cover-container {
      width: 200px;
      height: 200px;
      margin: 0 auto 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-cover {
      width: 100%;
      height: 100%;
      border-radius: var(--radius-md);
      overflow: hidden;
      box-shadow: var(--shadow-md);
    }
    
    .music-player-cover img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .music-player-info {
      text-align: center;
      margin-bottom: 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-song {
      font-size: 1.2rem;
      color: var(--color-gray-900);
      font-weight: 600;
      margin-bottom: 5px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .music-player-artist {
      font-size: 0.95rem;
      color: var(--color-gray-600);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .music-player-progress {
      margin-bottom: 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-time {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 0.85rem;
      color: var(--color-gray-600);
    }
    
    .music-player-bar {
      height: 4px;
      background: var(--color-gray-200);
      border-radius: 2px;
      overflow: hidden;
      cursor: pointer;
    }
    
    .music-player-progress-bar {
      height: 100%;
      background: var(--color-primary);
      width: 0%;
      border-radius: 2px;
      transition: width 0.1s linear;
    }
    
    .music-player-controls {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-btn {
      background: none;
      border: none;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: var(--color-primary-dark);
      cursor: pointer;
      transition: all 0.3s ease;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-btn:hover {
      background: var(--color-primary-light);
      transform: scale(1.1);
    }
    
    .music-player-btn.play {
      width: 60px;
      height: 60px;
      background: var(--color-primary);
      color: var(--color-white);
      font-size: 1.8rem;
    }
    
    .music-player-btn.play:hover {
      background: var(--color-primary-dark);
      transform: scale(1.1);
    }
    
    .volume-control {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .volume-icon {
      color: var(--color-gray-600);
      font-size: 1.1rem;
      width: 30px;
      flex-shrink: 0;
    }
    
    .volume-slider {
      flex: 1;
      height: 4px;
      background: var(--color-gray-200);
      border-radius: 2px;
      cursor: pointer;
      position: relative;
      flex-shrink: 1;
    }
    
    .volume-slider-bar {
      height: 100%;
      background: var(--color-primary);
      border-radius: 2px;
      width: 70%;
    }
    
    .music-player-playlist-container {
      flex: 1; /* 占用剩余空间 */
      min-height: 0; /* 重要：允许flex item收缩 */
      overflow: hidden; /* 防止溢出 */
      display: flex;
      flex-direction: column;
      border-top: 1px solid var(--color-gray-200);
      padding-top: 15px;
    }
    
    .music-player-playlist-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
      flex-shrink: 0;
    }
    
    .music-player-playlist-title {
      font-size: 1rem;
      color: var(--color-gray-700);
    }
    
    .shuffle-btn {
      background: none;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
      color: var(--color-gray-600);
      cursor: pointer;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    
    .shuffle-btn:hover {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
    }
    
    .shuffle-btn.active {
      background: var(--color-primary);
      color: var(--color-white);
    }
    
    .music-player-playlist {
      flex: 1;
      overflow-y: auto; /* 添加滚动条 */
      overflow-x: hidden;
      padding-right: 5px; /* 为滚动条留空间 */
    }
    
    /* 自定义滚动条样式 */
    .music-player-playlist::-webkit-scrollbar {
      width: 6px;
    }
    
    .music-player-playlist::-webkit-scrollbar-track {
      background: var(--color-gray-100);
      border-radius: 3px;
    }
    
    .music-player-playlist::-webkit-scrollbar-thumb {
      background: var(--color-primary-light);
      border-radius: 3px;
    }
    
    .music-player-playlist::-webkit-scrollbar-thumb:hover {
      background: var(--color-primary);
    }
    
    .music-player-playlist-item {
      padding: 10px;
      border-radius: var(--radius-md);
      margin-bottom: 5px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 10px;
      flex-shrink: 0; /* 防止压缩 */
    }
    
    .music-player-playlist-item:hover {
      background: var(--color-gray-100);
    }
    
    .music-player-playlist-item.active {
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
    }
    
    .music-player-playlist-item-index {
      width: 24px;
      height: 24px;
      background: var(--color-gray-200);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 500;
      flex-shrink: 0;
    }
    
    .music-player-playlist-item.active .music-player-playlist-item-index {
      background: var(--color-primary);
      color: var(--color-white);
    }
    
    .music-player-playlist-item-info {
      flex: 1;
      min-width: 0; /* 重要：允许文本截断 */
    }
    
    .music-player-playlist-item-title {
      font-size: 0.9rem;
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .music-player-playlist-item-artist {
      font-size: 0.8rem;
      color: var(--color-gray-500);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    /* 深色模式适配 */
    [data-theme="dark"] .music-player {
      background: var(--color-gray-100);
    }
    
    [data-theme="dark"] .music-player-playlist-item:hover {
      background: var(--color-gray-200);
    }
    
    [data-theme="dark"] .music-player-playlist-item.active {
      background: var(--color-primary);
      color: var(--color-white);
    }

    /* ========= 衣柜展示样式 ========= */
    .wardrobe-container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .wardrobe-item {
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      overflow: hidden;
      margin-bottom: 30px;
      transition: all var(--transition-normal);
    }
    
    .wardrobe-header {
      padding: 20px;
      border-bottom: 1px solid var(--color-gray-200);
    }
    
    .wardrobe-title {
      font-size: 1.5rem;
      color: var(--color-gray-900);
      font-weight: 600;
      margin-bottom: 8px;
    }
    
    .wardrobe-desc {
      color: var(--color-gray-600);
      font-size: 0.95rem;
    }
    
    .wardrobe-image-container {
      position: relative;
      width: 100%;
      height: 400px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, 
                  var(--color-primary-light) 0%, 
                  var(--color-gray-50) 100%);
    }
    
    .wardrobe-image {
      max-width: 90%;
      max-height: 90%;
      object-fit: contain;
      transition: transform 0.5s ease;
    }
    
    .wardrobe-item:hover .wardrobe-image {
      transform: scale(1.02);
    }
    
    .wardrobe-meta {
      padding: 15px 20px;
      background: var(--color-gray-50);
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-top: 1px solid var(--color-gray-200);
    }
    
    .wardrobe-colors {
      display: flex;
      align-items: center;
      gap: 8px;
    }

        /* ========= 服装款式选择器样式 ========= */
    .wardrobe-style-selector {
      max-width: 800px;
      margin: 0 auto 30px;
      padding: 20px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--color-gray-200);
    }
    
    .style-selector-header {
      text-align: center;
      margin-bottom: 20px;
    }
    
    .style-selector-title {
      font-size: 1.3rem;
      color: var(--color-gray-900);
      font-weight: 600;
      margin-bottom: 8px;
    }
    
    .style-selector-subtitle {
      color: var(--color-gray-600);
      font-size: 0.9rem;
    }
    
    .style-buttons-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
    }
    
    .style-button {
      padding: 12px 20px;
      background: var(--color-gray-100);
      border: 2px solid transparent;
      border-radius: 50px;
      color: var(--color-gray-700);
      cursor: pointer;
      font-weight: 500;
      transition: all var(--transition-normal);
      display: flex;
      align-items: center;
      gap: 8px;
      white-space: nowrap;
    }
    
    .style-button:hover {
      transform: translateY(-2px);
      background: var(--color-primary-light);
      color: var(--color-primary-dark);
      box-shadow: var(--shadow-sm);
    }
    
    .style-button.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: var(--color-white);
      box-shadow: 0 4px 12px rgba(255, 158, 189, 0.3);
    }
    
    .style-button i {
      font-size: 0.9rem;
    }
    
    .style-button .badge {
      display: inline-block;
      padding: 2px 6px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 10px;
      font-size: 0.7rem;
      margin-left: 5px;
    }
    
    /* 移除原来的颜色选择器容器样式 */
    .color-picker-container {
      display: none;
    }
    
    .color-picker-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin-top: 25px;
      padding: 20px;
      background: var(--color-white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--color-gray-200);
    }
    
    .color-indicator {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px;
      font-size: 0.9rem;
      color: var(--color-gray-700);
    }
    
    .current-color {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      border: 2px solid var(--color-white);
      box-shadow: 0 0 0 1px var(--color-gray-300);
    }
    
    .color-dots {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-top: 15px;
    }
    
    .color-dot {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid transparent;
      transition: all var(--transition-normal);
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      position: relative;
    }
    
    .color-dot:hover {
      transform: scale(1.15);
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
    }
    
    .color-dot.active {
      border-color: var(--color-white);
      box-shadow: 0 0 0 2px var(--color-primary), 0 4px 8px rgba(0,0,0,0.2);
      transform: scale(1.1);
    }
    
    .color-name {
      position: absolute;
      bottom: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.7rem;
      color: var(--color-gray-600);
      white-space: nowrap;
    }
    
    /* 移动端适配 */
    @media (max-width: 768px) {
      .wardrobe-image-container {
        height: 300px;
      }
      
      .color-dots {
        flex-wrap: wrap;
        gap: 8px;
      }
      
      .color-dot {
        width: 20px;
        height: 20px;
      }
      
      .wardrobe-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
    }

    /* ========= 二创汇总 ========= */
.fanworks-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 24px;
  margin-top: 30px;
  margin-bottom: 40px;
}

.fanwork-card {
  background: var(--color-white);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  overflow: hidden;
  transition: all 0.3s ease;
  border: 1px solid var(--color-gray-200);
  height: 100%;
  display: flex;
  flex-direction: column;
}

.fanwork-card:hover {
  transform: translateY(-6px);
  box-shadow: var(--shadow-lg);
  border-color: var(--color-primary);
}

.fanwork-image {
  position: relative;
  width: 100%;
  height: 180px;
  overflow: hidden;
}

.fanwork-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  transition: transform 0.3s ease;
}

.fanwork-card:hover .fanwork-image img {
  transform: scale(1.05);
}

.fanwork-content {
  padding: 20px;
  flex: 1;
  display: flex;
  flex-direction: column;
}

.fanwork-title {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 10px;
  color: var(--color-gray-900);
  line-height: 1.4;
}

.fanwork-desc {
  font-size: 0.9rem;
  color: var(--color-gray-600);
  margin-bottom: 15px;
  line-height: 1.5;
  flex: 1;
}

.fanwork-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: auto;
  padding-top: 15px;
  border-top: 1px solid var(--color-gray-100);
}

.fanwork-author {
  font-size: 0.85rem;
  color: var(--color-gray-500);
  display: flex;
  align-items: center;
  gap: 5px;
}

.fanwork-author i {
  color: var(--color-primary);
}

.fanwork-link {
  font-size: 0.85rem;
  color: var(--color-primary-dark);
  text-decoration: none;
  font-weight: 500;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.2s ease;
}

.fanwork-link:hover {
  text-decoration: underline;
  color: var(--color-primary);
}

.fanwork-note {
  margin-top: 40px;
  text-align: center;
  font-size: 0.9rem;
  color: var(--color-gray-500);
  padding: 20px;
  background: var(--color-gray-50);
  border-radius: var(--radius-md);
  border: 1px solid var(--color-gray-200);
}

.fanwork-note a {
  color: var(--color-primary-dark);
  text-decoration: none;
  font-weight: 500;
}

.fanwork-note a:hover {
  text-decoration: underline;
}

/* 二创作品类型标签 */
.fanwork-type {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 4px 12px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--color-primary-dark);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 194, 214, 0.3);
  z-index: 2;
}

/* 投稿入口按钮 */
.fanwork-submit-btn {
  display: inline-block;
  margin-top: 30px;
  padding: 12px 30px;
  background: var(--color-primary);
  color: var(--color-white);
  border-radius: 50px;
  text-decoration: none;
  font-weight: 500;
  transition: all 0.3s ease;
  border: none;
  cursor: pointer;
  font-size: 0.95rem;
}

.fanwork-submit-btn:hover {
  background: var(--color-primary-dark);
  transform: translateY(-3px);
  box-shadow: 0 6px 20px rgba(255, 158, 189, 0.3);
}

.fanwork-submit-btn i {
  margin-right: 8px;
}

/* 移动端适配 */
@media (max-width: 768px) {
  .fanworks-grid {
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .fanwork-image {
    height: 160px;
  }
  
  .fanwork-content {
    padding: 16px;
  }
}

    /* ========= 移动端适配 ========= */
    @media (max-width: 768px) {
      .container {
        padding: 0 16px;
      }
      
      .header-content {
        flex-direction: column;
        gap: 20px;
        text-align: center;
        padding: 0 16px 20px;
      }
      
      .logo {
        align-items: center;
        text-align: center;
        min-height: auto;
      }
      
      .main-nav {
        padding: 12px 16px;
        gap: 6px;
        justify-content: flex-start;
      }
      
      .nav-item {
        padding: 10px 16px;
        font-size: 0.9rem;
      }
      
      .content-wrapper {
        padding: 20px;
        margin: 10px 0;
      }
      
      .section-header {
        padding: 15px;
        margin-bottom: 25px;
      }
      
      .profile-card {
        flex-direction: column;
        padding: 20px;
        gap: 20px;
      }
      
      .works-grid {
        grid-template-columns: 1fr;
      }
      
      .sub-nav {
        padding: 15px;
        gap: 8px;
      }
      
      .sub-nav-btn {
        padding: 10px 16px;
        font-size: 0.9rem;
      }
      
      .footer-content {
        grid-template-columns: 1fr;
      }
      
      .image-nav {
        width: 40px;
        height: 40px;
        font-size: 1rem;
      }
      
      .image-prev {
        left: 10px;
      }
      
      .image-next {
        right: 10px;
      }
      
      .schedule-card {
        flex-direction: column;
      }
      
      .schedule-date {
        margin-right: 0;
        margin-bottom: 15px;
        width: 100%;
      }
      
      .calendar-grid {
        gap: 4px;
      }
      
      .calendar-day {
        font-size: 0.8rem;
      }
      
      .link-buttons {
        flex-direction: column;
      }
      
      .link-buttons .channel-btn {
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .logo-text {
        font-size: 1.8rem;
      }
      
      .logo-sub {
        font-size: 0.85rem;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
    }

    /* 音乐播放器移动端适配 */
    @media (max-width: 768px) {
      .music-player {
        padding: 20px;
        width: 95%;
        max-height: 80vh;
      }
      
      .music-player-cover-container {
        width: 150px;
        height: 150px;
      }
      
      .music-player-controls {
        gap: 15px;
      }
      
      .music-player-btn {
        width: 45px;
        height: 45px;
        font-size: 1.3rem;
      }
      
      .music-player-btn.play {
        width: 55px;
        height: 55px;
        font-size: 1.6rem;
      }
    
      .wardrobe-style-selector {
        padding: 15px;
        margin-bottom: 20px;
      }
      
      .style-buttons-container {
        gap: 8px;
      }
      
      .style-button {
        padding: 10px 15px;
        font-size: 0.9rem;
      }
      
      .style-button i {
        display: none; /* 在移动端隐藏图标以节省空间 */
      }
      
      .wardrobe-image-container {
        height: 300px;
      }
      
      .color-dots {
        flex-wrap: wrap;
        gap: 8px;
      }
      
      .color-dot {
        width: 20px;
        height: 20px;
      }
      
      .wardrobe-meta {
        flex-direction: column;
        align-items: flex-start;
        gap: 10px;
      }
     }
  </style>
</head>
<body>
  <!-- 加载动画 -->
  <div class="loading-overlay" id="loading">
    <div class="loading-spinner">
      <div><i class="fas fa-heart"></i></div>
      <p>加载中...</p>
    </div>
  </div>

  <!-- 图片查看器 -->
  <div class="image-viewer-overlay" id="imageViewer">
    <button class="image-close" onclick="closeImageViewer()">×</button>
    <button class="image-nav image-prev" onclick="prevImage()">‹</button>
    <div class="image-viewer"><img id="viewerImage" src="" alt=""></div>
    <button class="image-nav image-next" onclick="nextImage()">›</button>
    <div class="image-counter" id="imageCounter">1 / 5</div>
  </div>

  <!-- 飘落容器 -->
  <div id="snowContainer"></div>

  <div class="container">
    <!-- HEADER 区域 -->
    <header class="main-header glass-effect">
      <div class="header-content">
        <div class="logo">
          <h1 class="logo-text">蔡丰玖·BAMBY</h1>
          <p class="logo-sub">安利手册 | 资源汇总</p>
        </div>
      </div>
      <nav class="main-nav">
        <a href="#personal" class="nav-item active" data-tab="personal"><i class="fas fa-user"></i><span>个人信息</span></a>
        <a href="#anli" class="nav-item" data-tab="anli"><i class="fas fa-star"></i><span>安利向</span></a>
        <a href="#materials" class="nav-item" data-tab="materials"><i class="fas fa-images"></i><span>物料汇总</span></a>
        <a href="#wardrobe" class="nav-item" data-tab="wardrobe"><i class="fas fa-tshirt"></i><span>魔法衣橱</span></a>
        <a href="#schedule" class="nav-item" data-tab="schedule"><i class="fas fa-calendar-alt"></i><span>日程</span></a>
        <a href="#fanworks" class="nav-item" data-tab="fanworks"><i class="fas fa-palette"></i><span>二创汇总</span></a>
        <a href="#others" class="nav-item" data-tab="others"><i class="fas fa-ellipsis-h"></i><span>其他</span></a>
      </nav>
    </header>

    <!-- PC/移动端底部控制条（统一） -->
<div class="mobile-control-bar">
  <button class="mobile-control-btn" onclick="toggleTheme()">
    <i class="fas fa-moon"></i>
  </button>
  <!-- 改为打开音乐播放器 -->
  <button class="mobile-control-btn" onclick="openMusicPlayer()">
    <i class="fas fa-music"></i>
  </button>
  <button class="mobile-control-btn" onclick="toggleSnow()">
    <i class="fas fa-heart"></i>
  </button>
  <button class="mobile-control-btn" onclick="scrollToTop()">
    <i class="fas fa-arrow-up"></i>
  </button>
</div>

    <!-- 音乐播放器 -->
  <div class="music-player-overlay" id="musicPlayerOverlay">
    <div class="music-player">
      <div class="music-player-header">
        <h3 class="music-player-title">𝄞⋆.˚BAMBY的音乐电台𓈒 ݁ ♬</h3>
        <button class="music-player-close" onclick="closeMusicPlayer()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      
      <div class="music-player-cover">
        <img id="musicCover" src="" alt="专辑封面">
      </div>
      
      <div class="music-player-info">
        <div class="music-player-song" id="musicTitle">歌曲名称</div>
        <div class="music-player-artist" id="musicArtist">演唱者</div>
      </div>
      
      <div class="music-player-progress">
        <div class="music-player-time">
          <span id="currentTime">0:00</span>
          <span id="duration">0:00</span>
        </div>
        <div class="music-player-bar" onclick="seekAudio(event)">
          <div class="music-player-progress-bar" id="progressBar"></div>
        </div>
      </div>
      
      <div class="music-player-controls">
        <button class="music-player-btn" onclick="playPrevious()">
          <i class="fas fa-step-backward"></i>
        </button>
        <button class="music-player-btn play" onclick="togglePlay()">
          <i class="fas fa-play" id="playIcon"></i>
        </button>
        <button class="music-player-btn" onclick="playNext()">
          <i class="fas fa-step-forward"></i>
        </button>
      </div>
      
      <div class="volume-control">
        <div class="volume-icon">
          <i class="fas fa-volume-up"></i>
        </div>
        <div class="volume-slider" onclick="adjustVolume(event)">
          <div class="volume-slider-bar" id="volumeBar"></div>
        </div>
      </div>
      
      <div class="music-player-playlist">
        <div class="music-player-playlist-title">
          <span>播放列表</span>
          <button class="shuffle-btn" id="shuffleBtn" onclick="toggleShuffle()">
            <i class="fas fa-random"></i>
          </button>
        </div>
        <div id="playlistItems">
          <!-- 播放列表项将通过JavaScript动态生成 -->
        </div>
      </div>
    </div>
  </div>

  <!-- 音频元素 -->
  <audio id="bgmPlayer">
    <!-- 音频源将通过JavaScript动态设置 -->
  </audio>

    <!-- BEGIN MAIN CONTENT -->
    <main class="content-wrapper">
      <!-- 个人信息部分 -->
      <section id="personal" class="content-section active">
        <div class="section-header">
          <h2 class="section-title">个人信息</h2>
          <p class="section-subtitle">蔡丰玖 | 蔡斑比</p>
        </div>
        <div class="profile-links">
          <div class="profile-image-container">
            <img src="https://i.ibb.co/xSPTsw5B/img-1769293823449d8bfeac6b14d3a26a24242315f8fa5ac25202942436be088bb2339330656e9af.jpg" 
                 alt="蔡丰玖 Bamby" 
                 style="width:100%;border-radius:var(--radius-md);">
  <a href="https://weibo.com/u/5143372154"
     target="_blank"
     rel="noopener noreferrer"
     class="profile-link"
     onclick="event.stopPropagation(); window.open(this.href,'_blank','noopener');">
    <i class="fab fa-weibo"></i>
    鹿站主页
  </a>
</div>
          <div class="profile-info">
            <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:16px;width:100%;">
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">姓名</div>
                <div>蔡丰玖 / Bamby / 밤비 / バンビ</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">生日</div>
                <div>2002年7月15日</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">星座</div>
                <div>巨蟹座</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">身高</div>
                <div>174cm</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">血型</div>
                <div>B型</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">MBTI</div>
                <div>INFP-T → INTP → INFP</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">定位</div>
                <div>Dance，Vocal，编舞师</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">标志</div>
                <div>鹿，粉红色爱心，鼠</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">昵称</div>
                <div>小可爱，嘣咕，粉红小不点，蔡代表</div>
              </div>
              <div class="info-item">
                <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">幸运数</div>
                <div>3</div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- 安利向部分 -->
      <section id="anli" class="content-section">
        <div class="section-header">
          <h2 class="section-title">安利向</h2>
          <p class="section-subtitle">翻唱、翻跳、舞台直拍</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="covers">
            <i class="fas fa-microphone"></i>
            翻唱作品
          </button>
          <button class="sub-nav-btn" data-subtab="dance">
            <i class="fas fa-running"></i>
            翻跳作品
          </button>
          <button class="sub-nav-btn" data-subtab="stage">
            <i class="fas fa-video"></i>
            舞台直拍
          </button>
        </div>
        
        <!-- 翻唱作品 -->
        <div class="sub-section active" data-subtab="covers">
          <h3 class="section-title mb-4">🎤 翻唱作品</h3>
          <div class="sort-controls" id="covers-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
          </div>
          <div class="works-grid" id="covers-works-grid">
            <!-- 翻唱作品卡片将通过JavaScript动态生成 -->
          </div>
        </div>
        
        <!-- 翻跳作品 -->
        <div class="sub-section" data-subtab="dance">
          <h3 class="section-title mb-4">💃 翻跳作品</h3>
          <div class="sort-controls" id="dance-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
          </div>
          <div class="works-grid" id="dance-works-grid">
            <!-- 翻跳作品卡片将通过JavaScript动态生成 -->
          </div>
        </div>
        
        <!-- 直拍视频区域 -->
        <div class="sub-section" data-subtab="stage">
          <h3 class="section-title mb-4">🎬 舞台直拍</h3>
          <div class="sort-controls" id="stage-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
          </div>
          <div class="works-grid" id="stage-works-grid">
            <!-- 直拍视频卡片将通过JavaScript动态生成 -->
          </div>
        </div>
      </section>
      
      <!-- 物料汇总部分 -->
      <section id="materials" class="content-section">
        <div class="section-header">
          <h2 class="section-title">物料汇总</h2>
          <p class="section-subtitle">回归概念照、官方wvs、ins照片、直播幕后个人照、幕后花絮（待解锁）</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="concept">
            <i class="fas fa-camera"></i>
            回归照
          </button>
          <button class="sub-nav-btn" data-subtab="photos">
            <i class="fas fa-crown"></i>  
            官方照片
          </button>
          <button class="sub-nav-btn" data-subtab="personal-photos">
            <i class="fas fa-user-circle"></i>
            个人照
          </button>
          <button class="sub-nav-btn" data-subtab="magazine">
            <i class="fas fa-newspaper"></i>
            杂志专区
          </button>
          <button class="sub-nav-btn" data-subtab="personal-mimu">
            <i class="fas fa-star"></i>
            咪姆照片
          </button>
          <button class="sub-nav-btn" data-subtab="behind">
            <i class="fas fa-video"></i>
            幕后花絮
          </button>
        </div>
        
        <!-- 回归照 -->
        <div class="sub-section active" data-subtab="concept">
          <h3 class="section-title mb-4">📸 回归照</h3>
          <div class="sort-controls" id="concept-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
          </div>
          <div class="works-grid" id="concept-works-grid">
            <!-- 回归照卡片将通过JavaScript动态生成 -->
          </div>
        </div>

        <div class="sub-section" data-subtab="photos">
          <h3 class="section-title mb-4">📸 官方照</h3>
          <div class="sort-controls" id="photos-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
          </div>
         <div class="works-grid" id="photos-works-grid">
           <!-- 将通过JavaScript动态生成 -->
         </div>
       </div>

        <!-- 个人照 -->
    <div class="sub-section" data-subtab="personal-photos">
        <h3 class="section-title mb-4">📷 个人照</h3>
        <div class="sort-controls" id="personal-photos-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
        </div>
        <div class="works-grid" id="personal-photos-works-grid">
            <!-- 将通过JavaScript动态生成 -->
        </div>
    </div>

        <!-- 杂志专区 -->
    <div class="sub-section" data-subtab="magazine">
        <h3 class="section-title mb-4">📰 杂志专区</h3>
        <div class="sort-controls" id="magazine-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
        </div>
        <div class="works-grid" id="magazine-works-grid">
            <!-- 将通过JavaScript动态生成 -->
        </div>
    </div>

        <!-- 咪姆照片 -->
    <div class="sub-section" data-subtab="personal-mimu">
        <h3 class="section-title mb-4">⭐ 咪姆照片</h3>
        <div class="sort-controls" id="mimu-sort-controls">
            <button class="sort-btn active" data-sort="date-desc">最新在前</button>
            <button class="sort-btn" data-sort="date-asc">最旧在前</button>
            <button class="sort-btn" data-sort="title-asc">按标题排序</button>
        </div>
        <div class="works-grid" id="mimu-works-grid">
            <!-- 将通过JavaScript动态生成 -->
        </div>
    </div>

         <!-- 幕后花絮 -->
    <div class="sub-section" data-subtab="behind">
        <h3 class="section-title mb-4">🎬 幕后花絮</h3>
        <div class="works-grid">
            <div class="work-card">
                <div class="work-content">
                    <h3 class="work-title">幕后花絮合集</h3>
                    <p class="work-desc">录制现场、排练、采访等幕后内容</p>
                    <button class="channel-btn weibo" style="width: 100%;" onclick="showToast('功能开发中')">
                        <i class="fas fa-spinner"></i>
                        查看花絮（开发中）
                    </button>
                </div>
            </div>
        </div>
    </div>
      </section>

      <!-- 行程日程部分 -->
      <section id="schedule" class="content-section">
        <div class="section-header">
          <h2 class="section-title">BAMBY日程</h2>
          <p class="section-subtitle">个人相关活动时间表</p>
        </div>
        
        <div class="sub-nav">
          <button class="sub-nav-btn active" data-subtab="upcoming">
            <i class="fas fa-clock"></i>
            近期行程
          </button>
          <button class="sub-nav-btn" data-subtab="monthly">
            <i class="fas fa-calendar"></i>
            月度视图
          </button>
          <button class="sub-nav-btn" data-subtab="past">
            <i class="fas fa-history"></i>
            过往记录
          </button>
        </div>
        
        <!-- 近期行程 -->
        <div class="sub-section active" data-subtab="upcoming">
          <div class="schedule-filters">
            <button class="filter-btn active" data-filter="all">全部</button>
            <button class="filter-btn" data-filter="live">直播</button>
            <button class="filter-btn" data-filter="performance">演出</button>
          </div>
          
          <div class="schedule-container" id="upcoming-schedule">
            <!-- 近期行程将通过JavaScript动态生成 -->
          </div>
          
          <div class="official-link mt-4" style="text-align: center;">
            <p style="color: var(--color-gray-500); margin-bottom: 10px; font-size: 0.9rem;">
              <i class="fas fa-info-circle"></i> 日程可能临时调整，请以官方通知为准
            </p>
            <a href="https://plavecalendar.com/" target="_blank" class="channel-btn weibo" style="display: inline-block; max-width: 300px;">
              <i class="fas fa-external-link-alt"></i>
              查看官方完整日程
            </a>
          </div>
        </div>

        <!-- 月度视图 -->
        <div class="sub-section" data-subtab="monthly">
          <div class="month-view">
            <div class="month-header">
              <h3 class="month-title" id="monthTitle">2026年 1月</h3>
              <div class="month-nav">
                <button class="month-nav-btn" id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                <button class="month-nav-btn" id="nextMonth"><i class="fas fa-chevron-right"></i></button>
              </div>
            </div>
            
            <div class="calendar-grid" id="calendarGrid">
              <!-- 日历将通过JavaScript动态生成 -->
            </div>
          </div>
          
          <div class="schedule-container">
            <h3 class="section-title mb-4" style="text-align: center;">本月重点日程</h3>
            <div id="monthly-schedule">
              <!-- 月度重点日程将通过JavaScript动态生成 -->
            </div>
          </div>
        </div>

        <!-- 过往记录 -->
        <div class="sub-section" data-subtab="past">
          <div class="schedule-container" id="past-schedule">
            <!-- 过往记录将通过JavaScript动态生成 -->
          </div>
        </div>
      </section>

              <!-- 衣柜展示部分 -->
      <section id="wardrobe" class="content-section">
        <div class="section-header">
          <h2 class="section-title">BAMBY衣柜展示</h2>
          <p class="section-subtitle">同款不同色服装展示</p>
        </div>
        
        <!-- 服装款式选择器（放在卡片上方） -->
        <div class="wardrobe-style-selector">
          <div class="style-selector-header">
            <h3 class="style-selector-title">选择服装款式</h3>
            <p class="style-selector-subtitle">点击下方按钮切换不同服装</p>
          </div>
          <div class="style-buttons-container" id="style-buttons-container">
            <!-- 服装款式按钮将通过JavaScript动态生成 -->
          </div>
        </div>
        
        <div class="wardrobe-container">
          <!-- 衣柜展示将通过JavaScript动态生成 -->
          <div id="wardrobe-content">
            <!-- 默认展示第一个服装 -->
          </div>
        </div>
      </section>

      <!-- 衣柜展示部分结束 -->


<!-- 二创汇总模块 -->
<section id="fanworks" class="content-section">
  <div class="section-header">
    <h2 class="section-title">二创汇总</h2>
    <p class="section-subtitle">欢迎创作者展示 · 点击直达原作</p>
  </div>
  
  <div class="container">
    <!-- 分类筛选（可选） -->
    <div class="sub-nav" style="margin-bottom: 30px;">
      <button class="sub-nav-btn active" data-fanwork-type="all">全部</button>
      <button class="sub-nav-btn" data-fanwork-type="illustration">绘画</button>
      <button class="sub-nav-btn" data-fanwork-type="video">剪辑</button>
      <button class="sub-nav-btn" data-fanwork-type="writing">同人文</button>
      <button class="sub-nav-btn" data-fanwork-type="other">其他</button>
    </div>
    
    <div class="fanworks-grid" id="fanworks-grid">
      <!-- 二创卡片将通过JavaScript动态生成 -->
    </div>
    
    <!-- 投稿入口 -->
    <div style="text-align: center; margin: 40px 0;">
      <p style="margin-bottom: 20px; color: var(--color-gray-600);">
        欢迎创作者投稿，让更多人看到你的作品！
      </p>
      <a href="https://docs.google.com/forms/d/e/xxx" target="_blank" class="fanwork-submit-btn">
        <i class="fas fa-paper-plane"></i>
        
      </a>
    </div>
    
    <p class="fanwork-note">
      本站为非盈利粉丝整理站点，仅作推荐与索引使用。<br>
      所有作品版权归原作者所有。若作者希望补充信息或撤下展示，<br>
      请在留言板评论或联系微博 <a href="https://weibo.com/u/5143372154" target="_blank">@蔡丰玖_DeerBamby0715</a>
    </p>
  </div>
</section>

<!-- 日程部分（原有内容） -->
<section id="schedule" class="content-section">
  <!-- ... 原有日程内容 ... -->
</section>

      <!-- 其他部分 -->
      <section id="others" class="content-section">
        <div class="section-header">
          <h2 class="section-title">其他</h2>
          <p class="section-subtitle">链接整理、社区相关、更多信息</p>
        </div>
        <div class="works-grid">
          <div class="work-card">
            <div class="work-content">
              <h3 class="work-title">重要链接</h3>
              <div style="margin-top:1rem;">
                <div class="info-item">
                  <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">微博超话</div>
                  <div>
                    <a href="http://t.cn/AXyOGz13" target="_blank" style="color: var(--color-primary-dark); text-decoration: none;">
                      鹿超
                    </a>
                  </div>
                </div>
                <div class="info-item">
                  <div style="font-weight:600;color:var(--color-gray-700);margin-bottom:4px;">PLAVE官方</div>
                  <div>
                    <a href="https://weibo.com/u/7825391749" target="_blank" style="color: var(--color-primary-dark); text-decoration: none;">
                      微博主页
                    </a>
                    <a href="https://space.bilibili.com/3493141629896727?spm_id_from=333.337.0.0" target="_blank" style="color: var(--color-primary-dark); text-decoration: none; margin-left:10px;">
                      b站主页
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <footer class="main-footer">
        <div class="footer-content">
          <div class="footer-section">
            <h4>蔡丰玖·BAMBY 安利手册</h4>
            <p>粉丝自制非官方站点</p>
          </div>
          <div class="footer-section">
            <h4>声明</h4>
            <p>所有资源均来源于网络</p>
            <p>仅供粉丝交流使用</p>
          </div>
          <div class="footer-section">
            <h4>欢迎捉虫</h4>
            <p>有问题请联系微博鹿站</p>
          </div>
        </div>
        <div class="footer-bottom">
          <p>Made with <i class="fas fa-heart" style="color: var(--color-primary-dark);"></i> by Bamby Fans</p>
          <p style="margin-top: 8px; font-size: 0.8rem;">最后更新：2026年01月</p>
        </div>
      </footer>
    </main>
  </div>
  <script>
    // ========== 数据定义 ==========
    // 飘落图片
    const floatingImages = [
      'https://s2.loli.net/2026/01/27/8DuYv5rLyN3xqhZ.png'
    ];

    // 图片库数据
    const imageGalleries = {
      // 回归照
      'concept-set-8': [
        'https://s2.loli.net/2026/01/25/e3Kz98cW7kmAops.jpg',
        'https://s2.loli.net/2026/01/25/NtBSZe8TlLmPRFW.jpg',
        'https://s2.loli.net/2026/01/25/3LcUXRiten9gbGV.jpg',
        'https://s2.loli.net/2026/01/25/iG7NMtmCnyrfp8S.jpg',
        'https://s2.loli.net/2026/01/25/fb8KqsMSACw2NTa.jpg',
        'https://s2.loli.net/2026/01/25/Q9R6ugTX1m7jGnh.jpg',
        'https://s2.loli.net/2026/01/25/L9OIpg18oJeDFES.jpg'
      ],
      'concept-set-7': [
        'https://s2.loli.net/2026/01/25/CMv1Z9AoOJHbhLW.jpg',
        'https://s2.loli.net/2026/01/25/FTxwZkqOCK1j7rc.jpg',
        'https://s2.loli.net/2026/01/25/PyCvQT1JUF3lAhr.jpg'
      ],
      'concept-set-6': [
    'https://i.ibb.co/0LzdYXs/IMG-8067.jpg',
    'https://i.ibb.co/GQZtCkjZ/IMG-8066.jpg',
    'https://i.ibb.co/1GKp0N3C/IMG-8082.jpg'
],
      'concept-set-1': [
        'https://s2.loli.net/2026/01/25/dg7v5itPwUnzmLf.jpg',
        'https://s2.loli.net/2026/01/25/vEIe9qHDTkCa6gh.jpg',
        'https://s2.loli.net/2026/01/25/P7yzmhsMVf4CwEF.jpg',
        'https://s2.loli.net/2026/01/25/A5XuNMat8d6Kw7W.jpg',
        'https://s2.loli.net/2026/01/25/wfq86iubnxVagFJ.jpg'
      ],
      // 官方照片
      'photos-set-0': [
        'https://s2.loli.net/2026/01/27/LyTodn5UWYj2kr6.jpg',
        'https://s2.loli.net/2026/01/27/PB3fxKVyAzvXULD.jpg',
        'https://s2.loli.net/2026/01/27/7GeWltPkJRShNq4.jpg',
        'https://s2.loli.net/2026/01/27/WqHn3iPDG7lvmLK.jpg',
        'https://s2.loli.net/2026/01/27/i7gN5hcbs6jV91l.jpg'
      ],
      'photos-set-1': [
        'https://s2.loli.net/2026/01/25/MIfmSEKOt7y6Ghr.jpg',
        'https://s2.loli.net/2026/01/25/9xhGIrSFCL8Um53.jpg',
        'https://s2.loli.net/2026/01/25/UClxQ216huqWimL.jpg',
        'https://s2.loli.net/2026/01/25/FqIj34evdLJDpl9.jpg'
      ],
      'photos-set-2': [
        'https://s2.loli.net/2026/01/25/jSgfpGxNKqluwEH.jpg',
        'https://s2.loli.net/2026/01/25/Jg9BtyNAHuWOvi7.jpg',
        'https://s2.loli.net/2026/01/25/m1v8NLuVyc9OUMk.jpg',
        'https://s2.loli.net/2026/01/25/xGJbhnQFeSYv3gz.jpg'
      ],
      // 个人照片
      'personal-set-2': [
        'https://s2.loli.net/2026/01/25/J127SlwpWBZviOM.jpg',
        'https://s2.loli.net/2026/01/25/24OmhqIxXsFPLkp.jpg',
        'https://s2.loli.net/2026/01/25/VjaqsuCYdTv5JFL.jpg',
    'https://s2.loli.net/2026/01/25/IPTGe9K2ZSOnhxv.jpg',
    'https://s2.loli.net/2026/01/25/WaYRBUyHP3xwr1D.jpg',
    'https://s2.loli.net/2026/01/25/sxFKdDichwuRa35.jpg',
    'https://s2.loli.net/2026/01/25/Af1yLSp2Ksqvcib.jpg',
    'https://s2.loli.net/2026/01/25/HPyDMIz1g4ZA37n.jpg',
    'https://s2.loli.net/2026/01/25/eWuZD5KwBb2HNIy.jpg',
    'https://s2.loli.net/2026/01/25/tSTsWyoKRbic3I5.jpg',
    'https://s2.loli.net/2026/01/25/8NCMinDx1mSTu96.jpg'
      ],
      'personal-set-3': [
    'https://s2.loli.net/2026/01/25/1Gqa5694gvIRSB8.jpg',
    'https://s2.loli.net/2026/01/25/eHTF7zSQUtWi5uv.jpg',
    'https://s2.loli.net/2026/01/25/u52svHCTj8V1PER.jpg',
    'https://s2.loli.net/2026/01/25/2PoLecsj7E1OZhI.jpg',
    'https://s2.loli.net/2026/01/25/w7LdWobmgkaDGzu.jpg',
    'https://s2.loli.net/2026/01/25/vjN436qlZ8wJKSB.jpg',
    'https://s2.loli.net/2026/01/25/TxesEKiqbNPlXM7.jpg',
    'https://s2.loli.net/2026/01/25/juVg3KNcXdysYQr.jpg',
    'https://s2.loli.net/2026/01/25/As6Wdet9rubxGTV.jpg',
    'https://s2.loli.net/2026/01/25/Uf9qOjbW2IkSvnw.jpg',
    'https://s2.loli.net/2026/01/25/GAH4OMQpobN9TPl.jpg',
    'https://s2.loli.net/2026/01/25/z4RvStYFM1eq28f.jpg',
    'https://s2.loli.net/2026/01/25/KP4eIhpXo8qvy9f.jpg',
    'https://s2.loli.net/2026/01/25/AlmCbzPh3BMjvYg.jpg',
    'https://s2.loli.net/2026/01/25/WF3PaXG2sIcYivB.jpg',
    'https://s2.loli.net/2026/01/25/GBTzJdHVLPWa6C5.jpg'
  ],
      'personal-set-10': [
    'https://i.ibb.co/0jzjg036/IMG-6146.jpg',
    'https://i.ibb.co/1fN7tVKn/IMG-6147.jpg',
    'https://i.ibb.co/zVMJpR1K/IMG-6148.jpg',
    'https://i.ibb.co/jvcbpMzB/IMG-6998.jpg',
    'https://i.ibb.co/W4swnzVB/IMG-6150.jpg',
    'https://i.ibb.co/YBSMpnPc/IMG-6151.jpg',
    'https://i.ibb.co/nqGnVCjn/IMG-6152.jpg',
    'https://i.ibb.co/nsXwb2Wt/IMG-6153.jpg',
    'https://i.ibb.co/x0NzQJ3/IMG-6154.jpg',
    'https://i.ibb.co/zTX85X6c/IMG-6155.jpg',
    'https://i.ibb.co/vCqmkfw0/IMG-6156.jpg',
    'https://i.ibb.co/gbDHgZ5q/IMG-6157.jpg',
    'https://i.ibb.co/60pm3H4f/IMG-6159.jpg',
    'https://i.ibb.co/CKHgZVhT/IMG-6158.jpg'
],
      'personal-set-12': [
    'https://i.ibb.co/whwbxgWj/IMG-6089.png',
    'https://i.ibb.co/KxsdYPvw/IMG-6083.jpg',
    'https://i.ibb.co/66WTSxn/IMG-6082.jpg',
    'https://i.ibb.co/jjrS0KF/IMG-6081.jpg',
    'https://i.ibb.co/jZDXLc4g/IMG-6080.jpg',
    'https://i.ibb.co/LXqQxrNm/IMG-6079.jpg',
    'https://i.ibb.co/9HTZGfrt/IMG-6078.jpg',
    'https://i.ibb.co/Ldx38Lp1/IMG-6077.png',
    'https://i.ibb.co/xqSsxVQC/IMG-6076.jpg',
    'https://i.ibb.co/pvfhzBmx/IMG-6075.jpg',
    'https://i.ibb.co/xt4tNfQs/IMG-6074.jpg',
    'https://i.ibb.co/TqtxcrYW/IMG-6073.jpg',
    'https://i.ibb.co/675zsb3x/IMG-6072.jpg',
    'https://i.ibb.co/35kjr8Cg/IMG-6071.jpg',
    'https://i.ibb.co/NdXybQqv/IMG-6070.jpg',
    'https://i.ibb.co/JRj2J63V/IMG-6069.jpg'
],
          'personal-set-13': [
    'https://i.ibb.co/QF5zY9Qn/IMG-6066.jpg',
    'https://i.ibb.co/TxQ7dxnx/IMG-6065.jpg',
    'https://i.ibb.co/WTdmsSX/IMG-6064.jpg',
    'https://i.ibb.co/KjrF48qt/IMG-6063.jpg',
    'https://i.ibb.co/Mx6mQV2Y/IMG-6062.jpg',
    'https://i.ibb.co/1fJd3WpT/IMG-6061.jpg',
    'https://i.ibb.co/F4Bvz91d/IMG-6060.jpg',
    'https://i.ibb.co/4nmk4Df7/IMG-6059.jpg',
    'https://i.ibb.co/8DXDmfnS/IMG-6058.jpg',
    'https://i.ibb.co/ycthgxVc/IMG-6057.jpg',
    'https://i.ibb.co/GfjpnCJj/IMG-6056.jpg',
    'https://i.ibb.co/hxgNmHSL/IMG-6055.jpg',
    'https://i.ibb.co/hxzvq6Ct/IMG-6054.jpg',
    'https://i.ibb.co/C3rCHcMd/IMG-6053.jpg',
    'https://i.ibb.co/8Lpw5Vxp/IMG-6052.jpg',
    'https://i.ibb.co/ZR9Khhw1/IMG-6051.jpg',
    'https://i.ibb.co/b5rbJvYh/IMG-6050.jpg',
    'https://i.ibb.co/Jj9JF6tn/IMG-6049.jpg',
    'https://i.ibb.co/0yBm7BW7/IMG-6048.jpg',
    'https://i.ibb.co/qYjhZXqw/IMG-6047.jpg',
    'https://i.ibb.co/fYkwpgQ0/IMG-6045.jpg',
    'https://i.ibb.co/5xSg5m7x/IMG-6043.jpg',
    'https://i.ibb.co/Cs51CKPR/IMG-6042.jpg',
    'https://i.ibb.co/3Y9nwn0v/IMG-6041.jpg',
    'https://i.ibb.co/jkKVFv0R/IMG-6040.jpg',
    'https://i.ibb.co/d4FjPYHc/IMG-6039.jpg',
    'https://i.ibb.co/mrF0sThx/IMG-6038.jpg',
    'https://i.ibb.co/9mWtM2kX/IMG-6037.jpg',
    'https://i.ibb.co/HLt1Nzb6/IMG-6036.jpg'
],
      'personal-set-15': [
    'https://i.ibb.co/1GC1Vz12/IMG-7994.jpg',
    'https://i.ibb.co/zHD03D2W/IMG-7995.jpg',
    'https://i.ibb.co/zwfJnf9/IMG-7996.jpg',
    'https://i.ibb.co/mC60dtCH/IMG-7997.jpg',
    'https://i.ibb.co/hxP00y2y/IMG-7998.jpg',
    'https://i.ibb.co/VY01tbz6/IMG-7999.jpg',
    'https://i.ibb.co/xtxTW8tc/IMG-8001.jpg',
    'https://i.ibb.co/kVhpzhzK/IMG-8002.jpg',
    'https://i.ibb.co/5hPzxYCV/IMG-8003.jpg',
    'https://i.ibb.co/gLwTc4D2/IMG-8005.jpg',
    'https://i.ibb.co/WvjHdb35/IMG-8004.jpg',
    'https://i.ibb.co/cKVHh2L0/IMG-8006.jpg',
    'https://i.ibb.co/yBgKGT7t/IMG-8007.jpg',
    'https://i.ibb.co/Ndgk6wkJ/IMG-8008.jpg',
    'https://i.ibb.co/kstvhHs6/IMG-8009.jpg',
    'https://i.ibb.co/60dvVSvZ/IMG-8010.jpg',
    'https://i.ibb.co/ynHC3ngm/IMG-8011.jpg'
],
      'personal-set-16': [
    'https://i.ibb.co/G48xjVfY/IMG-7993.jpg',
    'https://i.ibb.co/Kj7BwXzk/IMG-7992.jpg',
    'https://i.ibb.co/sdqqGvPW/IMG-7991.jpg',
    'https://i.ibb.co/mCGhQrQX/IMG-7990.jpg',
    'https://i.ibb.co/p64BPg8k/IMG-7989.jpg',
    'https://i.ibb.co/bTHRch3/IMG-7988.jpg',
    'https://i.ibb.co/wFct8JDd/IMG-7986.jpg',
    'https://i.ibb.co/zhccLfdT/IMG-7987.jpg'
],
      'personal-set-17': [
    'https://i.ibb.co/7xp81X8B/IMG-7969.jpg',
    'https://i.ibb.co/JWy25jCh/IMG-7972.jpg',
    'https://i.ibb.co/zVDdvMRZ/IMG-7973.jpg',
    'https://i.ibb.co/tpK9H4Br/IMG-7974.jpg',
    'https://i.ibb.co/xKs1T132/IMG-7975.jpg',
    'https://i.ibb.co/d4bZZd6C/IMG-7976.jpg',
    'https://i.ibb.co/ymzX31cT/IMG-7977.jpg',
    'https://i.ibb.co/wNGJwLGT/IMG-7979.jpg',
    'https://i.ibb.co/5WZC6Gk5/IMG-7980.jpg',
    'https://i.ibb.co/q3KMkn0K/IMG-7981.jpg',
    'https://i.ibb.co/xqJ9FY1c/IMG-7982.jpg',
    'https://i.ibb.co/fY62ZTMF/IMG-7983.jpg',
    'https://i.ibb.co/3mCsPXw9/IMG-7984.jpg'
],
          
          'personal-set-18': [
    'https://i.ibb.co/4nKMcht8/IMG-7951.jpg',
    'https://i.ibb.co/Z6B1VVjD/IMG-7952.jpg',
    'https://i.ibb.co/KxssSPPt/IMG-7953.jpg',
    'https://i.ibb.co/0RzDfQr9/IMG-7954.jpg',
    'https://i.ibb.co/pjj3vp8F/IMG-7955.jpg',
    'https://i.ibb.co/yFc1PYrX/IMG-7956.jpg',
    'https://i.ibb.co/1HK5tGS/IMG-7957.jpg',
    'https://i.ibb.co/LsrP63H/IMG-7958.jpg',
    'https://i.ibb.co/VpjcQmLn/IMG-7959.jpg',
    'https://i.ibb.co/Y4wBsBg8/IMG-7960.jpg',
    'https://i.ibb.co/YBsCNr9D/IMG-7961.jpg',
    'https://i.ibb.co/1S2qPFp/IMG-7962.jpg',
    'https://i.ibb.co/WNnVg2dQ/IMG-7963.jpg'
],
          'personal-set-19': [
    'https://i.ibb.co/Ng0qv9Fc/IMG-7938.jpg',
    'https://i.ibb.co/bMxjfgd4/IMG-7939.jpg',
    'https://i.ibb.co/tTfGymDd/IMG-7940.jpg',
    'https://i.ibb.co/twMBXnNz/IMG-7941.jpg',
    'https://i.ibb.co/TDdWZ34k/IMG-7942.jpg',
    'https://i.ibb.co/SXV81MQM/IMG-7944.jpg',
    'https://i.ibb.co/CKkS0kn3/IMG-7945.jpg',
    'https://i.ibb.co/sv2tPLfV/IMG-7947.jpg',
    'https://i.ibb.co/8LBCrckK/IMG-7946.jpg'
],
            'personal-set-20': [
                'https://i.ibb.co/wNW088jj/IMG-7917.jpg',
                'https://i.ibb.co/QvHQmQpV/IMG-7923.jpg',
                'https://i.ibb.co/qMxHJN7p/IMG-7925.jpg',
                'https://i.ibb.co/HL01VXw2/IMG-4353.jpg',
                'https://i.ibb.co/ksDqC0PJ/IMG-7927.jpg',
                'https://i.ibb.co/kVTgM9Cj/IMG-7928.jpg',
                'https://i.ibb.co/wZnnHPWD/IMG-7930.jpg',
                'https://i.ibb.co/KpYG8dqb/IMG-7931.jpg',
                'https://i.ibb.co/rf6SWJdG/IMG-7932.jpg',
                'https://i.ibb.co/JWzz3tcB/IMG-7933.jpg',
                'https://i.ibb.co/SDn0xjz7/IMG-7934.jpg',
                'https://i.ibb.co/pVFcyn1/IMG-7935.jpg',
                'https://i.ibb.co/hFp2Brwm/IMG-7936.jpg'
            ],
           'personal-set-21': [
                'https://i.ibb.co/mrx71PP1/IMG-7906.jpg',
                'https://i.ibb.co/mFV3HNP2/IMG-7908.jpg',
                'https://i.ibb.co/3m3QswYF/IMG-7909.jpg',
                'https://i.ibb.co/Vp0Nz1Vk/IMG-7910.jpg',
                'https://i.ibb.co/jsQB8p7/IMG-7911.jpg',
                'https://i.ibb.co/fd5JNVH0/IMG-7912.jpg',
                'https://i.ibb.co/Tzs2Bcz/IMG-7913.jpg',
                'https://i.ibb.co/jPBkg8GL/IMG-7914.jpg',
                'https://i.ibb.co/93ps5mRL/IMG-7914.jpg',
                'https://i.ibb.co/fGNV6TSy/IMG-7914.jpg',
                'https://i.ibb.co/Q3rRrhDX/IMG-7914.jpg',
                'https://i.ibb.co/5WmGbmkL/IMG-7915.jpg',
                'https://i.ibb.co/rf7DXbnp/IMG-7916.jpg'
            ],
            'personal-set-22': [
                'https://i.ibb.co/V0r169cW/IMG-7896.jpg',
                'https://i.ibb.co/20L0g9y9/IMG-7897.jpg',
                'https://i.ibb.co/My990NFQ/IMG-7900.jpg',
                'https://i.ibb.co/VcBJ1HwW/IMG-7901.jpg',
                'https://i.ibb.co/qYzv03xJ/IMG-7902.jpg',
                'https://i.ibb.co/BVLXszfy/IMG-7903.jpg',
                'https://i.ibb.co/y3hjRcC/IMG-7904.jpg',
                'https://i.ibb.co/y3hjRcC/IMG-7904.jpg'
            ],
      'personal-set-27': [
    'https://i.ibb.co/GQZtCkjZ/IMG-8066.jpg',
    'https://i.ibb.co/0LzdYXs/IMG-8067.jpg',
    'https://i.ibb.co/bjSYrpmV/IMG-8068.jpg',
    'https://i.ibb.co/rRT19nVQ/IMG-8069.jpg',
    'https://i.ibb.co/jZsXQjYk/IMG-4445.jpg',
    'https://i.ibb.co/1fG4gYJX/IMG-8071.jpg',
    'https://i.ibb.co/3Ymm0T5k/IMG-8072.jpg',
    'https://i.ibb.co/21W8L6jW/IMG-8073.jpg',
    'https://i.ibb.co/chjnxw6j/IMG-8074.jpg',
    'https://i.ibb.co/tSsMTW2/IMG-8075.jpg',
    'https://i.ibb.co/3ys2WGkV/IMG-8076.jpg',
    'https://i.ibb.co/yBMmWnCq/IMG-8077.jpg',
    'https://i.ibb.co/Z1MqyRz9/IMG-8078.jpg',
    'https://i.ibb.co/5hDFQwgB/IMG-8079.jpg',
    'https://i.ibb.co/tTZcPkXz/IMG-8080.jpg',
    'https://i.ibb.co/WWjGfrC4/IMG-8081.jpg'
],
      // 杂志照片
      'magazine-set-1': [
        'https://s2.loli.net/2026/01/25/sdg9ZGuFfJc5Y6N.jpg',
        'https://s2.loli.net/2026/01/25/yFtR6KfxoZTm7wM.jpg',
        'https://s2.loli.net/2026/01/25/fbhsR9ILqZP3KAH.jpg'
      ],
      // 咪姆照片
      'mimu-set-1': [
        'https://s2.loli.net/2026/01/25/pXZ5rdAtGcOe7a9.jpg',
        'https://s2.loli.net/2026/01/25/8x9tCavqpjSzKod.jpg'
      ],
      'mimu-set-2': [
    'https://s2.loli.net/2026/01/25/c7q1LkihZWAe4Hp.jpg',
    'https://s2.loli.net/2026/01/25/2fqNiPQb4LBO5t8.jpg'
  ]
    };

    // 翻唱作品数据
    const coversData = [
      {
        title: "I'm Not Alone",
        date: "2025-07-19",
        image: "https://s2.loli.net/2026/01/27/bnpUgqP1LfR2xSQ.jpg",
        desc: "原唱：徐英恩",
        links: {
          weibo: "https://weibo.com/7825391749/PBNGb28Bn",
          bilibili: "https://www.bilibili.com/video/BV1Wou1z5EdA/?spm_id_from=333.1387.search.video_card.click"
        }
      },
      {
        title: "The Little Prince",
        date: "2025-03-03",
        image: "https://s2.loli.net/2026/01/27/yMrgH5EzLiAXdeb.jpg",
        desc: "原唱：厉旭（RYEOWOOK）",
        links: {
          weibo: "https://weibo.com/7825391749/PgRs849eh",
          bilibili: "https://www.bilibili.com/video/BV1BN95Y5ENB/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
        title: "Pretender",
        date: "2024-07-17",
        image: "https://s2.loli.net/2026/01/25/gPZi4UANfMchabo.jpg",
        desc: "原唱: Official髭男dism",
        links: {
          weibo: "https://weibo.com/7825391749/Oo038pXcq",
          bilibili: "https://www.bilibili.com/video/BV1fE421c7hq/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
    title: "十二月的奇迹",
    date: "2024-07-03",
    image: "https://s2.loli.net/2026/01/25/cAzshr4LtaSFpJe.jpg",
    desc: "原唱: EXO",
    links: {
      weibo: "https://weibo.com/7825391749/OlS3N2Vqg",
      bilibili: "https://www.bilibili.com/video/BV1ow4m1a7bz/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "Dangerously",
    date: "2024-06-07",
    image: "https://s2.loli.net/2026/01/25/cm13sfpCFGRla92.jpg",
    desc: "原唱: Charlie Puth",
    links: {
      weibo: "http://t.cn/A6HrT3Q5",
      bilibili: "https://www.bilibili.com/video/BV1KT421v7pT/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "Square",
    date: "2024-05-29",
    image: "https://s2.loli.net/2026/01/25/8zIxCUgi2YRvfOQ.jpg",
    desc: "原唱: 白艺潾 (Yerin Baek)",
    links: {
      weibo: "http://t.cn/AXyOGz1e",
      bilibili: "https://www.bilibili.com/video/BV17m421T79A/?spm_id_from=333.1387.search.video_card.click"
    }
  },
  {
    title: "I hope It's breeze",
    date: "2024-05-15",
    image: "https://s2.loli.net/2026/01/24/qK9YhEoGyVOnjQT.jpg",
    desc: "原唱：봉구（GilguBonggu）",
    links: {
      weibo: "http://t.cn/A6HcnvQa",
      bilibili: "https://www.bilibili.com/video/BV1vz42117D6/?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "Versace On The Floor",
    date: "2024-05-01",
    image: "https://s2.loli.net/2026/01/27/ELVGcexyrin5lKZ.jpg",
    desc: "原唱：Bruno Mars",
    links: {
      weibo: "https://weibo.com/7825391749/Oci8vlG0f",
      bilibili: "https://www.bilibili.com/video/BV1fs421N7HP/?spm_id_from=333.1387.top_right_bar_window_history.content.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "事件的地平线",
    date: "2023-12-05",
    image: "https://s2.loli.net/2026/01/24/U1YnDTWBfkQOmNI.jpg",
    desc: "原唱：高润荷（YOUNHA）",
    links: {
      weibo: "http://t.cn/AXyOGzBh",
      bilibili: "https://www.bilibili.com/video/BV1PG411v7DF/?spm_id_from=333.1387.top_right_bar_window_history.content.click"
    }
  }
    ];

    // 翻跳作品数据
    const danceData = [
      {
        title: "姐姐真漂亮（横版）",
        date: "2023-07-10",
        image: "https://s2.loli.net/2026/01/25/eqTrixRBC4FIHPU.jpg",
        desc: "《누난너무예뻐(Replay) 》 - SHINee",
        links: {
          weibo: "http://t.cn/A6041BZL",
          bilibili: "https://www.bilibili.com/video/BV1JW4y1o7Ri/?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
        title: "姐姐真漂亮（竖版）",
        date: "2023-07-10",
        image: "https://s2.loli.net/2026/01/27/AqIafmXku7SZx9D.jpg",
        desc: "《누난너무예뻐(Replay) 》 - SHINee",
        links: {
          weibo: "https://weibo.com/7825391749/N9ewzz7C8",
          bilibili: "https://www.bilibili.com/video/BV1yk4y1P7Ke/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
        }
      },
      {
    title: "JIKJIN",
    date: "2023-03-23",
    image: "https://s2.loli.net/2026/01/27/PgieZcUdD4Sh3ys.png",
    desc: "《JIKJIN》- TREASURE",
    links: {
      weibo: "https://weibo.com/7825391749/MyEjBw4es",
      bilibili: "https://www.bilibili.com/video/BV1Hg4y1W7zf/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "这么可爱真是抱歉",
    date: "2023-03-05",
    image: "https://s2.loli.net/2026/01/27/aC78AejyUz5Q1No.jpg",
    desc: "宅舞翻跳",
    links: {
      weibo: null,
      bilibili: "https://www.bilibili.com/video/BV1PL41127bw/?spm_id_from=333.1387.search.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  },
  {
    title: "Ditto",
    date: "2023-03-03",
    image: "https://s2.loli.net/2026/01/25/Z1iXDGWdB6nyHeE.jpg",
    desc: "《Ditto》 - NewJeans",
    links: {
      weibo: "http://t.cn/A6ONqqvk",
      bilibili: "https://www.bilibili.com/video/BV1XM4y1R7EL/?spm_id_from=333.788.top_right_bar_window_history.content.click&vd_source=e230dc6164ce954968003ee48cac6c1f"
    }
  }
    ];

    // 物料数据
    const materialsData = {
      concept: [
        {
          title: "PLBBUU",
          date: "2025-10-30",
          image: "https://s2.loli.net/2026/01/25/e3Kz98cW7kmAops.jpg",
          desc: "个人/团体概念照 - BAMBY",
          gallery: "concept-set-8",
          imageCount: 7
        },
        {
      title: "Hide and Seek",
      date: "2025-06-13",
      image: "https://s2.loli.net/2026/01/25/CMv1Z9AoOJHbhLW.jpg",
      desc: "个人/团体概念照 - BAMBY",
      gallery: "concept-set-7",
      imageCount: 3
    },
        {
      title: "第六个夏天",
      date: "2025-06-13",
      image: "https://i.ibb.co/0LzdYXs/IMG-8067.jpg",
      desc: "个人/团体概念照 - BAMBY",
      gallery: "concept-set-6",
      imageCount: 3
    },
    {
      title: "ASTERUM",
      date: "2023-03-07",
      image: "https://s2.loli.net/2026/01/25/dg7v5itPwUnzmLf.jpg",
      desc: "个人/团体概念照+ MV拍摄现场照 - BAMBY",
      gallery: "concept-set-1",
      imageCount: 5
    }
        
      ],
      photos: [
        {
          title: "Day of Asterum",
          date: "2026-01-27",
          image: "https://s2.loli.net/2026/01/27/LyTodn5UWYj2kr6.jpg",
          desc: "ins官方照片",
          gallery: "photos-set-0",
          imageCount: 5
        },
        {
          title: "Day of Asterum",
          date: "2025-12-30",
          image: "https://s2.loli.net/2026/01/25/MIfmSEKOt7y6Ghr.jpg",
          desc: "wvs官方照片",
          gallery: "photos-set-1",
          imageCount: 4
        },
        {
      title: "Day of Asterum",
      date: "2025-12-28",
      image: "https://s2.loli.net/2026/01/25/jSgfpGxNKqluwEH.jpg",
      desc: "wvs官方照片",
      gallery: "photos-set-2",
      imageCount: 4
    }
      ],
      "personal-photos": [
        {
          title: "26年1月汇总",
          date: "2026-01",
          image: "https://s2.loli.net/2026/01/25/J127SlwpWBZviOM.jpg",
          desc: "26年1月直播等汇总照片",
          gallery: "personal-set-2",
          imageCount: 11
        },
        {
      title: "25年12月汇总",
      date: "2025-12",
      image: "https://s2.loli.net/2026/01/25/1Gqa5694gvIRSB8.jpg",
      desc: "25年12月直播等汇总照片",
      gallery: "personal-set-3",
      imageCount: 16
    },
        {
            title: "25年5月汇总",
            date: "2025-05",
            image: "https://i.ibb.co/0jzjg036/IMG-6146.jpg",
            desc: "25年5月直播等汇总照片",
            gallery: "personal-set-10",
            imageCount: 14
        },
    {
            title: "25年3月汇总",
            date: "2025-03",
            image: "https://i.ibb.co/whwbxgWj/IMG-6089.png",
            desc: "25年3月直播等汇总照片",
            gallery: "personal-set-12",
            imageCount: 16
        },
        {
            title: "25年2月汇总",
            date: "2025-02",
            image: "https://i.ibb.co/QF5zY9Qn/IMG-6066.jpg",
            desc: "25年2月直播等汇总照片",
            gallery: "personal-set-13",
            imageCount: 29
        },
    {
            title: "24年12月汇总",
            date: "2024-12",
            image: "https://i.ibb.co/1GC1Vz12/IMG-7994.jpg",
            desc: "24年12月直播等汇总照片",
            gallery: "personal-set-15",
            imageCount: 17
        },
    {
            title: "24年11月汇总",
            date: "2024-11",
            image: "https://i.ibb.co/G48xjVfY/IMG-7993.jpg",
            desc: "24年11月直播等汇总照片",
            gallery: "personal-set-16",
            imageCount: 8
        },
    {
            title: "24年10月汇总",
            date: "2024-10",
            image: "https://i.ibb.co/7xp81X8B/IMG-7969.jpg",
            desc: "24年10月直播等汇总照片",
            gallery: "personal-set-17",
            imageCount: 13
        },
        {
            title: "24年9月汇总",
            date: "2024-09",
            image: "https://i.ibb.co/4nKMcht8/IMG-7951.jpg",
            desc: "24年9月直播等汇总照片",
            gallery: "personal-set-18",
            imageCount: 13
        },
        {
            title: "24年8月汇总",
            date: "2024-08",
            image: "https://i.ibb.co/Ng0qv9Fc/IMG-7938.jpg",
            desc: "24年8月直播等汇总照片",
            gallery: "personal-set-19",
            imageCount: 13
        },
        {
            title: "24年7月汇总",
            date: "2024-07",
            image: "https://i.ibb.co/wNW088jj/IMG-7917.jpg",
            desc: "24年7月直播等汇总照片",
            gallery: "personal-set-20",
            imageCount: 13
        },
        {
            title: "24年6月汇总",
            date: "2024-06",
            image: "https://i.ibb.co/mrx71PP1/IMG-7906.jpg",
            desc: "24年6月直播等汇总照片",
            gallery: "personal-set-21",
            imageCount: 13
        },
        {
            title: "24年5月汇总",
            date: "2024-05",
            image: "https://i.ibb.co/V0r169cW/IMG-7896.jpg",
            desc: "24年5月直播等汇总照片",
            gallery: "personal-set-22",
            imageCount: 8
        },
        {
            title: "23年汇总",
            date: "2023-12",
            image: "https://i.ibb.co/GQZtCkjZ/IMG-8066.jpg",
            desc: "23年直播等汇总照片",
            gallery: "personal-set-27",
            imageCount: 16
        }
      ],
      magazine: [
        {
          title: "Cosmo Korea杂志",
          date: "2026-01-13",
          image: "https://s2.loli.net/2026/01/25/sdg9ZGuFfJc5Y6N.jpg",
          desc: "封面/内页/相关图片",
          gallery: "magazine-set-1",
          imageCount: 5
        }
      ],
      "personal-mimu": [
        {
          title: "1月壁纸",
          date: "2025-12-30",
          image: "https://s2.loli.net/2026/01/25/pXZ5rdAtGcOe7a9.jpg",
          desc: "咪姆壁纸",
          gallery: "mimu-set-1",
          imageCount: 2
        },
        {
      title: "圣诞壁纸",
      date: "2025-12-25",
      image: "https://s2.loli.net/2026/01/25/c7q1LkihZWAe4Hp.jpg",
      desc: "圣诞特别壁纸",
      gallery: "mimu-set-2",
      imageCount: 2
    }
      ]
    };

    // 直拍视频数据
    const stageData = [
      {
        title: "왜요 왜요 왜 直拍",
        date: "2023-06-03",
        image: "https://s2.loli.net/2026/01/26/OnQfu6C2zLXZJEh.jpg",
        desc: "PLAVE Bamby - Why(플레이브 밤비 - 왜요 왜요 왜) Close-up Cam | Show! MusicCore",
        video: "https://streamable.com/e/eazv9t?autoplay=1&controls=1&muted=0",
        links: {
          youtube: "https://www.youtube.com/watch?v=Yo_eIeYYUp4"
        }
      },
      {
    title: "WAY 4 LUV 直拍",
    date: "2024-03-15",
    image: "https://s2.loli.net/2026/01/26/7zRfE68NhAGZl1v.jpg",
    desc: "PLAVE Bamby (플레이브 밤비) - WAY 4 LUV | MBC",
    video: "https://streamable.com/e/adl7he?autoplay=1&controls=1&muted=0",
    links: {
      youtube: "https://www.youtube.com/watch?v=IqX2FZ-5wnI&list=PLyyaQiJ4Eolxv0ljDwqP-zzBqGrv6PTCX&index=2"
    }
  },
  {
    title: "Dash 直拍（横版）",
    date: "2025-02-19",
    image: "https://s2.loli.net/2026/01/26/eWkQsITmjtBMDSh.jpg",
    desc: "PLAVE BAMBY (플레이브 밤비) – Dash | MBC",
    video: "https://streamable.com/e/bdkzs4?autoplay=1&controls=1&muted=0",
    links: {
      youtube: "https://www.youtube.com/watch?v=Zh_LEsavI3s&list=PLyyaQiJ4Eolxv0ljDwqP-zzBqGrv6PTCX&index=9"
    }
  },
  {
    title: "Dash 直拍（竖版）",
    date: "2025-02-19",
    image: "https://s2.loli.net/2026/01/26/7DWHXd4jOqLBYpJ.jpg",
    desc: "플레이브 밤비 직캠 4K 'Dash' (PLAVE BAMBY FanCam)",
    links: {
      youtube: "https://www.youtube.com/watch?v=kR32F9VemFg&list=PLyyaQiJ4Eolxv0ljDwqP-zzBqGrv6PTCX&index=3"
    }
  },
    ];

        // 衣柜展示数据
    const wardrobeData = [
      {
        id: 'outfit-1',
        title: '背带裤',
        description: '早期邪恶背带裤+后期鹿比+黑色背带裤',
        colors: [
          {
            id: 'blue',
            name: '蓝色',
            colorCode: '#A7C7E7',
            image: 'https://s2.loli.net/2026/01/29/HmrMRQVWL6Et8pG.png'
          },
          {
            id: 'blue',
            name: '蓝色',
            colorCode: '#A7C7E7',
            image: 'https://s2.loli.net/2026/01/29/OQhWA1zba7jXflS.png'
          },
          {
            id: 'black',
            name: '黑色',
            colorCode: '#333333',
            image: 'https://s2.loli.net/2026/01/29/AReMy5ECDmJtHih.png'
          }
        ]
      },
      {
        id: 'outfit-2',
        title: '出道服',
        description: 'wait for you舞台服装',
        colors: [
          {
            id: 'white',
            name: '白色',
            colorCode: '#FFFFFF',
            image: 'https://s2.loli.net/2026/01/29/fecyDVMX4OkKUdQ.png'
          },
          {
            id: 'black',
            name: '黑色',
            colorCode: '#333333',
            image: 'https://s2.loli.net/2026/01/29/bTdO87Jifm4Mr52.png'
          },
        ]
      },
      {
        id: 'outfit-3',
        title: '军装服',
        description: '演唱会舞台服装',
        colors: [
          {
            id: 'white',
            name: '白色',
            colorCode: '#FFFFFF',
            image: 'https://s2.loli.net/2026/01/27/VclTJdrhIGLit9p.png'
          },
          {
            id: 'black',
            name: '黑色',
            colorCode: '#333333',
            image: 'https://s2.loli.net/2026/01/27/FZ2RLa9qEG5sX7c.png'
          },
          {
            id: 'red',
            name: '红色',
            colorCode: '#FF6B6B',
            image: 'https://s2.loli.net/2026/01/27/YJyPVSqod5rj8BZ.png'
          },
          {
            id: 'red',
            name: '背面',
            colorCode: '#FF6B6B',
            image: 'https://s2.loli.net/2026/01/29/gfmyzuoAMKE5LGY.png'
          },
        ]
      },
      {
        id: 'outfit-4',
        title: '樱花',
        description: '小粉粉+小蓝蓝，短裤短裤我们喜欢你',
        colors: [
          {
            id: 'pink',
            name: '粉色',
            colorCode: '#FFE8F0',
            image: 'https://s2.loli.net/2026/01/29/TlxjXGSoC8rKzPa.png'
          },
          {
            id: 'blue',
            name: '蓝色',
            colorCode: '#A7C7E7',
            image: 'https://s2.loli.net/2026/01/29/mUVu5Ry6nsHWdJQ.png'
          }
        ]
      }
    ];

    // 行程数据
    const scheduleData = {
      upcoming: [
        {
          date: "2026-01-29",
          title: "💙💜💗 三人直播",
          type: "live",
          time: "19:00 (CST)",
          platform: "YouTube & B站同步",
          important: true
        }
      ],
      past: [
        {
          date: "2026-01-19",
          title: "❤️💗 双人WVS直播",
          type: "live",
          time: "19:00 (CST)",
          platform: "WVS直播"
        },
        {
          date: "2026-01-12",
          title: "💜💗 双人直播",
          type: "live",
          time: "19:00 (CST)",
          platform: "YouTube & B站同步"
        },
        {
          date: "2026-01-10",
          title: "💗 单人直播",
          type: "live",
          time: "11:50 (CST)",
          platform: "YouTube & B站同步"
        },
        {
          date: "2025-12-31",
          title: "🎤 2025 MBC歌谣大祭典",
          type: "performance",
          time: "19:50 (CST)",
          platform: "MBC电视台",
          important: true
        }
      ]
    };

    // ========== 二创作品数据 ==========
    const fanworksData = [
      {
        id: 'fanwork-1',
        title: '《Im Not Alone》',
        type: 'video',
        author: '@plave_official',
        date: '2025-07-19',
        image: 'https://s2.loli.net/2026/01/27/bnpUgqP1LfR2xSQ.jpg',
        desc: '非同人，仅做示例',
        link: 'https://www.bilibili.com/video/BV1Wou1z5EdA/?spm_id_from=333.1387.homepage.video_card.click&vd_source=e230dc6164ce954968003ee48cac6c1f',
        platform: 'B站'
      },
      
    ];

    
    // ========== 全局变量 ==========
    let currentGallery = null;
    let currentImageIndex = 0;
    let currentMonth = 0;
    let currentYear = 2026;
    let currentTheme = 'light';
    let fanworksInitialized = false;
    const monthFullNames = ["一月", "二月", "三月", "四月", "五月", "六月", "七月", "八月", "九月", "十月", "十一月", "十二月"];
    let isSnowing = false;
    let snowInterval = null;
    let floatingElements = []; // 存储飘落元素的数组

     // ========== 初始化应用 ==========
    document.addEventListener('DOMContentLoaded', function() {
      initApp();
      
      // 动态生成内容
      generateContent();
      
      // 初始化音乐播放器（但不自动播放）
      initMusicPlayer();

      // 生成衣柜展示
      generateWardrobeContent();

      // 添加二创初始化 - 确保DOM完全加载
      setTimeout(() => {
        initFanworks();
      }, 500);
    });

    function initApp() {
      // 隐藏加载动画
      setTimeout(() => {
        const loading = document.getElementById('loading');
        loading.style.opacity = '0';
        setTimeout(() => loading.style.display = 'none', 500);
      }, 1200);

    

      // 初始化各个功能模块
      initNavigation();
      initSubNavigation();
      initMaterialNavigation();
      initTheme();
      initSortControls();
      initScheduleNavigation();
      initScheduleFilters();
      
      // 设置初始月份为当前月份
      const today = new Date();
      currentYear = today.getFullYear();
      currentMonth = today.getMonth();
      
      initCalendar();
      initVideoPlayback();
      
      // 初始化粒子效果
      initParticleEffect();

      // 初始化交互功能
      initInteractiveFeatures();
      
      // 显示欢迎信息
      setTimeout(function() {
        showWelcomeMessage();
      }, 1200);

      // 修复移动端触摸问题
      fixMobileTouch();
    }

    // ========== 粒子效果 ==========
    function initParticleEffect() {
      // 为可点击元素添加粒子效果
      const clickableElements = document.querySelectorAll(
        '.nav-item, .sub-nav-btn, .sort-btn, .filter-btn, .channel-btn, .play-button, .mobile-control-btn'
      );
      
      clickableElements.forEach(el => {
        el.addEventListener('click', function(e) {
          createClickParticles(e);
        });
      });
      
      // 为整个文档添加点击粒子效果
      document.addEventListener('click', function(e) {
        // 排除一些不需要粒子效果的元素
        if (!e.target.closest('.work-image-container') && 
            !e.target.closest('.mobile-control-bar')) {
          createClickParticles(e);
        }
      });
    }
    
    function createClickParticles(e) {
      const x = e.clientX;
      const y = e.clientY;
      
      const particleCount = 8;
      const colors = ['#FFC2D6', '#FF9EBD', '#FF85B3', '#FF6B9E'];
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'click-particle';
        
        const size = Math.random() * 8 + 4;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const angle = (Math.PI * 2 * i) / particleCount;
        const distance = Math.random() * 40 + 20;
        const tx = Math.cos(angle) * distance;
        const ty = Math.sin(angle) * distance;
        
        particle.style.cssText = `
          position: fixed;
          left: ${x}px;
          top: ${y}px;
          width: ${size}px;
          height: ${size}px;
          background: ${color};
          border-radius: 50%;
          --tx: ${tx}px;
          --ty: ${ty}px;
          pointer-events: none;
          z-index: 9999;
          animation: particle-explode 0.6s ease-out forwards;
        `;
        
        document.body.appendChild(particle);
        
        setTimeout(() => {
          particle.remove();
        }, 600);
      }
    }

    // ========== 交互功能 ==========
    function initInteractiveFeatures() {
  // 飘落特效
  window.toggleSnow = function() {
    if (isSnowing) {
      stopSnow();
      showToast('飘落效果关闭');
    } else {
      startSnow();
      showToast('飘落效果开启');
    }
  };

      // 返回顶部
      window.scrollToTop = function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      };
    }

    // ========== 改进的飘落效果函数 ==========
    function startSnow() {
      isSnowing = true;
      const container = document.getElementById('snowContainer');
      container.innerHTML = '';
      container.style.display = 'block';
      floatingElements = [];
      
      const isMobile = window.innerWidth <= 768;
      const count = isMobile ? 12 : 20; // 减少数量，避免过多影响性能
      
      // 预加载图片
      const preloadedImages = [];
      floatingImages.forEach(src => {
        const img = new Image();
        img.src = src;
        preloadedImages.push(img);
      });
      
      for (let i = 0; i < count; i++) {
        createFloatingImage(container, i, preloadedImages);
      }
      
      // 每30秒重新生成一次飘落效果
      snowInterval = setInterval(() => {
        // 清理已经落到底部的元素
        cleanupFloatingElements();
        
        // 补充新的元素
        const currentCount = floatingElements.length;
        if (currentCount < count) {
          for (let i = currentCount; i < count; i++) {
            createFloatingImage(container, i, preloadedImages);
          }
        }
      }, 30000);
    }

    function createFloatingImage(container, index, preloadedImages) {
      const image = document.createElement('img');
      const imgIndex = Math.floor(Math.random() * preloadedImages.length);
      
      // 获取图片原始尺寸，保持比例
      const img = preloadedImages[imgIndex];
      const maxSize = window.innerWidth <= 768 ? 40 : 60;
      
      // 计算保持比例的尺寸
      let width, height;
      if (img.naturalWidth && img.naturalHeight) {
        const ratio = img.naturalWidth / img.naturalHeight;
        width = Math.min(maxSize, img.naturalWidth);
        height = width / ratio;
      } else {
        // 如果无法获取原始尺寸，使用默认值
        width = maxSize;
        height = width;
      }
      
      const startX = Math.random() * (window.innerWidth - width);
      const duration = Math.random() * 15 + 20; // 20-35秒
      const delay = Math.random() * 5;
      
      // 左右摆动的幅度
      const swayAmplitude = Math.random() * 40 + 20; // 20-60px
      const swayFrequency = Math.random() * 0.5 + 0.5; // 0.5-1.0
      
      image.src = img.src;
      image.style.cssText = `
        position: absolute;
        top: -${height}px;
        left: ${startX}px;
        width: ${width}px;
        height: ${height}px;
        opacity: ${Math.random() * 0.3 + 0.4};
        filter: drop-shadow(0 0 8px rgba(255, 194, 214, 0.5));
        pointer-events: none;
        user-select: none;
        z-index: 999;
        will-change: transform, opacity;
      `;
      
      // 使用CSS变量传递动画参数
      image.style.setProperty('--sway-amplitude', `${swayAmplitude}px`);
      image.style.setProperty('--sway-frequency', swayFrequency);
      image.style.setProperty('--duration', `${duration}s`);
      image.style.setProperty('--delay', `${delay}s`);
      
      // 使用自定义动画
      image.style.animation = `float-image-left-right var(--duration) linear var(--delay) infinite`;
      
      container.appendChild(image);
      floatingElements.push({
        element: image,
        startTime: Date.now() + delay * 1000,
        duration: duration * 1000
      });
      
      // 动画结束后重新创建
      setTimeout(() => {
        if (isSnowing && image.parentNode === container) {
          image.remove();
          const elementIndex = floatingElements.findIndex(el => el.element === image);
          if (elementIndex > -1) {
            floatingElements.splice(elementIndex, 1);
          }
          createFloatingImage(container, index, preloadedImages);
        }
      }, (duration + delay) * 1000);
    }

    function cleanupFloatingElements() {
      const now = Date.now();
      floatingElements = floatingElements.filter(item => {
        const elapsed = now - item.startTime;
        if (elapsed > item.duration + 5000) { // 5秒缓冲
          if (item.element.parentNode) {
            item.element.remove();
          }
          return false;
        }
        return true;
      });
    }

    function stopSnow() {
      isSnowing = false;
      const container = document.getElementById('snowContainer');
      container.innerHTML = '';
      container.style.display = 'none';
      floatingElements = [];
      if (snowInterval) {
        clearInterval(snowInterval);
        snowInterval = null;
      }
    }

    function generateContent() {
      // 生成翻唱作品
      const coversGrid = document.getElementById('covers-works-grid');
      if (coversGrid && coversData) {
        coversData.forEach(item => {
          coversGrid.appendChild(createWorkCard(item));
        });
      }
      
      // 生成翻跳作品
      const danceGrid = document.getElementById('dance-works-grid');
      if (danceGrid && danceData) {
        danceData.forEach(item => {
          danceGrid.appendChild(createWorkCard(item));
        });
      }

      // 生成直拍作品
      const stageGrid = document.getElementById('stage-works-grid');
      if (stageGrid && stageData) {
        stageData.forEach(item => {
          stageGrid.appendChild(createWorkCard(item));
        });
      }

      // 生成物料内容
      generateMaterialsContent();

      // 生成行程
      generateScheduleCards();
    }

    function generateMaterialsContent() {
      // 生成回归照
      const conceptGrid = document.getElementById('concept-works-grid');
      if (conceptGrid && materialsData.concept) {
        materialsData.concept.forEach(item => {
          conceptGrid.appendChild(createMaterialCard(item));
        });
      }

      // 生成官方照片
      const photosGrid = document.getElementById('photos-works-grid');
      if (photosGrid && materialsData.photos) {
        materialsData.photos.forEach(item => {
          photosGrid.appendChild(createMaterialCard(item));
        });
      }

      // 生成个人照
      const personalPhotosGrid = document.getElementById('personal-photos-works-grid');
      if (personalPhotosGrid && materialsData['personal-photos']) {
        materialsData['personal-photos'].forEach(item => {
          personalPhotosGrid.appendChild(createMaterialCard(item));
        });
      }

      // 生成杂志内容
      const magazineGrid = document.getElementById('magazine-works-grid');
      if (magazineGrid && materialsData.magazine) {
        materialsData.magazine.forEach(item => {
          magazineGrid.appendChild(createMaterialCard(item));
        });
      }

      // 生成咪姆照片
      const mimuGrid = document.getElementById('mimu-works-grid');
      if (mimuGrid && materialsData['personal-mimu']) {
        materialsData['personal-mimu'].forEach(item => {
          mimuGrid.appendChild(createMaterialCard(item));
        });
      }
    }

      function generateWardrobeContent() {
      const wardrobeContainer = document.getElementById('wardrobe-content');
      const colorPickerContainer = document.getElementById('color-picker-container');
      
      if (!wardrobeContainer || !wardrobeData) return;
      
      wardrobeContainer.innerHTML = '';
      colorPickerContainer.innerHTML = '';
      
      // 创建第一个服装的展示
      if (wardrobeData.length > 0) {
        const firstOutfit = wardrobeData[0];
        const firstColor = firstOutfit.colors[0];
        
        // 生成主展示卡
        wardrobeContainer.appendChild(createWardrobeItem(firstOutfit, firstColor));
        
        // 生成颜色选择器
        colorPickerContainer.appendChild(createColorPicker(firstOutfit));
      }
    }

    // ========== 衣柜功能 ==========
function switchOutfit(outfitId) {
  const outfit = wardrobeData.find(item => item.id === outfitId);
  if (!outfit) return;
  
  const wardrobeContainer = document.getElementById('wardrobe-content');
  const firstColor = outfit.colors[0];
  
  // 移除现有的衣柜展示
  wardrobeContainer.innerHTML = '';
  
  // 生成新的衣柜展示
  wardrobeContainer.appendChild(createWardrobeItem(outfit, firstColor));
}

function switchColor(outfitId, colorId, imageUrl, colorName, colorCode) {
  // 更新当前颜色指示器
  const currentColorElement = document.getElementById(`current-color-${outfitId}`);
  const colorNameElement = document.getElementById(`color-name-${outfitId}`);
  
  if (currentColorElement) {
    currentColorElement.style.backgroundColor = colorCode;
  }
  
  if (colorNameElement) {
    colorNameElement.textContent = colorName;
  }
  
  // 更新图片
  const wardrobeImage = document.getElementById(`wardrobe-image-${outfitId}`);
  if (wardrobeImage) {
    wardrobeImage.src = imageUrl;
    wardrobeImage.alt = `${document.querySelector(`#wardrobe-${outfitId} .wardrobe-title`).textContent} - ${colorName}`;
  }
  
  // 更新颜色点状态
  const colorDots = document.querySelectorAll(`#color-dots-${outfitId} .color-dot`);
  colorDots.forEach(dot => {
    if (dot.getAttribute('data-color-id') === colorId) {
      dot.classList.add('active');
    } else {
      dot.classList.remove('active');
    }
  });
  
  // 更新衣柜项的数据属性
  const wardrobeItem = document.getElementById(`wardrobe-${outfitId}`);
  if (wardrobeItem) {
    wardrobeItem.setAttribute('data-current-color', colorId);
  }
  
  showToast(`已切换到${colorName}款式`);
}
    
      function createWardrobeItem(outfit, selectedColor) {
      const item = document.createElement('div');
      item.className = 'wardrobe-item';
      item.id = `wardrobe-${outfit.id}`;
      item.setAttribute('data-outfit-id', outfit.id);
      item.setAttribute('data-current-color', selectedColor.id);
      
      item.innerHTML = `
        <div class="wardrobe-header">
          <h3 class="wardrobe-title">${outfit.title}</h3>
          <p class="wardrobe-desc">${outfit.description}</p>
        </div>
        <div class="wardrobe-image-container">
          <img src="${selectedColor.image}" alt="${outfit.title} - ${selectedColor.name}" class="wardrobe-image" id="wardrobe-image-${outfit.id}">
        </div>
        <div class="wardrobe-meta">
          <div class="wardrobe-colors">
            <span class="color-indicator">
              当前颜色: 
              <span class="current-color" id="current-color-${outfit.id}" style="background-color: ${selectedColor.colorCode};"></span>
              <span id="color-name-${outfit.id}">${selectedColor.name}</span>
            </span>
          </div>
          <div class="color-dots" id="color-dots-${outfit.id}">
            <!-- 颜色点将通过JavaScript动态添加 -->
          </div>
        </div>
      `;
          
      
      // 生成颜色点
      const colorDotsContainer = item.querySelector(`#color-dots-${outfit.id}`);
      outfit.colors.forEach((color, index) => {
        const colorDot = document.createElement('div');
        colorDot.className = `color-dot ${color.id === selectedColor.id ? 'active' : ''}`;
        colorDot.style.backgroundColor = color.colorCode;
        colorDot.setAttribute('data-color-id', color.id);
        colorDot.setAttribute('data-outfit-id', outfit.id);
        colorDot.setAttribute('data-image-url', color.image);
        colorDot.setAttribute('data-color-name', color.name);
        colorDot.setAttribute('data-color-code', color.colorCode);
        
        const colorName = document.createElement('span');
        colorName.className = 'color-name';
        colorName.textContent = color.name;
        colorDot.appendChild(colorName);
        
        colorDot.addEventListener('click', function() {
          switchColor(outfit.id, color.id, color.image, color.name, color.colorCode);
        });
        
        colorDotsContainer.appendChild(colorDot);
      });
      
      return item;
    }
    
        function generateWardrobeContent() {
      const wardrobeContainer = document.getElementById('wardrobe-content');
      const styleButtonsContainer = document.getElementById('style-buttons-container');
      
      if (!wardrobeContainer || !styleButtonsContainer || !wardrobeData) return;
      
      wardrobeContainer.innerHTML = '';
      styleButtonsContainer.innerHTML = '';
      
      // 生成服装款式选择按钮
      wardrobeData.forEach((outfit, index) => {
        const styleButton = document.createElement('button');
        styleButton.className = `style-button ${index === 0 ? 'active' : ''}`;
        styleButton.setAttribute('data-outfit-id', outfit.id);
        
        // 添加图标
        const icon = document.createElement('i');
        icon.className = 'fas fa-tshirt';
        styleButton.appendChild(icon);
        
        // 添加文本
        const text = document.createElement('span');
        text.textContent = outfit.title;
        styleButton.appendChild(text);
        
        // 添加颜色数量徽章
        const badge = document.createElement('span');
        badge.className = 'badge';
        badge.textContent = `${outfit.colors.length}色`;
        styleButton.appendChild(badge);
        
        styleButton.addEventListener('click', function() {
          // 移除所有按钮的active类
          document.querySelectorAll('.style-button').forEach(btn => {
            btn.classList.remove('active');
          });
          
          // 添加active类到当前按钮
          this.classList.add('active');
          
          // 切换服装展示
          switchOutfit(outfit.id);
        });
        
        styleButtonsContainer.appendChild(styleButton);
      });

      
      // 创建第一个服装的展示
      if (wardrobeData.length > 0) {
        const firstOutfit = wardrobeData[0];
        const firstColor = firstOutfit.colors[0];
        
        // 生成主展示卡
        wardrobeContainer.appendChild(createWardrobeItem(firstOutfit, firstColor));
      }
    }

    function createMaterialCard(data) {
      const card = document.createElement('div');
      card.className = 'work-card';
      card.setAttribute('data-date', data.date);
      card.setAttribute('data-title', data.title);
      
      card.innerHTML = `
        <div class="work-image-container" onclick="openImageGallery('${data.gallery}')">
          <img src="${data.image}" alt="${data.title}" class="work-image">
        </div>
        <div class="work-content">
          <h3 class="work-title">${data.title}</h3>
          <div class="work-meta">
            <span class="work-type">${data.date}</span>
            ${data.imageCount ? `<span class="work-type">${data.imageCount}张</span>` : ''}
          </div>
          <p class="work-desc">${data.desc}</p>
          <button class="channel-btn bilibili" style="width: 100%;" onclick="openImageGallery('${data.gallery}')">
            <i class="fas fa-images"></i>
            查看图片集 (${data.imageCount}张)
          </button>
        </div>
      `;
      
      return card;
    }

    function createWorkCard(data) {
      const card = document.createElement('div');
      card.className = 'work-card';
      card.setAttribute('data-date', data.date);
      card.setAttribute('data-title', data.title);
      
      const hasVideo = data.video ? true : false;
      
      card.innerHTML = `
        <div class="work-image-container" onclick="${hasVideo ? '' : `openImageGallery('${data.gallery || ''}')`}">
          <img src="${data.image}" alt="${data.title}" class="work-image">
          ${hasVideo ? `
            <div class="video-poster" style="background-image: url('${data.image}');">
              <div class="poster-overlay">
                <button class="play-button">
                  <i class="fas fa-play-circle"></i>
                </button>
                <div class="play-text">点击播放视频</div>
              </div>
            </div>
            <iframe data-src="${data.video}" frameborder="0" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
          ` : ''}
        </div>
        <div class="work-content">
          <h3 class="work-title">《${data.title}》</h3>
          <div class="work-meta">
            <span class="work-type">${data.date}</span>
          </div>
          <p class="work-desc">${data.desc}</p>
          <div class="channels-section">
            <h4>观看渠道</h4>
            <div class="channels-grid">
              ${data.links.weibo ? `<a href="${data.links.weibo}" target="_blank" class="channel-btn weibo"><i class="fab fa-weibo"></i>微博</a>` : ''}
              ${data.links.bilibili ? `<a href="${data.links.bilibili}" target="_blank" class="channel-btn bilibili"><span style="font-weight: bold;">B</span>站</a>` : ''}
              ${data.links.youtube ? `<a href="${data.links.youtube}" target="_blank" class="channel-btn youtube-link"><i class="fab fa-youtube"></i>YouTube</a>` : ''}
            </div>
          </div>
        </div>
      `;
      
      return card;
    }

    function generateScheduleCards() {
      // 生成近期行程
      const upcomingContainer = document.getElementById('upcoming-schedule');
      if (upcomingContainer && scheduleData.upcoming) {
        scheduleData.upcoming.forEach(event => {
          upcomingContainer.appendChild(createScheduleCard(event));
        });
      }

      // 生成过往记录
      const pastContainer = document.getElementById('past-schedule');
      if (pastContainer && scheduleData.past) {
        scheduleData.past.forEach(event => {
          pastContainer.appendChild(createScheduleCard(event, true));
        });
      }
    }

    function createScheduleCard(event, isPast = false) {
      const date = new Date(event.date);
      const card = document.createElement('div');
      card.className = `schedule-card ${isPast ? 'past' : ''} ${event.important ? 'important' : ''}`;
      card.setAttribute('data-type', event.type);
      
      card.innerHTML = `
        <div class="schedule-date">
          <div class="schedule-day">${date.getDate()}</div>
          <div class="schedule-month">${date.getMonth() + 1}月</div>
          <div class="schedule-year">${date.getFullYear()}</div>
        </div>
        <div class="schedule-content">
          <div style="display: flex; justify-content: space-between; align-items: flex-start;">
            <h3 class="schedule-title">${event.title}</h3>
            <span class="schedule-type ${event.type}">${event.type === 'live' ? '直播' : '演出'}</span>
          </div>
          <div class="schedule-meta">
            <span class="schedule-time"><i class="far fa-clock"></i> ${event.time}</span>
            <span class="schedule-platform">
              ${event.platform.includes('YouTube') ? '<i class="fab fa-youtube" style="color: #FF0000;"></i>' : ''}
              ${event.platform.includes('B站') ? '<i class="fab fa-bilibili" style="color: #FB7299; margin-left: 5px;"></i>' : ''}
              ${event.platform}
            </span>
          </div>
        </div>
      `;
      
      return card;
    }

    // ========== 图片查看器功能 ==========
    function openImageGallery(galleryId) {
      currentGallery = imageGalleries[galleryId];
      if (!currentGallery || currentGallery.length === 0) return;
      
      currentImageIndex = 0;
      updateImageViewer();
      document.getElementById('imageViewer').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function updateImageViewer() {
      if (!currentGallery || currentGallery.length === 0) return;
      
      const viewerImage = document.getElementById('viewerImage');
      const imageCounter = document.getElementById('imageCounter');
      
      viewerImage.src = currentGallery[currentImageIndex];
      imageCounter.textContent = `${currentImageIndex + 1} / ${currentGallery.length}`;
    }
    
    function nextImage() {
      if (!currentGallery) return;
      currentImageIndex = (currentImageIndex + 1) % currentGallery.length;
      updateImageViewer();
    }
    
    function prevImage() {
      if (!currentGallery) return;
      currentImageIndex = (currentImageIndex - 1 + currentGallery.length) % currentGallery.length;
      updateImageViewer();
    }
    
    function closeImageViewer() {
      document.getElementById('imageViewer').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    // ========== 排序功能 ==========
    function initSortControls() {
      const sortContainers = document.querySelectorAll('.sort-controls');
      
      sortContainers.forEach(container => {
        const sortButtons = container.querySelectorAll('.sort-btn');
        const gridId = container.id.replace('-sort-controls', '-works-grid');
        const worksGrid = document.getElementById(gridId);
        
        if (!worksGrid) return;
        
        sortButtons.forEach(button => {
          button.addEventListener('click', function() {
            sortButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');
            
            const sortMethod = this.getAttribute('data-sort');
            sortWorkCards(worksGrid, sortMethod);
          });
        });
      });
    }
    
    function sortWorkCards(grid, sortMethod) {
      const cards = Array.from(grid.querySelectorAll('.work-card'));
      
      cards.sort((a, b) => {
        const dateA = a.getAttribute('data-date');
        const dateB = b.getAttribute('data-date');
        const titleA = a.getAttribute('data-title').toLowerCase();
        const titleB = b.getAttribute('data-title').toLowerCase();
        
        switch(sortMethod) {
          case 'date-desc':
            return new Date(dateB) - new Date(dateA);
          case 'date-asc':
            return new Date(dateA) - new Date(dateB);
          case 'title-asc':
            return titleA.localeCompare(titleB);
          default:
            return 0;
        }
      });
      
      grid.innerHTML = '';
      cards.forEach(card => grid.appendChild(card));
    }
    
    // ========== 导航功能 ==========
    function initNavigation() {
      const navItems = document.querySelectorAll('.nav-item');
  navItems.forEach(function(item) {
    item.addEventListener('click', function(e) {
      e.preventDefault();
      navItems.forEach(function(nav) {
        nav.classList.remove('active');
      });
      this.classList.add('active');
      const tabId = this.getAttribute('href').substring(1);

       // 如果是二创标签，确保内容已加载
      if (tabId === 'fanworks') {
        // 延迟一点确保DOM已切换
        setTimeout(() => {
          if (!window.fanworksInitialized) {
            initFanworks();
            window.fanworksInitialized = true;
          }
        }, 300);
      }
      
      switchTab(tabId);
      history.pushState(null, null, this.getAttribute('href'));
        });
      });
      
      
      window.addEventListener('hashchange', handleHashChange);
      handleHashChange();
    }
    
    function initSubNavigation() {
      const subNavBtns = document.querySelectorAll('#anli .sub-nav-btn');
      const subSections = document.querySelectorAll('#anli .sub-section');
      
      subNavBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          subNavBtns.forEach(function(b) {
            b.classList.remove('active');
          });
          this.classList.add('active');
          subSections.forEach(function(section) {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
            }
          });
          setTimeout(function() {
            document.getElementById('anli').scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });
      });
    }
    
    function initMaterialNavigation() {
      const subNavBtns = document.querySelectorAll('#materials .sub-nav-btn');
      const subSections = document.querySelectorAll('#materials .sub-section');
      
      subNavBtns.forEach(function(btn) {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          subNavBtns.forEach(function(b) {
            b.classList.remove('active');
          });
          this.classList.add('active');
          subSections.forEach(function(section) {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
            }
          });
          setTimeout(function() {
            document.getElementById('materials').scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
          }, 100);
        });
      });
    }
    
    function handleHashChange() {
      const hash = window.location.hash.substring(1);
      if (hash) {
        const targetTab = document.querySelector('.nav-item[href="#' + hash + '"]');
        if (targetTab) {
          targetTab.click();
        }
      }
    }
    
    function switchTab(tabId) {
      document.querySelectorAll('.content-section').forEach(function(section) {
        section.classList.remove('active');
      });
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.add('active');
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        if (tabId === 'schedule') {
          setTimeout(() => {
            initCalendar();
          }, 100);
        }
      }
    }
    
    // ========== 主题切换 ==========
    function initTheme() {
      const savedTheme = localStorage.getItem('bamby-theme') || 'light';
      setTheme(savedTheme);
      
      window.toggleTheme = function() {
        const newTheme = currentTheme === 'light' ? 'dark' : 'light';
        setTheme(newTheme);
        localStorage.setItem('bamby-theme', newTheme);
        showToast(newTheme === 'dark' ? '深色模式开启' : '浅色模式开启');
      }
    }
    
    function setTheme(theme) {
      currentTheme = theme;
      document.documentElement.setAttribute('data-theme', theme);
    }

    // ========== 音乐播放器数据 ==========
    const playlist = [
      {
        title: "I'm Not Alone",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/27/bnpUgqP1LfR2xSQ.jpg", 
        url: "https://image2url.com/r2/default/audio/1769488066461-66d083fc-5858-4c83-9acb-3153691a8481.mp3"
      },
      {
        title: "The Little Prince",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/27/yMrgH5EzLiAXdeb.jpg",
        url: "https://image2url.com/r2/default/audio/1769518665181-895bcc33-47c9-4ba1-9ea6-82d27b5c5bfb.mp3" 
      },
      {
        title: "Pretender",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/25/gPZi4UANfMchabo.jpg",
        url: "https://image2url.com/r2/default/audio/1769518646944-09e7c55c-54bd-4deb-b978-5f09e1061d3c.mp3" 
      },
      {
        title: "十二月的奇迹",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/25/cAzshr4LtaSFpJe.jpg",
        url: "https://image2url.com/r2/default/audio/1769518619658-f96876da-c4bd-4d3e-9dbd-c73896771c13.mp3" 
      },
      {
        title: "Dangerously",
        artist: "NOAH/BAMBY",
        cover: "https://s2.loli.net/2026/01/25/cm13sfpCFGRla92.jpg",
        url: "https://image2url.com/r2/default/audio/1769518739821-fe7e15fa-862f-49a7-9f8c-04ef104345c9.mp3" 
      },
      {
        title: "Square",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/25/8zIxCUgi2YRvfOQ.jpg",
        url: "https://image2url.com/r2/default/audio/1769518588891-fe1f10ee-ccc6-47f2-ab5f-53844ee74a1f.mp3" 
      },
      {
        title: "I hope It's breeze",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/24/qK9YhEoGyVOnjQT.jpg",
        url: "https://image2url.com/r2/default/audio/1769518568495-4b4aa565-8101-4de2-9c3f-46fb54652505.mp3" 
      },
      {
        title: "Versace On The Floor",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/27/ELVGcexyrin5lKZ.jpg",
        url: "https://image2url.com/r2/default/audio/1769518531912-23100a26-e46a-4cbc-89e5-cd8dcbd2c9d8.mp3" 
      },
      {
        title: "事件的地平线",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/24/U1YnDTWBfkQOmNI.jpg",
        url: "https://image2url.com/r2/default/audio/1769518505320-81e305a6-002f-471a-9b7a-bf04d4d52d45.mp3" 
      },
      {
        title: "Can’t take my eyes off you",
        artist: "BAMBY",
        cover: "https://s2.loli.net/2026/01/27/tdj3a4k2JLqWTX9.jpg",
        url: "https://image2url.com/r2/default/audio/1769521458011-d035d045-53a1-4ab2-8806-67a2f690f77b.mp3" 
      }
      // 继续添加更多歌曲
    ];

    // ========== 音乐播放器变量 ==========
    let currentTrackIndex = 0;
    let isPlaying = false;
    let isShuffled = false;
    let originalPlaylist = [...playlist];
    let shuffledPlaylist = [];
    let audioPlayer = document.getElementById('bgmPlayer');

    // ========== 初始化音乐播放器 ==========
    function initMusicPlayer() {
      // 确保音频元素存在
      if (!audioPlayer) {
        audioPlayer = document.createElement('audio');
        audioPlayer.id = 'bgmPlayer';
        document.body.appendChild(audioPlayer);
      }
      
      // 首次打开时随机选择一首歌
      shufflePlaylist();
      currentTrackIndex = Math.floor(Math.random() * playlist.length);
      loadTrack(currentTrackIndex);
      
      // 设置音频事件监听器
      setupAudioListeners();
      
      // 生成播放列表
      renderPlaylist();
      
      // 恢复播放器状态
      const savedVolume = localStorage.getItem('bamby-volume');
      if (savedVolume) {
        audioPlayer.volume = parseFloat(savedVolume);
        updateVolumeBar();
      }
      
      const savedShuffle = localStorage.getItem('bamby-shuffle');
      if (savedShuffle === 'true') {
        toggleShuffle(true);
      }
    }

    // ========== 音乐播放器功能 ==========
    function openMusicPlayer() {
      document.getElementById('musicPlayerOverlay').classList.add('active');
      document.body.style.overflow = 'hidden';
      
      // 如果当前没有播放，自动播放
      if (!isPlaying) {
        togglePlay();
      }
    }

    function closeMusicPlayer() {
      document.getElementById('musicPlayerOverlay').classList.remove('active');
      document.body.style.overflow = '';
    }

    function loadTrack(index) {
      if (index < 0 || index >= playlist.length) return;
      
      currentTrackIndex = index;
      const track = playlist[index];
      
      // 更新UI
      document.getElementById('musicTitle').textContent = track.title;
      document.getElementById('musicArtist').textContent = track.artist;
      document.getElementById('musicCover').src = track.cover;
      
      // 设置音频源
      audioPlayer.src = track.url;
      audioPlayer.load();
      
      // 更新播放列表高亮
      updatePlaylistHighlight();
      
      // 如果是播放状态，开始播放
      if (isPlaying) {
        audioPlayer.play().catch(e => {
          console.log("播放失败:", e);
          showToast("无法播放音乐，请检查网络连接");
        });
      }
    }

    function togglePlay() {
      if (isPlaying) {
        audioPlayer.pause();
        document.getElementById('playIcon').className = 'fas fa-play';
        isPlaying = false;
      } else {
        audioPlayer.play().then(() => {
          document.getElementById('playIcon').className = 'fas fa-pause';
          isPlaying = true;
        }).catch(e => {
          console.log("播放失败:", e);
          showToast("无法播放音乐，请点击播放按钮重试");
        });
      }
    }

    function playNext() {
      if (isShuffled) {
        // 随机播放模式下，随机选择下一首
        let nextIndex;
        do {
          nextIndex = Math.floor(Math.random() * playlist.length);
        } while (nextIndex === currentTrackIndex && playlist.length > 1);
        currentTrackIndex = nextIndex;
      } else {
        // 顺序播放模式下，播放下一首
        currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
      }
      loadTrack(currentTrackIndex);
      
      if (isPlaying) {
        audioPlayer.play().catch(e => console.log("播放失败:", e));
      }
    }

    function playPrevious() {
      if (isShuffled) {
        // 随机播放模式下，随机选择上一首
        let prevIndex;
        do {
          prevIndex = Math.floor(Math.random() * playlist.length);
        } while (prevIndex === currentTrackIndex && playlist.length > 1);
        currentTrackIndex = prevIndex;
      } else {
        // 顺序播放模式下，播放上一首
        currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
      }
      loadTrack(currentTrackIndex);
      
      if (isPlaying) {
        audioPlayer.play().catch(e => console.log("播放失败:", e));
      }
    }

    function shufflePlaylist() {
      shuffledPlaylist = [...playlist];
      for (let i = shuffledPlaylist.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffledPlaylist[i], shuffledPlaylist[j]] = [shuffledPlaylist[j], shuffledPlaylist[i]];
      }
    }

    function toggleShuffle(forceState) {
      if (forceState !== undefined) {
        isShuffled = forceState;
      } else {
        isShuffled = !isShuffled;
      }
      
      const shuffleBtn = document.getElementById('shuffleBtn');
      if (isShuffled) {
        shuffleBtn.classList.add('active');
        shufflePlaylist();
      } else {
        shuffleBtn.classList.remove('active');
      }
      
      localStorage.setItem('bamby-shuffle', isShuffled.toString());
      showToast(isShuffled ? '随机播放已开启' : '随机播放已关闭');
    }

    function playTrackFromList(index) {
      loadTrack(index);
      if (!isPlaying) {
        togglePlay();
      }
    }

    // ========== 音频控制功能 ==========
    function setupAudioListeners() {
      // 更新播放进度
      audioPlayer.addEventListener('timeupdate', () => {
        const currentTime = audioPlayer.currentTime;
        const duration = audioPlayer.duration;
        
        if (duration) {
          const progressPercent = (currentTime / duration) * 100;
          document.getElementById('progressBar').style.width = `${progressPercent}%`;
          
          document.getElementById('currentTime').textContent = formatTime(currentTime);
          document.getElementById('duration').textContent = formatTime(duration);
        }
      });
      
      // 歌曲结束时播放下一首
      audioPlayer.addEventListener('ended', () => {
        playNext();
      });
      
      // 处理音频错误
      audioPlayer.addEventListener('error', () => {
        showToast('播放失败，请检查网络连接');
        playNext(); // 出错时自动跳到下一首
      });
    }

    function seekAudio(event) {
      const progressBar = event.currentTarget;
      const clickX = event.offsetX;
      const barWidth = progressBar.clientWidth;
      const seekPercent = clickX / barWidth;
      
      if (audioPlayer.duration) {
        audioPlayer.currentTime = audioPlayer.duration * seekPercent;
      }
    }

    function adjustVolume(event) {
      const volumeSlider = event.currentTarget;
      const clickX = event.offsetX;
      const barWidth = volumeSlider.clientWidth;
      const volumePercent = clickX / barWidth;
      
      audioPlayer.volume = Math.max(0, Math.min(1, volumePercent));
      localStorage.setItem('bamby-volume', audioPlayer.volume.toString());
      updateVolumeBar();
    }

    function updateVolumeBar() {
      const volumePercent = audioPlayer.volume * 100;
      document.getElementById('volumeBar').style.width = `${volumePercent}%`;
    }

    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, '0')}`;
    }

    // ========== 播放列表渲染 ==========
    function renderPlaylist() {
      const playlistContainer = document.getElementById('playlistItems');
      playlistContainer.innerHTML = '';
      
      playlist.forEach((track, index) => {
        const item = document.createElement('div');
        item.className = `music-player-playlist-item ${index === currentTrackIndex ? 'active' : ''}`;
        item.onclick = () => playTrackFromList(index);
        
        item.innerHTML = `
          <div class="music-player-playlist-item-index">${index + 1}</div>
          <div class="music-player-playlist-item-info">
            <div class="music-player-playlist-item-title">${track.title}</div>
            <div class="music-player-playlist-item-artist">${track.artist}</div>
          </div>
        `;
        
        playlistContainer.appendChild(item);
      });
    }

    function updatePlaylistHighlight() {
      const items = document.querySelectorAll('.music-player-playlist-item');
      items.forEach((item, index) => {
        if (index === currentTrackIndex) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });
    }

    
    // ========== 欢迎信息 ==========
    function showWelcomeMessage() {
      const hour = new Date().getHours();
      let greeting = '';
      if (hour < 6) greeting = '深夜好';
      else if (hour < 12) greeting = '早上好';
      else if (hour < 18) greeting = '下午好';
      else greeting = '晚上好';
      showToast(greeting + '，亲爱的bamline成员', 3000);
    }
    
    // ========== Toast消息提示 ==========
    function showToast(message, duration) {
      duration = duration || 2000;
      const existingToast = document.querySelector('.toast-message');
      if (existingToast) existingToast.remove();
      const toast = document.createElement('div');
      toast.className = 'toast-message';
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(function() {
        toast.classList.add('show');
      }, 10);
      setTimeout(function() {
        toast.classList.remove('show');
        setTimeout(function() {
          toast.remove();
        }, 300);
      }, duration);
    }
    
    // 动态添加Toast样式
    const dynamicStyles = document.createElement('style');
    dynamicStyles.textContent = '.toast-message {' +
      'position: fixed;' +
      'top: 24px;' +
      'left: 50%;' +
      'transform: translateX(-50%) translateY(-20px);' +
      'background: var(--color-gray-800);' +
      'color: var(--color-white);' +
      'padding: 12px 24px;' +
      'border-radius: var(--radius-md);' +
      'box-shadow: var(--shadow-lg);' +
      'z-index: 9999;' +
      'opacity: 0;' +
      'transition: all 0.3s;' +
      'max-width: 80%;' +
      'text-align: center;' +
      'pointer-events: none;' +
      '}' +
      '.toast-message.show {' +
      'opacity: 1;' +
      'transform: translateX(-50%) translateY(0);' +
      '}';
    document.head.appendChild(dynamicStyles);
    
    // ========== 日历功能 ==========
    function initCalendar() {
      updateCalendarTitle();
      renderCalendar();
      setupCalendarNavigation();
    }
    
    function updateCalendarTitle() {
      const titleElement = document.getElementById('monthTitle');
      if (titleElement) {
        titleElement.textContent = `${currentYear}年 ${monthFullNames[currentMonth]}`;
      }
    }
    
    function goToPreviousMonth() {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      updateCalendar();
    }
    
    function goToNextMonth() {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      updateCalendar();
    }
    
    function renderCalendar() {
      const calendarGrid = document.getElementById('calendarGrid');
      if (!calendarGrid) return;
      
      calendarGrid.innerHTML = '';
      
      const daysOfWeek = ['日', '一', '二', '三', '四', '五', '六'];
      daysOfWeek.forEach(day => {
        const dayHeader = document.createElement('div');
        dayHeader.className = 'calendar-day-header';
        dayHeader.textContent = day;
        calendarGrid.appendChild(dayHeader);
      });
      
      const firstDay = new Date(currentYear, currentMonth, 1);
      const lastDay = new Date(currentYear, currentMonth + 1, 0);
      const daysInMonth = lastDay.getDate();
      const startingDay = firstDay.getDay();
      
      for (let i = 0; i < startingDay; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyCell);
      }
      
      const today = new Date();
      
      for (let day = 1; day <= daysInMonth; day++) {
        const dayCell = document.createElement('div');
        dayCell.className = 'calendar-day';
        dayCell.textContent = day;
        dayCell.style.position = 'relative';
        
        if (currentYear === today.getFullYear() && 
            currentMonth === today.getMonth() && 
            day === today.getDate()) {
          dayCell.classList.add('today');
        }
        
        const hasEvent = checkDayHasEvent(day);
        if (hasEvent) {
          dayCell.classList.add('has-event');
          
          const eventDot = document.createElement('span');
          eventDot.className = 'event-dot';
          eventDot.style.cssText = 'position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%); width: 6px; height: 6px; background: #FF6B6B; border-radius: 50%;';
          dayCell.appendChild(eventDot);
        }
        
        dayCell.addEventListener('click', function() {
          showDayEvents(day);
        });
        
        calendarGrid.appendChild(dayCell);
      }
      
      const totalCells = startingDay + daysInMonth;
      const rowsNeeded = Math.ceil(totalCells / 7);
      const totalCellsNeeded = rowsNeeded * 7;
      
      for (let i = totalCells; i < totalCellsNeeded; i++) {
        const emptyCell = document.createElement('div');
        emptyCell.className = 'calendar-day empty';
        calendarGrid.appendChild(emptyCell);
      }
    }
    
    function checkDayHasEvent(day) {
      const events = {
        '2026-1-29': '💙💜💗 三人直播',
        '2026-1-19': '❤️💗 双人WVS直播',
        '2026-1-12': '💜💗 双人直播',
        '2026-1-10': '💗 单人直播',
        '2025-12-31': '🎤 2025 MBC歌谣大祭典'
      };
      
      const key = `${currentYear}-${currentMonth + 1}-${day}`;
      return events.hasOwnProperty(key);
    }
    
    function showDayEvents(day) {
      const events = {
        '2026-1-29': '💙💜💗  (19:00 CST)',
        '2026-1-19': '❤️💗  (11:50 CST)',
        '2026-1-12': '💜💗  (19:00 CST)',
        '2026-1-10': '💗 (19:00 CST)',
        '2025-12-31': '🎤 2025 MBC歌谣大祭典 (19:50 CST, MBC电视台)'
      };
      
      const key = `${currentYear}-${currentMonth + 1}-${day}`;
      if (events[key]) {
        showToast(`${currentYear}年${currentMonth + 1}月${day}日: ${events[key]}`, 5000);
      } else {
        showToast(`${currentYear}年${currentMonth + 1}月${day}日没有安排活动`, 3000);
      }
    }
    
    function setupCalendarNavigation() {
      const prevBtn = document.getElementById('prevMonth');
      const nextBtn = document.getElementById('nextMonth');
      
      if (prevBtn) {
        prevBtn.addEventListener('click', goToPreviousMonth);
      }
      
      if (nextBtn) {
        nextBtn.addEventListener('click', goToNextMonth);
      }
    }
    
    function updateCalendar() {
      updateCalendarTitle();
      renderCalendar();
    }
    
    // ========== 行程导航 ==========
    function initScheduleNavigation() {
      const subNavBtns = document.querySelectorAll('#schedule .sub-nav-btn');
      const subSections = document.querySelectorAll('#schedule .sub-section');
      
      subNavBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const subtab = this.getAttribute('data-subtab');
          
          subNavBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          subSections.forEach(section => {
            section.classList.remove('active');
            if (section.getAttribute('data-subtab') === subtab) {
              section.classList.add('active');
              
              if (subtab === 'monthly') {
                setTimeout(() => {
                  const today = new Date();
                  currentYear = today.getFullYear();
                  currentMonth = today.getMonth();
                  updateCalendar();
                }, 50);
              }
            }
          });
        });
      });
    }
    
    // ========== 行程筛选 ==========
    function initScheduleFilters() {
      const subSections = document.querySelectorAll('#schedule .sub-section');
      subSections.forEach(section => {
        bindFilterEventsForSection(section);
      });
    }
    
    function bindFilterEventsForSection(section) {
      const filterBtns = section.querySelectorAll('.filter-btn');
      const scheduleCards = section.querySelectorAll('.schedule-card');
      
      filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
          const filter = this.getAttribute('data-filter');
          
          filterBtns.forEach(b => b.classList.remove('active'));
          this.classList.add('active');
          
          scheduleCards.forEach(card => {
            const type = card.getAttribute('data-type');
            if (filter === 'all' || type === filter) {
              card.style.display = 'flex';
            } else {
              card.style.display = 'none';
            }
          });
        });
      });
    }

    // ========== 二创功能初始化 ==========
    function initFanworks() {
      generateFanworks();
      initFanworksFilter();
    }

    function generateFanworks() {
      const fanworksGrid = document.getElementById('fanworks-grid');
      if (!fanworksGrid || !fanworksData) return;
      
      fanworksGrid.innerHTML = '';
      
      fanworksData.forEach(fanwork => {
        fanworksGrid.appendChild(createFanworkCard(fanwork));
      });
      
    }

    function createFanworkCard(fanwork) {
      const card = document.createElement('div');
      card.className = 'fanwork-card';
      card.setAttribute('data-type', fanwork.type);
      card.setAttribute('data-id', fanwork.id);
      
      // 类型对应中文
      const typeText = {
        illustration: '插画',
        video: '剪辑',
        writing: '写作',
        other: '其他'
      }[fanwork.type] || '其他';
      
      // 平台图标
      const platformIcons = {
        '微博': 'fab fa-weibo',
        'B站': 'fas fa-b',
        'Lofter': 'fas fa-leaf',
        'YouTube': 'fab fa-youtube',
        'Twitter': 'fab fa-twitter',
        '知乎': 'fas fa-question-circle'
      };
      
      const platformIcon = platformIcons[fanwork.platform] || 'fas fa-external-link-alt';
      
      // 使用默认图片或占位图
      const imageUrl = fanwork.image || 'https://via.placeholder.com/300x180?text=BAMBY二创';
      
      card.innerHTML = `
        <div class="fanwork-image">
          <img src="${imageUrl}" alt="${fanwork.title}" onerror="this.src='https://via.placeholder.com/300x180?text=BAMBY二创'">
          <span class="fanwork-type">${typeText}</span>
        </div>
        <div class="fanwork-content">
          <h3 class="fanwork-title">${fanwork.title}</h3>
          <p class="fanwork-desc">${fanwork.desc}</p>
          <div class="fanwork-meta">
            <span class="fanwork-author">
              <i class="fas fa-user-pen"></i> ${fanwork.author}
            </span>
            <a href="${fanwork.link}" target="_blank" class="fanwork-link" onclick="trackFanworkClick('${fanwork.id}')">
              原作指路 <i class="fas fa-arrow-right"></i>
            </a>
          </div>
        </div>
      `;
      
      return card;
    }

    function initFanworksFilter() {
      const filterButtons = document.querySelectorAll('#fanworks .sub-nav-btn');
      
      if (!filterButtons.length) return;
      
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          const filterType = this.getAttribute('data-fanwork-type');
          
          // 更新按钮状态
          filterButtons.forEach(btn => btn.classList.remove('active'));
          this.classList.add('active');
          
          // 获取所有卡片
          const fanworkCards = document.querySelectorAll('#fanworks .fanwork-card');
          
          // 筛选显示
          let visibleCount = 0;
          fanworkCards.forEach(card => {
            const cardType = card.getAttribute('data-type');
            if (filterType === 'all' || cardType === filterType) {
              card.style.display = 'flex';
              visibleCount++;
            } else {
              card.style.display = 'none';
            }
          });
          
          // 显示筛选结果
          showToast(`已筛选出 ${visibleCount} 个作品`);
        });
      });
    }

    function trackFanworkClick(id) {
      // 可以在这里添加点击追踪代码
      console.log(`二创作品被点击: ${id}`);
      showToast('正在跳转到作品页面...', 1500);
    }

    
    // ========== 视频播放功能 ==========
    function initVideoPlayback() {
      // 事件委托处理视频播放
      document.addEventListener('click', function(e) {
        if (e.target.closest('.play-button') || e.target.closest('.video-poster')) {
          const button = e.target.closest('.play-button') || e.target.closest('.video-poster');
          handleVideoPlay(button);
        }
      });
    }
    
    function handleVideoPlay(element) {
      const videoWrapper = element.closest('.video-wrapper');
      if (!videoWrapper) return;
      
      const iframe = videoWrapper.querySelector('iframe');
      if (!iframe) return;
      
      const poster = videoWrapper.querySelector('.video-poster');
      if (poster) {
        poster.classList.add('hidden');
      }
      
      videoWrapper.classList.add('playing');
      
      const videoSrc = iframe.getAttribute('data-src');
      if (videoSrc && !iframe.src) {
        iframe.src = videoSrc;
      } else if (iframe.src) {
        iframe.contentWindow.postMessage('{"method":"play"}', '*');
      }
      
      const videoCard = videoWrapper.closest('.work-card');
      if (videoCard) {
        const title = videoCard.querySelector('.work-title');
        if (title) {
          showToast(`正在播放: ${title.textContent}`, 2000);
        }
      }
    }
    
    // ========== 修复移动端触摸 ==========
    function fixMobileTouch() {
      let lastTouchEnd = 0;
      document.addEventListener('touchend', function(event) {
        const now = (new Date()).getTime();
        if (now - lastTouchEnd <= 300) {
          event.preventDefault();
        }
        lastTouchEnd = now;
      }, false);

  
      document.addEventListener('touchstart', function() {}, true);
    }

    // ========== 键盘快捷键支持 ==========
    document.addEventListener('keydown', function(e) {
      const viewer = document.getElementById('imageViewer');
      if (!viewer.classList.contains('active')) return;
      
      if (e.key === 'Escape') {
        closeImageViewer();
      } else if (e.key === 'ArrowRight') {
        nextImage();
      } else if (e.key === 'ArrowLeft') {
        prevImage();
      }
    });
 
  </script>
</body>
</html>
